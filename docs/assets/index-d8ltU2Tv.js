var Tf=Object.defineProperty;var kf=(e,t,i)=>t in e?Tf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var Fh=(e,t,i)=>kf(e,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}})();/**
* @vue/shared v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ja(e,t){const i=new Set(e.split(","));return s=>i.has(s)}const Bt={},Es=[],Re=()=>{},Of=()=>!1,Lr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Qa=e=>e.startsWith("onUpdate:"),jt=Object.assign,th=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},Mf=Object.prototype.hasOwnProperty,it=(e,t)=>Mf.call(e,t),Z=Array.isArray,rn=e=>Ar(e)==="[object Map]",Lf=e=>Ar(e)==="[object Set]",Q=e=>typeof e=="function",Vt=e=>typeof e=="string",Ds=e=>typeof e=="symbol",$t=e=>e!==null&&typeof e=="object",ku=e=>($t(e)||Q(e))&&Q(e.then)&&Q(e.catch),Af=Object.prototype.toString,Ar=e=>Af.call(e),If=e=>Ar(e).slice(8,-1),Df=e=>Ar(e)==="[object Object]",eh=e=>Vt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,on=Ja(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ir=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},$f=/-(\w)/g,ks=Ir(e=>e.replace($f,(t,i)=>i?i.toUpperCase():"")),Wf=/\B([A-Z])/g,$s=Ir(e=>e.replace(Wf,"-$1").toLowerCase()),Ou=Ir(e=>e.charAt(0).toUpperCase()+e.slice(1)),so=Ir(e=>e?`on${Ou(e)}`:""),ss=(e,t)=>!Object.is(e,t),no=(e,...t)=>{for(let i=0;i<e.length;i++)e[i](...t)},Mu=(e,t,i,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:i})},Ff=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Hh;const Lu=()=>Hh||(Hh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ih(e){if(Z(e)){const t={};for(let i=0;i<e.length;i++){const s=e[i],n=Vt(s)?jf(s):ih(s);if(n)for(const r in n)t[r]=n[r]}return t}else if(Vt(e)||$t(e))return e}const Hf=/;(?![^(]*\))/g,Nf=/:([^]+)/,zf=/\/\*[^]*?\*\//g;function jf(e){const t={};return e.replace(zf,"").split(Hf).forEach(i=>{if(i){const s=i.split(Nf);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function sh(e){let t="";if(Vt(e))t=e;else if(Z(e))for(let i=0;i<e.length;i++){const s=sh(e[i]);s&&(t+=s+" ")}else if($t(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}const Uf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Gf=Ja(Uf);function Au(e){return!!e||e===""}/**
* @vue/reactivity v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Te;class Vf{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Te,!t&&Te&&(this.index=(Te.scopes||(Te.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const i=Te;try{return Te=this,t()}finally{Te=i}}}on(){Te=this}off(){Te=this.parent}stop(t){if(this._active){let i,s;for(i=0,s=this.effects.length;i<s;i++)this.effects[i].stop();for(i=0,s=this.cleanups.length;i<s;i++)this.cleanups[i]();if(this.scopes)for(i=0,s=this.scopes.length;i<s;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function Yf(e,t=Te){t&&t.active&&t.effects.push(e)}function Kf(){return Te}let ts;class nh{constructor(t,i,s,n){this.fn=t,this.trigger=i,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Yf(this,n)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Ii();for(let t=0;t<this._depsLength;t++){const i=this.deps[t];if(i.computed&&(Xf(i.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Di()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Pi,i=ts;try{return Pi=!0,ts=this,this._runnings++,Nh(this),this.fn()}finally{zh(this),this._runnings--,ts=i,Pi=t}}stop(){this.active&&(Nh(this),zh(this),this.onStop&&this.onStop(),this.active=!1)}}function Xf(e){return e.value}function Nh(e){e._trackId++,e._depsLength=0}function zh(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Iu(e.deps[t],e);e.deps.length=e._depsLength}}function Iu(e,t){const i=e.get(t);i!==void 0&&t._trackId!==i&&(e.delete(t),e.size===0&&e.cleanup())}let Pi=!0,ya=0;const Du=[];function Ii(){Du.push(Pi),Pi=!1}function Di(){const e=Du.pop();Pi=e===void 0?!0:e}function rh(){ya++}function oh(){for(ya--;!ya&&ma.length;)ma.shift()()}function $u(e,t,i){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&Iu(s,e),e.deps[e._depsLength++]=t):e._depsLength++}}const ma=[];function Wu(e,t,i){rh();for(const s of e.keys()){let n;s._dirtyLevel<t&&(n??(n=e.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(n??(n=e.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&ma.push(s.scheduler)))}oh()}const Fu=(e,t)=>{const i=new Map;return i.cleanup=e,i.computed=t,i},wa=new WeakMap,es=Symbol(""),xa=Symbol("");function ae(e,t,i){if(Pi&&ts){let s=wa.get(e);s||wa.set(e,s=new Map);let n=s.get(i);n||s.set(i,n=Fu(()=>s.delete(i))),$u(ts,n)}}function di(e,t,i,s,n,r){const o=wa.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(i==="length"&&Z(e)){const h=Number(s);o.forEach((l,c)=>{(c==="length"||!Ds(c)&&c>=h)&&a.push(l)})}else switch(i!==void 0&&a.push(o.get(i)),t){case"add":Z(e)?eh(i)&&a.push(o.get("length")):(a.push(o.get(es)),rn(e)&&a.push(o.get(xa)));break;case"delete":Z(e)||(a.push(o.get(es)),rn(e)&&a.push(o.get(xa)));break;case"set":rn(e)&&a.push(o.get(es));break}rh();for(const h of a)h&&Wu(h,4);oh()}const qf=Ja("__proto__,__v_isRef,__isVue"),Hu=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ds)),jh=Zf();function Zf(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...i){const s=yt(this);for(let r=0,o=this.length;r<o;r++)ae(s,"get",r+"");const n=s[t](...i);return n===-1||n===!1?s[t](...i.map(yt)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...i){Ii(),rh();const s=yt(this)[t].apply(this,i);return oh(),Di(),s}}),e}function Jf(e){Ds(e)||(e=String(e));const t=yt(this);return ae(t,"has",e),t.hasOwnProperty(e)}class Nu{constructor(t=!1,i=!1){this._isReadonly=t,this._isShallow=i}get(t,i,s){const n=this._isReadonly,r=this._isShallow;if(i==="__v_isReactive")return!n;if(i==="__v_isReadonly")return n;if(i==="__v_isShallow")return r;if(i==="__v_raw")return s===(n?r?u_:Gu:r?Uu:ju).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=Z(t);if(!n){if(o&&it(jh,i))return Reflect.get(jh,i,s);if(i==="hasOwnProperty")return Jf}const a=Reflect.get(t,i,s);return(Ds(i)?Hu.has(i):qf(i))||(n||ae(t,"get",i),r)?a:fe(a)?o&&eh(i)?a:a.value:$t(a)?n?Vu(a):lh(a):a}}class zu extends Nu{constructor(t=!1){super(!1,t)}set(t,i,s,n){let r=t[i];if(!this._isShallow){const h=vr(r);if(!ba(s)&&!vr(s)&&(r=yt(r),s=yt(s)),!Z(t)&&fe(r)&&!fe(s))return h?!1:(r.value=s,!0)}const o=Z(t)&&eh(i)?Number(i)<t.length:it(t,i),a=Reflect.set(t,i,s,n);return t===yt(n)&&(o?ss(s,r)&&di(t,"set",i,s):di(t,"add",i,s)),a}deleteProperty(t,i){const s=it(t,i);t[i];const n=Reflect.deleteProperty(t,i);return n&&s&&di(t,"delete",i,void 0),n}has(t,i){const s=Reflect.has(t,i);return(!Ds(i)||!Hu.has(i))&&ae(t,"has",i),s}ownKeys(t){return ae(t,"iterate",Z(t)?"length":es),Reflect.ownKeys(t)}}class Qf extends Nu{constructor(t=!1){super(!0,t)}set(t,i){return!0}deleteProperty(t,i){return!0}}const t_=new zu,e_=new Qf,i_=new zu(!0);const ah=e=>e,Dr=e=>Reflect.getPrototypeOf(e);function Hn(e,t,i=!1,s=!1){e=e.__v_raw;const n=yt(e),r=yt(t);i||(ss(t,r)&&ae(n,"get",t),ae(n,"get",r));const{has:o}=Dr(n),a=s?ah:i?dh:uh;if(o.call(n,t))return a(e.get(t));if(o.call(n,r))return a(e.get(r));e!==n&&e.get(t)}function Nn(e,t=!1){const i=this.__v_raw,s=yt(i),n=yt(e);return t||(ss(e,n)&&ae(s,"has",e),ae(s,"has",n)),e===n?i.has(e):i.has(e)||i.has(n)}function zn(e,t=!1){return e=e.__v_raw,!t&&ae(yt(e),"iterate",es),Reflect.get(e,"size",e)}function Uh(e){e=yt(e);const t=yt(this);return Dr(t).has.call(t,e)||(t.add(e),di(t,"add",e,e)),this}function Gh(e,t){t=yt(t);const i=yt(this),{has:s,get:n}=Dr(i);let r=s.call(i,e);r||(e=yt(e),r=s.call(i,e));const o=n.call(i,e);return i.set(e,t),r?ss(t,o)&&di(i,"set",e,t):di(i,"add",e,t),this}function Vh(e){const t=yt(this),{has:i,get:s}=Dr(t);let n=i.call(t,e);n||(e=yt(e),n=i.call(t,e)),s&&s.call(t,e);const r=t.delete(e);return n&&di(t,"delete",e,void 0),r}function Yh(){const e=yt(this),t=e.size!==0,i=e.clear();return t&&di(e,"clear",void 0,void 0),i}function jn(e,t){return function(s,n){const r=this,o=r.__v_raw,a=yt(o),h=t?ah:e?dh:uh;return!e&&ae(a,"iterate",es),o.forEach((l,c)=>s.call(n,h(l),h(c),r))}}function Un(e,t,i){return function(...s){const n=this.__v_raw,r=yt(n),o=rn(r),a=e==="entries"||e===Symbol.iterator&&o,h=e==="keys"&&o,l=n[e](...s),c=i?ah:t?dh:uh;return!t&&ae(r,"iterate",h?xa:es),{next(){const{value:_,done:f}=l.next();return f?{value:_,done:f}:{value:a?[c(_[0]),c(_[1])]:c(_),done:f}},[Symbol.iterator](){return this}}}}function xi(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function s_(){const e={get(r){return Hn(this,r)},get size(){return zn(this)},has:Nn,add:Uh,set:Gh,delete:Vh,clear:Yh,forEach:jn(!1,!1)},t={get(r){return Hn(this,r,!1,!0)},get size(){return zn(this)},has:Nn,add:Uh,set:Gh,delete:Vh,clear:Yh,forEach:jn(!1,!0)},i={get(r){return Hn(this,r,!0)},get size(){return zn(this,!0)},has(r){return Nn.call(this,r,!0)},add:xi("add"),set:xi("set"),delete:xi("delete"),clear:xi("clear"),forEach:jn(!0,!1)},s={get(r){return Hn(this,r,!0,!0)},get size(){return zn(this,!0)},has(r){return Nn.call(this,r,!0)},add:xi("add"),set:xi("set"),delete:xi("delete"),clear:xi("clear"),forEach:jn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=Un(r,!1,!1),i[r]=Un(r,!0,!1),t[r]=Un(r,!1,!0),s[r]=Un(r,!0,!0)}),[e,i,t,s]}const[n_,r_,o_,a_]=s_();function hh(e,t){const i=t?e?a_:o_:e?r_:n_;return(s,n,r)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?s:Reflect.get(it(i,n)&&n in s?i:s,n,r)}const h_={get:hh(!1,!1)},l_={get:hh(!1,!0)},c_={get:hh(!0,!1)};const ju=new WeakMap,Uu=new WeakMap,Gu=new WeakMap,u_=new WeakMap;function d_(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function f_(e){return e.__v_skip||!Object.isExtensible(e)?0:d_(If(e))}function lh(e){return vr(e)?e:ch(e,!1,t_,h_,ju)}function __(e){return ch(e,!1,i_,l_,Uu)}function Vu(e){return ch(e,!0,e_,c_,Gu)}function ch(e,t,i,s,n){if(!$t(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=n.get(e);if(r)return r;const o=f_(e);if(o===0)return e;const a=new Proxy(e,o===2?s:i);return n.set(e,a),a}function an(e){return vr(e)?an(e.__v_raw):!!(e&&e.__v_isReactive)}function vr(e){return!!(e&&e.__v_isReadonly)}function ba(e){return!!(e&&e.__v_isShallow)}function Yu(e){return e?!!e.__v_raw:!1}function yt(e){const t=e&&e.__v_raw;return t?yt(t):e}function p_(e){return Object.isExtensible(e)&&Mu(e,"__v_skip",!0),e}const uh=e=>$t(e)?lh(e):e,dh=e=>$t(e)?Vu(e):e;class Ku{constructor(t,i,s,n){this.getter=t,this._setter=i,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new nh(()=>t(this._value),()=>ro(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=s}get value(){const t=yt(this);return(!t._cacheable||t.effect.dirty)&&ss(t._value,t._value=t.effect.run())&&ro(t,4),y_(t),t.effect._dirtyLevel>=2&&ro(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function g_(e,t,i=!1){let s,n;const r=Q(e);return r?(s=e,n=Re):(s=e.get,n=e.set),new Ku(s,n,r||!n,i)}function y_(e){var t;Pi&&ts&&(e=yt(e),$u(ts,(t=e.dep)!=null?t:e.dep=Fu(()=>e.dep=void 0,e instanceof Ku?e:void 0)))}function ro(e,t=4,i,s){e=yt(e);const n=e.dep;n&&Wu(n,t)}function fe(e){return!!(e&&e.__v_isRef===!0)}function m_(e){return fe(e)?e.value:e}const w_={get:(e,t,i)=>m_(Reflect.get(e,t,i)),set:(e,t,i,s)=>{const n=e[t];return fe(n)&&!fe(i)?(n.value=i,!0):Reflect.set(e,t,i,s)}};function Xu(e){return an(e)?e:new Proxy(e,w_)}/**
* @vue/runtime-core v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ti(e,t,i,s){try{return s?e(...s):e()}catch(n){$r(n,t,i)}}function De(e,t,i,s){if(Q(e)){const n=Ti(e,t,i,s);return n&&ku(n)&&n.catch(r=>{$r(r,t,i)}),n}if(Z(e)){const n=[];for(let r=0;r<e.length;r++)n.push(De(e[r],t,i,s));return n}}function $r(e,t,i,s=!0){const n=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${i}`;for(;r;){const l=r.ec;if(l){for(let c=0;c<l.length;c++)if(l[c](e,o,a)===!1)return}r=r.parent}const h=t.appContext.config.errorHandler;if(h){Ii(),Ti(h,null,10,[e,o,a]),Di();return}}x_(e,i,n,s)}function x_(e,t,i,s=!0){console.error(e)}let gn=!1,va=!1;const Xt=[];let Ke=0;const Ss=[];let Ci=null,qi=0;const qu=Promise.resolve();let fh=null;function b_(e){const t=fh||qu;return e?t.then(this?e.bind(this):e):t}function v_(e){let t=Ke+1,i=Xt.length;for(;t<i;){const s=t+i>>>1,n=Xt[s],r=yn(n);r<e||r===e&&n.pre?t=s+1:i=s}return t}function _h(e){(!Xt.length||!Xt.includes(e,gn&&e.allowRecurse?Ke+1:Ke))&&(e.id==null?Xt.push(e):Xt.splice(v_(e.id),0,e),Zu())}function Zu(){!gn&&!va&&(va=!0,fh=qu.then(Qu))}function R_(e){const t=Xt.indexOf(e);t>Ke&&Xt.splice(t,1)}function C_(e){Z(e)?Ss.push(...e):(!Ci||!Ci.includes(e,e.allowRecurse?qi+1:qi))&&Ss.push(e),Zu()}function Kh(e,t,i=gn?Ke+1:0){for(;i<Xt.length;i++){const s=Xt[i];if(s&&s.pre){if(e&&s.id!==e.uid)continue;Xt.splice(i,1),i--,s()}}}function Ju(e){if(Ss.length){const t=[...new Set(Ss)].sort((i,s)=>yn(i)-yn(s));if(Ss.length=0,Ci){Ci.push(...t);return}for(Ci=t,qi=0;qi<Ci.length;qi++){const i=Ci[qi];i.active!==!1&&i()}Ci=null,qi=0}}const yn=e=>e.id==null?1/0:e.id,E_=(e,t)=>{const i=yn(e)-yn(t);if(i===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return i};function Qu(e){va=!1,gn=!0,Xt.sort(E_);try{for(Ke=0;Ke<Xt.length;Ke++){const t=Xt[Ke];t&&t.active!==!1&&Ti(t,null,14)}}finally{Ke=0,Xt.length=0,Ju(),gn=!1,fh=null,(Xt.length||Ss.length)&&Qu()}}function S_(e,t,...i){if(e.isUnmounted)return;const s=e.vnode.props||Bt;let n=i;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in s){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:_,trim:f}=s[c]||Bt;f&&(n=i.map(u=>Vt(u)?u.trim():u)),_&&(n=i.map(Ff))}let a,h=s[a=so(t)]||s[a=so(ks(t))];!h&&r&&(h=s[a=so($s(t))]),h&&De(h,e,6,n);const l=s[a+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,De(l,e,6,n)}}function td(e,t,i=!1){const s=t.emitsCache,n=s.get(e);if(n!==void 0)return n;const r=e.emits;let o={},a=!1;if(!Q(e)){const h=l=>{const c=td(l,t,!0);c&&(a=!0,jt(o,c))};!i&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}return!r&&!a?($t(e)&&s.set(e,null),null):(Z(r)?r.forEach(h=>o[h]=null):jt(o,r),$t(e)&&s.set(e,o),o)}function Wr(e,t){return!e||!Lr(t)?!1:(t=t.slice(2).replace(/Once$/,""),it(e,t[0].toLowerCase()+t.slice(1))||it(e,$s(t))||it(e,t))}let Xe=null,ed=null;function Rr(e){const t=Xe;return Xe=e,ed=e&&e.type.__scopeId||null,t}function B_(e,t=Xe,i){if(!t||e._n)return e;const s=(...n)=>{s._d&&rl(-1);const r=Rr(t);let o;try{o=e(...n)}finally{Rr(r),s._d&&rl(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function oo(e){const{type:t,vnode:i,proxy:s,withProxy:n,propsOptions:[r],slots:o,attrs:a,emit:h,render:l,renderCache:c,props:_,data:f,setupState:u,ctx:g,inheritAttrs:m}=e,B=Rr(e);let b,x;try{if(i.shapeFlag&4){const k=n||s,W=k;b=Ve(l.call(W,k,c,_,u,f,g)),x=a}else{const k=t;b=Ve(k.length>1?k(_,{attrs:a,slots:o,emit:h}):k(_,null)),x=t.props?a:P_(a)}}catch(k){cn.length=0,$r(k,e,1),b=ki(mn)}let v=b;if(x&&m!==!1){const k=Object.keys(x),{shapeFlag:W}=v;k.length&&W&7&&(r&&k.some(Qa)&&(x=T_(x,r)),v=Os(v,x,!1,!0))}return i.dirs&&(v=Os(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(i.dirs):i.dirs),i.transition&&(v.transition=i.transition),b=v,Rr(B),b}const P_=e=>{let t;for(const i in e)(i==="class"||i==="style"||Lr(i))&&((t||(t={}))[i]=e[i]);return t},T_=(e,t)=>{const i={};for(const s in e)(!Qa(s)||!(s.slice(9)in t))&&(i[s]=e[s]);return i};function k_(e,t,i){const{props:s,children:n,component:r}=e,{props:o,children:a,patchFlag:h}=t,l=r.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&h>=0){if(h&1024)return!0;if(h&16)return s?Xh(s,o,l):!!o;if(h&8){const c=t.dynamicProps;for(let _=0;_<c.length;_++){const f=c[_];if(o[f]!==s[f]&&!Wr(l,f))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Xh(s,o,l):!0:!!o;return!1}function Xh(e,t,i){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let n=0;n<s.length;n++){const r=s[n];if(t[r]!==e[r]&&!Wr(i,r))return!0}return!1}function O_({vnode:e,parent:t},i){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=i,t=t.parent;else break}}const M_=Symbol.for("v-ndc"),L_=e=>e.__isSuspense;function A_(e,t){t&&t.pendingBranch?Z(e)?t.effects.push(...e):t.effects.push(e):C_(e)}function Fr(e,t,i=te,s=!1){if(i){const n=i[e]||(i[e]=[]),r=t.__weh||(t.__weh=(...o)=>{Ii();const a=Bn(i),h=De(t,i,e,o);return a(),Di(),h});return s?n.unshift(r):n.push(r),r}}const yi=e=>(t,i=te)=>{(!Nr||e==="sp")&&Fr(e,(...s)=>t(...s),i)},I_=yi("bm"),D_=yi("m"),$_=yi("bu"),W_=yi("u"),F_=yi("bum"),id=yi("um"),H_=yi("sp"),N_=yi("rtg"),z_=yi("rtc");function j_(e,t=te){Fr("ec",e,t)}function Hi(e,t,i,s){const n=e.dirs,r=t&&t.dirs;for(let o=0;o<n.length;o++){const a=n[o];r&&(a.oldValue=r[o].value);let h=a.dir[s];h&&(Ii(),De(h,i,8,[e.el,a,e,t]),Di())}}/*! #__NO_SIDE_EFFECTS__ */function sd(e,t){return Q(e)?jt({name:e.name},t,{setup:e}):e}const pr=e=>!!e.type.__asyncLoader,Ra=e=>e?vd(e)?mh(e):Ra(e.parent):null,hn=jt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ra(e.parent),$root:e=>Ra(e.root),$emit:e=>e.emit,$options:e=>ph(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,_h(e.update)}),$nextTick:e=>e.n||(e.n=b_.bind(e.proxy)),$watch:e=>cp.bind(e)}),ao=(e,t)=>e!==Bt&&!e.__isScriptSetup&&it(e,t),U_={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:i,setupState:s,data:n,props:r,accessCache:o,type:a,appContext:h}=e;let l;if(t[0]!=="$"){const u=o[t];if(u!==void 0)switch(u){case 1:return s[t];case 2:return n[t];case 4:return i[t];case 3:return r[t]}else{if(ao(s,t))return o[t]=1,s[t];if(n!==Bt&&it(n,t))return o[t]=2,n[t];if((l=e.propsOptions[0])&&it(l,t))return o[t]=3,r[t];if(i!==Bt&&it(i,t))return o[t]=4,i[t];Ca&&(o[t]=0)}}const c=hn[t];let _,f;if(c)return t==="$attrs"&&ae(e.attrs,"get",""),c(e);if((_=a.__cssModules)&&(_=_[t]))return _;if(i!==Bt&&it(i,t))return o[t]=4,i[t];if(f=h.config.globalProperties,it(f,t))return f[t]},set({_:e},t,i){const{data:s,setupState:n,ctx:r}=e;return ao(n,t)?(n[t]=i,!0):s!==Bt&&it(s,t)?(s[t]=i,!0):it(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:s,appContext:n,propsOptions:r}},o){let a;return!!i[o]||e!==Bt&&it(e,o)||ao(t,o)||(a=r[0])&&it(a,o)||it(s,o)||it(hn,o)||it(n.config.globalProperties,o)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:it(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}};function qh(e){return Z(e)?e.reduce((t,i)=>(t[i]=null,t),{}):e}let Ca=!0;function G_(e){const t=ph(e),i=e.proxy,s=e.ctx;Ca=!1,t.beforeCreate&&Zh(t.beforeCreate,e,"bc");const{data:n,computed:r,methods:o,watch:a,provide:h,inject:l,created:c,beforeMount:_,mounted:f,beforeUpdate:u,updated:g,activated:m,deactivated:B,beforeDestroy:b,beforeUnmount:x,destroyed:v,unmounted:k,render:W,renderTracked:L,renderTriggered:G,errorCaptured:q,serverPrefetch:mt,expose:ht,inheritAttrs:ot,components:_t,directives:st,filters:wt}=t;if(l&&V_(l,s,null),o)for(const V in o){const U=o[V];Q(U)&&(s[V]=U.bind(i))}if(n){const V=n.call(i,i);$t(V)&&(e.data=lh(V))}if(Ca=!0,r)for(const V in r){const U=r[V],nt=Q(U)?U.bind(i,i):Q(U.get)?U.get.bind(i,i):Re,Wt=!Q(U)&&Q(U.set)?U.set.bind(i):Re,Ot=Lp({get:nt,set:Wt});Object.defineProperty(s,V,{enumerable:!0,configurable:!0,get:()=>Ot.value,set:Mt=>Ot.value=Mt})}if(a)for(const V in a)nd(a[V],s,i,V);if(h){const V=Q(h)?h.call(i):h;Reflect.ownKeys(V).forEach(U=>{J_(U,V[U])})}c&&Zh(c,e,"c");function H(V,U){Z(U)?U.forEach(nt=>V(nt.bind(i))):U&&V(U.bind(i))}if(H(I_,_),H(D_,f),H($_,u),H(W_,g),H(up,m),H(dp,B),H(j_,q),H(z_,L),H(N_,G),H(F_,x),H(id,k),H(H_,mt),Z(ht))if(ht.length){const V=e.exposed||(e.exposed={});ht.forEach(U=>{Object.defineProperty(V,U,{get:()=>i[U],set:nt=>i[U]=nt})})}else e.exposed||(e.exposed={});W&&e.render===Re&&(e.render=W),ot!=null&&(e.inheritAttrs=ot),_t&&(e.components=_t),st&&(e.directives=st)}function V_(e,t,i=Re){Z(e)&&(e=Ea(e));for(const s in e){const n=e[s];let r;$t(n)?"default"in n?r=gr(n.from||s,n.default,!0):r=gr(n.from||s):r=gr(n),fe(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[s]=r}}function Zh(e,t,i){De(Z(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,i)}function nd(e,t,i,s){const n=s.includes(".")?yd(i,s):()=>i[s];if(Vt(e)){const r=t[e];Q(r)&&lo(n,r)}else if(Q(e))lo(n,e.bind(i));else if($t(e))if(Z(e))e.forEach(r=>nd(r,t,i,s));else{const r=Q(e.handler)?e.handler.bind(i):t[e.handler];Q(r)&&lo(n,r,e)}}function ph(e){const t=e.type,{mixins:i,extends:s}=t,{mixins:n,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,a=r.get(t);let h;return a?h=a:!n.length&&!i&&!s?h=t:(h={},n.length&&n.forEach(l=>Cr(h,l,o,!0)),Cr(h,t,o)),$t(t)&&r.set(t,h),h}function Cr(e,t,i,s=!1){const{mixins:n,extends:r}=t;r&&Cr(e,r,i,!0),n&&n.forEach(o=>Cr(e,o,i,!0));for(const o in t)if(!(s&&o==="expose")){const a=Y_[o]||i&&i[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Y_={data:Jh,props:Qh,emits:Qh,methods:nn,computed:nn,beforeCreate:Jt,created:Jt,beforeMount:Jt,mounted:Jt,beforeUpdate:Jt,updated:Jt,beforeDestroy:Jt,beforeUnmount:Jt,destroyed:Jt,unmounted:Jt,activated:Jt,deactivated:Jt,errorCaptured:Jt,serverPrefetch:Jt,components:nn,directives:nn,watch:X_,provide:Jh,inject:K_};function Jh(e,t){return t?e?function(){return jt(Q(e)?e.call(this,this):e,Q(t)?t.call(this,this):t)}:t:e}function K_(e,t){return nn(Ea(e),Ea(t))}function Ea(e){if(Z(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function Jt(e,t){return e?[...new Set([].concat(e,t))]:t}function nn(e,t){return e?jt(Object.create(null),e,t):t}function Qh(e,t){return e?Z(e)&&Z(t)?[...new Set([...e,...t])]:jt(Object.create(null),qh(e),qh(t??{})):t}function X_(e,t){if(!e)return t;if(!t)return e;const i=jt(Object.create(null),e);for(const s in t)i[s]=Jt(e[s],t[s]);return i}function rd(){return{app:null,config:{isNativeTag:Of,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let q_=0;function Z_(e,t){return function(s,n=null){Q(s)||(s=jt({},s)),n!=null&&!$t(n)&&(n=null);const r=rd(),o=new WeakSet;let a=!1;const h=r.app={_uid:q_++,_component:s,_props:n,_container:null,_context:r,_instance:null,version:Ap,get config(){return r.config},set config(l){},use(l,...c){return o.has(l)||(l&&Q(l.install)?(o.add(l),l.install(h,...c)):Q(l)&&(o.add(l),l(h,...c))),h},mixin(l){return r.mixins.includes(l)||r.mixins.push(l),h},component(l,c){return c?(r.components[l]=c,h):r.components[l]},directive(l,c){return c?(r.directives[l]=c,h):r.directives[l]},mount(l,c,_){if(!a){const f=ki(s,n);return f.appContext=r,_===!0?_="svg":_===!1&&(_=void 0),c&&t?t(f,l):e(f,l,_),a=!0,h._container=l,l.__vue_app__=h,mh(f.component)}},unmount(){a&&(e(null,h._container),delete h._container.__vue_app__)},provide(l,c){return r.provides[l]=c,h},runWithContext(l){const c=ln;ln=h;try{return l()}finally{ln=c}}};return h}}let ln=null;function J_(e,t){if(te){let i=te.provides;const s=te.parent&&te.parent.provides;s===i&&(i=te.provides=Object.create(s)),i[e]=t}}function gr(e,t,i=!1){const s=te||Xe;if(s||ln){const n=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:ln._context.provides;if(n&&e in n)return n[e];if(arguments.length>1)return i&&Q(t)?t.call(s&&s.proxy):t}}const od={},ad=()=>Object.create(od),hd=e=>Object.getPrototypeOf(e)===od;function Q_(e,t,i,s=!1){const n={},r=ad();e.propsDefaults=Object.create(null),ld(e,t,n,r);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);i?e.props=s?n:__(n):e.type.props?e.props=n:e.props=r,e.attrs=r}function tp(e,t,i,s){const{props:n,attrs:r,vnode:{patchFlag:o}}=e,a=yt(n),[h]=e.propsOptions;let l=!1;if((s||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let _=0;_<c.length;_++){let f=c[_];if(Wr(e.emitsOptions,f))continue;const u=t[f];if(h)if(it(r,f))u!==r[f]&&(r[f]=u,l=!0);else{const g=ks(f);n[g]=Sa(h,a,g,u,e,!1)}else u!==r[f]&&(r[f]=u,l=!0)}}}else{ld(e,t,n,r)&&(l=!0);let c;for(const _ in a)(!t||!it(t,_)&&((c=$s(_))===_||!it(t,c)))&&(h?i&&(i[_]!==void 0||i[c]!==void 0)&&(n[_]=Sa(h,a,_,void 0,e,!0)):delete n[_]);if(r!==a)for(const _ in r)(!t||!it(t,_))&&(delete r[_],l=!0)}l&&di(e.attrs,"set","")}function ld(e,t,i,s){const[n,r]=e.propsOptions;let o=!1,a;if(t)for(let h in t){if(on(h))continue;const l=t[h];let c;n&&it(n,c=ks(h))?!r||!r.includes(c)?i[c]=l:(a||(a={}))[c]=l:Wr(e.emitsOptions,h)||(!(h in s)||l!==s[h])&&(s[h]=l,o=!0)}if(r){const h=yt(i),l=a||Bt;for(let c=0;c<r.length;c++){const _=r[c];i[_]=Sa(n,h,_,l[_],e,!it(l,_))}}return o}function Sa(e,t,i,s,n,r){const o=e[i];if(o!=null){const a=it(o,"default");if(a&&s===void 0){const h=o.default;if(o.type!==Function&&!o.skipFactory&&Q(h)){const{propsDefaults:l}=n;if(i in l)s=l[i];else{const c=Bn(n);s=l[i]=h.call(null,t),c()}}else s=h}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===$s(i))&&(s=!0))}return s}function cd(e,t,i=!1){const s=t.propsCache,n=s.get(e);if(n)return n;const r=e.props,o={},a=[];let h=!1;if(!Q(e)){const c=_=>{h=!0;const[f,u]=cd(_,t,!0);jt(o,f),u&&a.push(...u)};!i&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!r&&!h)return $t(e)&&s.set(e,Es),Es;if(Z(r))for(let c=0;c<r.length;c++){const _=ks(r[c]);tl(_)&&(o[_]=Bt)}else if(r)for(const c in r){const _=ks(c);if(tl(_)){const f=r[c],u=o[_]=Z(f)||Q(f)?{type:f}:jt({},f);if(u){const g=sl(Boolean,u.type),m=sl(String,u.type);u[0]=g>-1,u[1]=m<0||g<m,(g>-1||it(u,"default"))&&a.push(_)}}}const l=[o,a];return $t(e)&&s.set(e,l),l}function tl(e){return e[0]!=="$"&&!on(e)}function el(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function il(e,t){return el(e)===el(t)}function sl(e,t){return Z(t)?t.findIndex(i=>il(i,e)):Q(t)&&il(t,e)?0:-1}const ud=e=>e[0]==="_"||e==="$stable",gh=e=>Z(e)?e.map(Ve):[Ve(e)],ep=(e,t,i)=>{if(t._n)return t;const s=B_((...n)=>gh(t(...n)),i);return s._c=!1,s},dd=(e,t,i)=>{const s=e._ctx;for(const n in e){if(ud(n))continue;const r=e[n];if(Q(r))t[n]=ep(n,r,s);else if(r!=null){const o=gh(r);t[n]=()=>o}}},fd=(e,t)=>{const i=gh(t);e.slots.default=()=>i},ip=(e,t)=>{const i=e.slots=ad();if(e.vnode.shapeFlag&32){const s=t._;s?(jt(i,t),Mu(i,"_",s,!0)):dd(t,i)}else t&&fd(e,t)},sp=(e,t,i)=>{const{vnode:s,slots:n}=e;let r=!0,o=Bt;if(s.shapeFlag&32){const a=t._;a?i&&a===1?r=!1:(jt(n,t),!i&&a===1&&delete n._):(r=!t.$stable,dd(t,n)),o=t}else t&&(fd(e,t),o={default:1});if(r)for(const a in n)!ud(a)&&o[a]==null&&delete n[a]};function Ba(e,t,i,s,n=!1){if(Z(e)){e.forEach((f,u)=>Ba(f,t&&(Z(t)?t[u]:t),i,s,n));return}if(pr(s)&&!n)return;const r=s.shapeFlag&4?mh(s.component):s.el,o=n?null:r,{i:a,r:h}=e,l=t&&t.r,c=a.refs===Bt?a.refs={}:a.refs,_=a.setupState;if(l!=null&&l!==h&&(Vt(l)?(c[l]=null,it(_,l)&&(_[l]=null)):fe(l)&&(l.value=null)),Q(h))Ti(h,a,12,[o,c]);else{const f=Vt(h),u=fe(h);if(f||u){const g=()=>{if(e.f){const m=f?it(_,h)?_[h]:c[h]:h.value;n?Z(m)&&th(m,r):Z(m)?m.includes(r)||m.push(r):f?(c[h]=[r],it(_,h)&&(_[h]=c[h])):(h.value=[r],e.k&&(c[e.k]=h.value))}else f?(c[h]=o,it(_,h)&&(_[h]=o)):u&&(h.value=o,e.k&&(c[e.k]=o))};o?(g.id=-1,re(g,i)):g()}}}const re=A_;function np(e){return rp(e)}function rp(e,t){const i=Lu();i.__VUE__=!0;const{insert:s,remove:n,patchProp:r,createElement:o,createText:a,createComment:h,setText:l,setElementText:c,parentNode:_,nextSibling:f,setScopeId:u=Re,insertStaticContent:g}=e,m=(d,p,w,R=null,E=null,T=null,M=void 0,P=null,O=!!p.dynamicChildren)=>{if(d===p)return;d&&!js(d,p)&&(R=ds(d),Mt(d,E,T,!0),d=null),p.patchFlag===-2&&(O=!1,p.dynamicChildren=null);const{type:S,ref:A,shapeFlag:j}=p;switch(S){case Hr:B(d,p,w,R);break;case mn:b(d,p,w,R);break;case co:d==null&&x(p,w,R,M);break;case li:_t(d,p,w,R,E,T,M,P,O);break;default:j&1?W(d,p,w,R,E,T,M,P,O):j&6?st(d,p,w,R,E,T,M,P,O):(j&64||j&128)&&S.process(d,p,w,R,E,T,M,P,O,Fi)}A!=null&&E&&Ba(A,d&&d.ref,T,p||d,!p)},B=(d,p,w,R)=>{if(d==null)s(p.el=a(p.children),w,R);else{const E=p.el=d.el;p.children!==d.children&&l(E,p.children)}},b=(d,p,w,R)=>{d==null?s(p.el=h(p.children||""),w,R):p.el=d.el},x=(d,p,w,R)=>{[d.el,d.anchor]=g(d.children,p,w,R,d.el,d.anchor)},v=({el:d,anchor:p},w,R)=>{let E;for(;d&&d!==p;)E=f(d),s(d,w,R),d=E;s(p,w,R)},k=({el:d,anchor:p})=>{let w;for(;d&&d!==p;)w=f(d),n(d),d=w;n(p)},W=(d,p,w,R,E,T,M,P,O)=>{p.type==="svg"?M="svg":p.type==="math"&&(M="mathml"),d==null?L(p,w,R,E,T,M,P,O):mt(d,p,E,T,M,P,O)},L=(d,p,w,R,E,T,M,P)=>{let O,S;const{props:A,shapeFlag:j,transition:N,dirs:K}=d;if(O=d.el=o(d.type,T,A&&A.is,A),j&8?c(O,d.children):j&16&&q(d.children,O,null,R,E,ho(d,T),M,P),K&&Hi(d,null,R,"created"),G(O,d,d.scopeId,M,R),A){for(const xt in A)xt!=="value"&&!on(xt)&&r(O,xt,null,A[xt],T,d.children,R,E,Se);"value"in A&&r(O,"value",null,A.value,T),(S=A.onVnodeBeforeMount)&&He(S,R,d)}K&&Hi(d,null,R,"beforeMount");const tt=op(E,N);tt&&N.beforeEnter(O),s(O,p,w),((S=A&&A.onVnodeMounted)||tt||K)&&re(()=>{S&&He(S,R,d),tt&&N.enter(O),K&&Hi(d,null,R,"mounted")},E)},G=(d,p,w,R,E)=>{if(w&&u(d,w),R)for(let T=0;T<R.length;T++)u(d,R[T]);if(E){let T=E.subTree;if(p===T){const M=E.vnode;G(d,M,M.scopeId,M.slotScopeIds,E.parent)}}},q=(d,p,w,R,E,T,M,P,O=0)=>{for(let S=O;S<d.length;S++){const A=d[S]=P?Ei(d[S]):Ve(d[S]);m(null,A,p,w,R,E,T,M,P)}},mt=(d,p,w,R,E,T,M)=>{const P=p.el=d.el;let{patchFlag:O,dynamicChildren:S,dirs:A}=p;O|=d.patchFlag&16;const j=d.props||Bt,N=p.props||Bt;let K;if(w&&Ni(w,!1),(K=N.onVnodeBeforeUpdate)&&He(K,w,p,d),A&&Hi(p,d,w,"beforeUpdate"),w&&Ni(w,!0),S?ht(d.dynamicChildren,S,P,w,R,ho(p,E),T):M||U(d,p,P,null,w,R,ho(p,E),T,!1),O>0){if(O&16)ot(P,p,j,N,w,R,E);else if(O&2&&j.class!==N.class&&r(P,"class",null,N.class,E),O&4&&r(P,"style",j.style,N.style,E),O&8){const tt=p.dynamicProps;for(let xt=0;xt<tt.length;xt++){const lt=tt[xt],Ht=j[lt],Be=N[lt];(Be!==Ht||lt==="value")&&r(P,lt,Ht,Be,E,d.children,w,R,Se)}}O&1&&d.children!==p.children&&c(P,p.children)}else!M&&S==null&&ot(P,p,j,N,w,R,E);((K=N.onVnodeUpdated)||A)&&re(()=>{K&&He(K,w,p,d),A&&Hi(p,d,w,"updated")},R)},ht=(d,p,w,R,E,T,M)=>{for(let P=0;P<p.length;P++){const O=d[P],S=p[P],A=O.el&&(O.type===li||!js(O,S)||O.shapeFlag&70)?_(O.el):w;m(O,S,A,null,R,E,T,M,!0)}},ot=(d,p,w,R,E,T,M)=>{if(w!==R){if(w!==Bt)for(const P in w)!on(P)&&!(P in R)&&r(d,P,w[P],null,M,p.children,E,T,Se);for(const P in R){if(on(P))continue;const O=R[P],S=w[P];O!==S&&P!=="value"&&r(d,P,S,O,M,p.children,E,T,Se)}"value"in R&&r(d,"value",w.value,R.value,M)}},_t=(d,p,w,R,E,T,M,P,O)=>{const S=p.el=d?d.el:a(""),A=p.anchor=d?d.anchor:a("");let{patchFlag:j,dynamicChildren:N,slotScopeIds:K}=p;K&&(P=P?P.concat(K):K),d==null?(s(S,w,R),s(A,w,R),q(p.children||[],w,A,E,T,M,P,O)):j>0&&j&64&&N&&d.dynamicChildren?(ht(d.dynamicChildren,N,w,E,T,M,P),(p.key!=null||E&&p===E.subTree)&&_d(d,p,!0)):U(d,p,w,A,E,T,M,P,O)},st=(d,p,w,R,E,T,M,P,O)=>{p.slotScopeIds=P,d==null?p.shapeFlag&512?E.ctx.activate(p,w,R,M,O):wt(p,w,R,E,T,M,O):pt(d,p,O)},wt=(d,p,w,R,E,T,M)=>{const P=d.component=Bp(d,R,E);if(md(d)&&(P.ctx.renderer=Fi),Pp(P),P.asyncDep){if(E&&E.registerDep(P,H,M),!d.el){const O=P.subTree=ki(mn);b(null,O,p,w)}}else H(P,d,p,w,E,T,M)},pt=(d,p,w)=>{const R=p.component=d.component;if(k_(d,p,w))if(R.asyncDep&&!R.asyncResolved){V(R,p,w);return}else R.next=p,R_(R.update),R.effect.dirty=!0,R.update();else p.el=d.el,R.vnode=p},H=(d,p,w,R,E,T,M)=>{const P=()=>{if(d.isMounted){let{next:A,bu:j,u:N,parent:K,vnode:tt}=d;{const fs=pd(d);if(fs){A&&(A.el=tt.el,V(d,A,M)),fs.asyncDep.then(()=>{d.isUnmounted||P()});return}}let xt=A,lt;Ni(d,!1),A?(A.el=tt.el,V(d,A,M)):A=tt,j&&no(j),(lt=A.props&&A.props.onVnodeBeforeUpdate)&&He(lt,K,A,tt),Ni(d,!0);const Ht=oo(d),Be=d.subTree;d.subTree=Ht,m(Be,Ht,_(Be.el),ds(Be),d,E,T),A.el=Ht.el,xt===null&&O_(d,Ht.el),N&&re(N,E),(lt=A.props&&A.props.onVnodeUpdated)&&re(()=>He(lt,K,A,tt),E)}else{let A;const{el:j,props:N}=p,{bm:K,m:tt,parent:xt}=d,lt=pr(p);if(Ni(d,!1),K&&no(K),!lt&&(A=N&&N.onVnodeBeforeMount)&&He(A,xt,p),Ni(d,!0),j&&Fn){const Ht=()=>{d.subTree=oo(d),Fn(j,d.subTree,d,E,null)};lt?p.type.__asyncLoader().then(()=>!d.isUnmounted&&Ht()):Ht()}else{const Ht=d.subTree=oo(d);m(null,Ht,w,R,d,E,T),p.el=Ht.el}if(tt&&re(tt,E),!lt&&(A=N&&N.onVnodeMounted)){const Ht=p;re(()=>He(A,xt,Ht),E)}(p.shapeFlag&256||xt&&pr(xt.vnode)&&xt.vnode.shapeFlag&256)&&d.a&&re(d.a,E),d.isMounted=!0,p=w=R=null}},O=d.effect=new nh(P,Re,()=>_h(S),d.scope),S=d.update=()=>{O.dirty&&O.run()};S.id=d.uid,Ni(d,!0),S()},V=(d,p,w)=>{p.component=d;const R=d.vnode.props;d.vnode=p,d.next=null,tp(d,p.props,R,w),sp(d,p.children,w),Ii(),Kh(d),Di()},U=(d,p,w,R,E,T,M,P,O=!1)=>{const S=d&&d.children,A=d?d.shapeFlag:0,j=p.children,{patchFlag:N,shapeFlag:K}=p;if(N>0){if(N&128){Wt(S,j,w,R,E,T,M,P,O);return}else if(N&256){nt(S,j,w,R,E,T,M,P,O);return}}K&8?(A&16&&Se(S,E,T),j!==S&&c(w,j)):A&16?K&16?Wt(S,j,w,R,E,T,M,P,O):Se(S,E,T,!0):(A&8&&c(w,""),K&16&&q(j,w,R,E,T,M,P,O))},nt=(d,p,w,R,E,T,M,P,O)=>{d=d||Es,p=p||Es;const S=d.length,A=p.length,j=Math.min(S,A);let N;for(N=0;N<j;N++){const K=p[N]=O?Ei(p[N]):Ve(p[N]);m(d[N],K,w,null,E,T,M,P,O)}S>A?Se(d,E,T,!0,!1,j):q(p,w,R,E,T,M,P,O,j)},Wt=(d,p,w,R,E,T,M,P,O)=>{let S=0;const A=p.length;let j=d.length-1,N=A-1;for(;S<=j&&S<=N;){const K=d[S],tt=p[S]=O?Ei(p[S]):Ve(p[S]);if(js(K,tt))m(K,tt,w,null,E,T,M,P,O);else break;S++}for(;S<=j&&S<=N;){const K=d[j],tt=p[N]=O?Ei(p[N]):Ve(p[N]);if(js(K,tt))m(K,tt,w,null,E,T,M,P,O);else break;j--,N--}if(S>j){if(S<=N){const K=N+1,tt=K<A?p[K].el:R;for(;S<=N;)m(null,p[S]=O?Ei(p[S]):Ve(p[S]),w,tt,E,T,M,P,O),S++}}else if(S>N)for(;S<=j;)Mt(d[S],E,T,!0),S++;else{const K=S,tt=S,xt=new Map;for(S=tt;S<=N;S++){const he=p[S]=O?Ei(p[S]):Ve(p[S]);he.key!=null&&xt.set(he.key,S)}let lt,Ht=0;const Be=N-tt+1;let fs=!1,Dh=0;const zs=new Array(Be);for(S=0;S<Be;S++)zs[S]=0;for(S=K;S<=j;S++){const he=d[S];if(Ht>=Be){Mt(he,E,T,!0);continue}let Fe;if(he.key!=null)Fe=xt.get(he.key);else for(lt=tt;lt<=N;lt++)if(zs[lt-tt]===0&&js(he,p[lt])){Fe=lt;break}Fe===void 0?Mt(he,E,T,!0):(zs[Fe-tt]=S+1,Fe>=Dh?Dh=Fe:fs=!0,m(he,p[Fe],w,null,E,T,M,P,O),Ht++)}const $h=fs?ap(zs):Es;for(lt=$h.length-1,S=Be-1;S>=0;S--){const he=tt+S,Fe=p[he],Wh=he+1<A?p[he+1].el:R;zs[S]===0?m(null,Fe,w,Wh,E,T,M,P,O):fs&&(lt<0||S!==$h[lt]?Ot(Fe,w,Wh,2):lt--)}}},Ot=(d,p,w,R,E=null)=>{const{el:T,type:M,transition:P,children:O,shapeFlag:S}=d;if(S&6){Ot(d.component.subTree,p,w,R);return}if(S&128){d.suspense.move(p,w,R);return}if(S&64){M.move(d,p,w,Fi);return}if(M===li){s(T,p,w);for(let j=0;j<O.length;j++)Ot(O[j],p,w,R);s(d.anchor,p,w);return}if(M===co){v(d,p,w);return}if(R!==2&&S&1&&P)if(R===0)P.beforeEnter(T),s(T,p,w),re(()=>P.enter(T),E);else{const{leave:j,delayLeave:N,afterLeave:K}=P,tt=()=>s(T,p,w),xt=()=>{j(T,()=>{tt(),K&&K()})};N?N(T,tt,xt):xt()}else s(T,p,w)},Mt=(d,p,w,R=!1,E=!1)=>{const{type:T,props:M,ref:P,children:O,dynamicChildren:S,shapeFlag:A,patchFlag:j,dirs:N,memoIndex:K}=d;if(j===-2&&(E=!1),P!=null&&Ba(P,null,w,d,!0),K!=null&&(p.renderCache[K]=void 0),A&256){p.ctx.deactivate(d);return}const tt=A&1&&N,xt=!pr(d);let lt;if(xt&&(lt=M&&M.onVnodeBeforeUnmount)&&He(lt,p,d),A&6)io(d.component,w,R);else{if(A&128){d.suspense.unmount(w,R);return}tt&&Hi(d,null,p,"beforeUnmount"),A&64?d.type.remove(d,p,w,Fi,R):S&&(T!==li||j>0&&j&64)?Se(S,p,w,!1,!0):(T===li&&j&384||!E&&A&16)&&Se(O,p,w),R&&Dn(d)}(xt&&(lt=M&&M.onVnodeUnmounted)||tt)&&re(()=>{lt&&He(lt,p,d),tt&&Hi(d,null,p,"unmounted")},w)},Dn=d=>{const{type:p,el:w,anchor:R,transition:E}=d;if(p===li){eo(w,R);return}if(p===co){k(d);return}const T=()=>{n(w),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(d.shapeFlag&1&&E&&!E.persisted){const{leave:M,delayLeave:P}=E,O=()=>M(w,T);P?P(d.el,T,O):O()}else T()},eo=(d,p)=>{let w;for(;d!==p;)w=f(d),n(d),d=w;n(p)},io=(d,p,w)=>{const{bum:R,scope:E,update:T,subTree:M,um:P,m:O,a:S}=d;nl(O),nl(S),R&&no(R),E.stop(),T&&(T.active=!1,Mt(M,d,p,w)),P&&re(P,p),re(()=>{d.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},Se=(d,p,w,R=!1,E=!1,T=0)=>{for(let M=T;M<d.length;M++)Mt(d[M],p,w,R,E)},ds=d=>d.shapeFlag&6?ds(d.component.subTree):d.shapeFlag&128?d.suspense.next():f(d.anchor||d.el);let Ns=!1;const $n=(d,p,w)=>{d==null?p._vnode&&Mt(p._vnode,null,null,!0):m(p._vnode||null,d,p,null,null,null,w),Ns||(Ns=!0,Kh(),Ju(),Ns=!1),p._vnode=d},Fi={p:m,um:Mt,m:Ot,r:Dn,mt:wt,mc:q,pc:U,pbc:ht,n:ds,o:e};let Wn,Fn;return{render:$n,hydrate:Wn,createApp:Z_($n,Wn)}}function ho({type:e,props:t},i){return i==="svg"&&e==="foreignObject"||i==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:i}function Ni({effect:e,update:t},i){e.allowRecurse=t.allowRecurse=i}function op(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function _d(e,t,i=!1){const s=e.children,n=t.children;if(Z(s)&&Z(n))for(let r=0;r<s.length;r++){const o=s[r];let a=n[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[r]=Ei(n[r]),a.el=o.el),!i&&a.patchFlag!==-2&&_d(o,a)),a.type===Hr&&(a.el=o.el)}}function ap(e){const t=e.slice(),i=[0];let s,n,r,o,a;const h=e.length;for(s=0;s<h;s++){const l=e[s];if(l!==0){if(n=i[i.length-1],e[n]<l){t[s]=n,i.push(s);continue}for(r=0,o=i.length-1;r<o;)a=r+o>>1,e[i[a]]<l?r=a+1:o=a;l<e[i[r]]&&(r>0&&(t[s]=i[r-1]),i[r]=s)}}for(r=i.length,o=i[r-1];r-- >0;)i[r]=o,o=t[o];return i}function pd(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:pd(t)}function nl(e){if(e)for(let t=0;t<e.length;t++)e[t].active=!1}const hp=Symbol.for("v-scx"),lp=()=>gr(hp),Gn={};function lo(e,t,i){return gd(e,t,i)}function gd(e,t,{immediate:i,deep:s,flush:n,once:r,onTrack:o,onTrigger:a}=Bt){if(t&&r){const L=t;t=(...G)=>{L(...G),W()}}const h=te,l=L=>s===!0?L:Zi(L,s===!1?1:void 0);let c,_=!1,f=!1;if(fe(e)?(c=()=>e.value,_=ba(e)):an(e)?(c=()=>l(e),_=!0):Z(e)?(f=!0,_=e.some(L=>an(L)||ba(L)),c=()=>e.map(L=>{if(fe(L))return L.value;if(an(L))return l(L);if(Q(L))return Ti(L,h,2)})):Q(e)?t?c=()=>Ti(e,h,2):c=()=>(u&&u(),De(e,h,3,[g])):c=Re,t&&s){const L=c;c=()=>Zi(L())}let u,g=L=>{u=v.onStop=()=>{Ti(L,h,4),u=v.onStop=void 0}},m;if(Nr)if(g=Re,t?i&&De(t,h,3,[c(),f?[]:void 0,g]):c(),n==="sync"){const L=lp();m=L.__watcherHandles||(L.__watcherHandles=[])}else return Re;let B=f?new Array(e.length).fill(Gn):Gn;const b=()=>{if(!(!v.active||!v.dirty))if(t){const L=v.run();(s||_||(f?L.some((G,q)=>ss(G,B[q])):ss(L,B)))&&(u&&u(),De(t,h,3,[L,B===Gn?void 0:f&&B[0]===Gn?[]:B,g]),B=L)}else v.run()};b.allowRecurse=!!t;let x;n==="sync"?x=b:n==="post"?x=()=>re(b,h&&h.suspense):(b.pre=!0,h&&(b.id=h.uid),x=()=>_h(b));const v=new nh(c,Re,x),k=Kf(),W=()=>{v.stop(),k&&th(k.effects,v)};return t?i?b():B=v.run():n==="post"?re(v.run.bind(v),h&&h.suspense):v.run(),m&&m.push(W),W}function cp(e,t,i){const s=this.proxy,n=Vt(e)?e.includes(".")?yd(s,e):()=>s[e]:e.bind(s,s);let r;Q(t)?r=t:(r=t.handler,i=t);const o=Bn(this),a=gd(n,r.bind(s),i);return o(),a}function yd(e,t){const i=t.split(".");return()=>{let s=e;for(let n=0;n<i.length&&s;n++)s=s[i[n]];return s}}function Zi(e,t=1/0,i){if(t<=0||!$t(e)||e.__v_skip||(i=i||new Set,i.has(e)))return e;if(i.add(e),t--,fe(e))Zi(e.value,t,i);else if(Z(e))for(let s=0;s<e.length;s++)Zi(e[s],t,i);else if(Lf(e)||rn(e))e.forEach(s=>{Zi(s,t,i)});else if(Df(e)){for(const s in e)Zi(e[s],t,i);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Zi(e[s],t,i)}return e}const md=e=>e.type.__isKeepAlive;function up(e,t){wd(e,"a",t)}function dp(e,t){wd(e,"da",t)}function wd(e,t,i=te){const s=e.__wdc||(e.__wdc=()=>{let n=i;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Fr(t,s,i),i){let n=i.parent;for(;n&&n.parent;)md(n.parent.vnode)&&fp(s,t,i,n),n=n.parent}}function fp(e,t,i,s){const n=Fr(t,e,s,!0);id(()=>{th(s[t],n)},i)}function xd(e,t){e.shapeFlag&6&&e.component?xd(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}const _p=e=>e.__isTeleport,li=Symbol.for("v-fgt"),Hr=Symbol.for("v-txt"),mn=Symbol.for("v-cmt"),co=Symbol.for("v-stc"),cn=[];let Me=null;function pp(e=!1){cn.push(Me=e?null:[])}function gp(){cn.pop(),Me=cn[cn.length-1]||null}let wn=1;function rl(e){wn+=e}function yp(e){return e.dynamicChildren=wn>0?Me||Es:null,gp(),wn>0&&Me&&Me.push(e),e}function mp(e,t,i,s,n){return yp(ki(e,t,i,s,n,!0))}function wp(e){return e?e.__v_isVNode===!0:!1}function js(e,t){return e.type===t.type&&e.key===t.key}const bd=({key:e})=>e??null,yr=({ref:e,ref_key:t,ref_for:i})=>(typeof e=="number"&&(e=""+e),e!=null?Vt(e)||fe(e)||Q(e)?{i:Xe,r:e,k:t,f:!!i}:e:null);function xp(e,t=null,i=null,s=0,n=null,r=e===li?0:1,o=!1,a=!1){const h={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&bd(t),ref:t&&yr(t),scopeId:ed,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Xe};return a?(yh(h,i),r&128&&e.normalize(h)):i&&(h.shapeFlag|=Vt(i)?8:16),wn>0&&!o&&Me&&(h.patchFlag>0||r&6)&&h.patchFlag!==32&&Me.push(h),h}const ki=bp;function bp(e,t=null,i=null,s=0,n=null,r=!1){if((!e||e===M_)&&(e=mn),wp(e)){const a=Os(e,t,!0);return i&&yh(a,i),wn>0&&!r&&Me&&(a.shapeFlag&6?Me[Me.indexOf(e)]=a:Me.push(a)),a.patchFlag=-2,a}if(Mp(e)&&(e=e.__vccOpts),t){t=vp(t);let{class:a,style:h}=t;a&&!Vt(a)&&(t.class=sh(a)),$t(h)&&(Yu(h)&&!Z(h)&&(h=jt({},h)),t.style=ih(h))}const o=Vt(e)?1:L_(e)?128:_p(e)?64:$t(e)?4:Q(e)?2:0;return xp(e,t,i,s,n,o,r,!0)}function vp(e){return e?Yu(e)||hd(e)?jt({},e):e:null}function Os(e,t,i=!1,s=!1){const{props:n,ref:r,patchFlag:o,children:a,transition:h}=e,l=t?Cp(n||{},t):n,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&bd(l),ref:t&&t.ref?i&&r?Z(r)?r.concat(yr(t)):[r,yr(t)]:yr(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==li?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:h,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Os(e.ssContent),ssFallback:e.ssFallback&&Os(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return h&&s&&xd(c,h.clone(c)),c}function Rp(e=" ",t=0){return ki(Hr,null,e,t)}function Ve(e){return e==null||typeof e=="boolean"?ki(mn):Z(e)?ki(li,null,e.slice()):typeof e=="object"?Ei(e):ki(Hr,null,String(e))}function Ei(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Os(e)}function yh(e,t){let i=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(Z(t))i=16;else if(typeof t=="object")if(s&65){const n=t.default;n&&(n._c&&(n._d=!1),yh(e,n()),n._c&&(n._d=!0));return}else{i=32;const n=t._;!n&&!hd(t)?t._ctx=Xe:n===3&&Xe&&(Xe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Q(t)?(t={default:t,_ctx:Xe},i=32):(t=String(t),s&64?(i=16,t=[Rp(t)]):i=8);e.children=t,e.shapeFlag|=i}function Cp(...e){const t={};for(let i=0;i<e.length;i++){const s=e[i];for(const n in s)if(n==="class")t.class!==s.class&&(t.class=sh([t.class,s.class]));else if(n==="style")t.style=ih([t.style,s.style]);else if(Lr(n)){const r=t[n],o=s[n];o&&r!==o&&!(Z(r)&&r.includes(o))&&(t[n]=r?[].concat(r,o):o)}else n!==""&&(t[n]=s[n])}return t}function He(e,t,i,s=null){De(e,t,7,[i,s])}const Ep=rd();let Sp=0;function Bp(e,t,i){const s=e.type,n=(t?t.appContext:e.appContext)||Ep,r={uid:Sp++,vnode:e,type:s,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new Vf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:cd(s,n),emitsOptions:td(s,n),emit:null,emitted:null,propsDefaults:Bt,inheritAttrs:s.inheritAttrs,ctx:Bt,data:Bt,props:Bt,attrs:Bt,slots:Bt,refs:Bt,setupState:Bt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=S_.bind(null,r),e.ce&&e.ce(r),r}let te=null,Er,Pa;{const e=Lu(),t=(i,s)=>{let n;return(n=e[i])||(n=e[i]=[]),n.push(s),r=>{n.length>1?n.forEach(o=>o(r)):n[0](r)}};Er=t("__VUE_INSTANCE_SETTERS__",i=>te=i),Pa=t("__VUE_SSR_SETTERS__",i=>Nr=i)}const Bn=e=>{const t=te;return Er(e),e.scope.on(),()=>{e.scope.off(),Er(t)}},ol=()=>{te&&te.scope.off(),Er(null)};function vd(e){return e.vnode.shapeFlag&4}let Nr=!1;function Pp(e,t=!1){t&&Pa(t);const{props:i,children:s}=e.vnode,n=vd(e);Q_(e,i,n,t),ip(e,s);const r=n?Tp(e,t):void 0;return t&&Pa(!1),r}function Tp(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,U_);const{setup:s}=i;if(s){const n=e.setupContext=s.length>1?Op(e):null,r=Bn(e);Ii();const o=Ti(s,e,0,[e.props,n]);if(Di(),r(),ku(o)){if(o.then(ol,ol),t)return o.then(a=>{al(e,a,t)}).catch(a=>{$r(a,e,0)});e.asyncDep=o}else al(e,o,t)}else Rd(e,t)}function al(e,t,i){Q(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:$t(t)&&(e.setupState=Xu(t)),Rd(e,i)}let hl;function Rd(e,t,i){const s=e.type;if(!e.render){if(!t&&hl&&!s.render){const n=s.template||ph(e).template;if(n){const{isCustomElement:r,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:h}=s,l=jt(jt({isCustomElement:r,delimiters:a},o),h);s.render=hl(n,l)}}e.render=s.render||Re}{const n=Bn(e);Ii();try{G_(e)}finally{Di(),n()}}}const kp={get(e,t){return ae(e,"get",""),e[t]}};function Op(e){const t=i=>{e.exposed=i||{}};return{attrs:new Proxy(e.attrs,kp),slots:e.slots,emit:e.emit,expose:t}}function mh(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Xu(p_(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in hn)return hn[i](e)},has(t,i){return i in t||i in hn}})):e.proxy}function Mp(e){return Q(e)&&"__vccOpts"in e}const Lp=(e,t)=>g_(e,t,Nr),Ap="3.4.31";/**
* @vue/runtime-dom v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Ip="http://www.w3.org/2000/svg",Dp="http://www.w3.org/1998/Math/MathML",hi=typeof document<"u"?document:null,ll=hi&&hi.createElement("template"),$p={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,s)=>{const n=t==="svg"?hi.createElementNS(Ip,e):t==="mathml"?hi.createElementNS(Dp,e):i?hi.createElement(e,{is:i}):hi.createElement(e);return e==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:e=>hi.createTextNode(e),createComment:e=>hi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>hi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,s,n,r){const o=i?i.previousSibling:t.lastChild;if(n&&(n===r||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),i),!(n===r||!(n=n.nextSibling)););else{ll.innerHTML=s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e;const a=ll.content;if(s==="svg"||s==="mathml"){const h=a.firstChild;for(;h.firstChild;)a.appendChild(h.firstChild);a.removeChild(h)}t.insertBefore(a,i)}return[o?o.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}},Wp=Symbol("_vtc");function Fp(e,t,i){const s=e[Wp];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}const cl=Symbol("_vod"),Hp=Symbol("_vsh"),Np=Symbol(""),zp=/(^|;)\s*display\s*:/;function jp(e,t,i){const s=e.style,n=Vt(i);let r=!1;if(i&&!n){if(t)if(Vt(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();i[a]==null&&mr(s,a,"")}else for(const o in t)i[o]==null&&mr(s,o,"");for(const o in i)o==="display"&&(r=!0),mr(s,o,i[o])}else if(n){if(t!==i){const o=s[Np];o&&(i+=";"+o),s.cssText=i,r=zp.test(i)}}else t&&e.removeAttribute("style");cl in e&&(e[cl]=r?s.display:"",e[Hp]&&(s.display="none"))}const ul=/\s*!important$/;function mr(e,t,i){if(Z(i))i.forEach(s=>mr(e,t,s));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const s=Up(e,t);ul.test(i)?e.setProperty($s(s),i.replace(ul,""),"important"):e[s]=i}}const dl=["Webkit","Moz","ms"],uo={};function Up(e,t){const i=uo[t];if(i)return i;let s=ks(t);if(s!=="filter"&&s in e)return uo[t]=s;s=Ou(s);for(let n=0;n<dl.length;n++){const r=dl[n]+s;if(r in e)return uo[t]=r}return t}const fl="http://www.w3.org/1999/xlink";function _l(e,t,i,s,n,r=Gf(t)){s&&t.startsWith("xlink:")?i==null?e.removeAttributeNS(fl,t.slice(6,t.length)):e.setAttributeNS(fl,t,i):i==null||r&&!Au(i)?e.removeAttribute(t):e.setAttribute(t,r?"":Ds(i)?String(i):i)}function Gp(e,t,i,s,n,r,o){if(t==="innerHTML"||t==="textContent"){s&&o(s,n,r),e[t]=i??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const l=a==="OPTION"?e.getAttribute("value")||"":e.value,c=i==null?"":String(i);(l!==c||!("_value"in e))&&(e.value=c),i==null&&e.removeAttribute(t),e._value=i;return}let h=!1;if(i===""||i==null){const l=typeof e[t];l==="boolean"?i=Au(i):i==null&&l==="string"?(i="",h=!0):l==="number"&&(i=0,h=!0)}try{e[t]=i}catch{}h&&e.removeAttribute(t)}function Vp(e,t,i,s){e.addEventListener(t,i,s)}function Yp(e,t,i,s){e.removeEventListener(t,i,s)}const pl=Symbol("_vei");function Kp(e,t,i,s,n=null){const r=e[pl]||(e[pl]={}),o=r[t];if(s&&o)o.value=s;else{const[a,h]=Xp(t);if(s){const l=r[t]=Jp(s,n);Vp(e,a,l,h)}else o&&(Yp(e,a,o,h),r[t]=void 0)}}const gl=/(?:Once|Passive|Capture)$/;function Xp(e){let t;if(gl.test(e)){t={};let s;for(;s=e.match(gl);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):$s(e.slice(2)),t]}let fo=0;const qp=Promise.resolve(),Zp=()=>fo||(qp.then(()=>fo=0),fo=Date.now());function Jp(e,t){const i=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=i.attached)return;De(Qp(s,i.value),t,5,[s])};return i.value=e,i.attached=Zp(),i}function Qp(e,t){if(Z(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(s=>n=>!n._stopped&&s&&s(n))}else return t}const yl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,tg=(e,t,i,s,n,r,o,a,h)=>{const l=n==="svg";t==="class"?Fp(e,s,l):t==="style"?jp(e,i,s):Lr(t)?Qa(t)||Kp(e,t,i,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):eg(e,t,s,l))?(Gp(e,t,s,r,o,a,h),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&_l(e,t,s,l,o,t!=="value")):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),_l(e,t,s,l))};function eg(e,t,i,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&yl(t)&&Q(i));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return yl(t)&&Vt(i)?!1:t in e}const ig=jt({patchProp:tg},$p);let ml;function sg(){return ml||(ml=np(ig))}const ng=(...e)=>{const t=sg().createApp(...e),{mount:i}=t;return t.mount=s=>{const n=og(s);if(!n)return;const r=t._component;!Q(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.innerHTML="";const o=i(n,!1,rg(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function rg(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function og(e){return Vt(e)?document.querySelector(e):e}const I={toURL(e,t){let i=encodeURIComponent(e);return t==="text"?i="data:text/plain;charset=utf-8,"+i:t==="svg"&&(i="data:image/svg+xml,"+i),i},image:{hitCanvasSize:100,maxCacheSize:2560*1600,maxPatternSize:4096*2160,crossOrigin:"anonymous",getRealURL(e){const{prefix:t,suffix:i}=I.image;return i&&!e.startsWith("data:")&&!e.startsWith("blob:")&&(e+=(e.includes("?")?"&":"?")+i),t&&e[0]==="/"&&(e=t+e),e}}},It={},_i={RUNTIME:"runtime",LEAF:"leaf",TASK:"task",CNAVAS:"canvas",IMAGE:"image",types:{},create(e){const{types:t}=ag;return t[e]?t[e]++:(t[e]=1,0)}},ag=_i,{round:hg,pow:lg,PI:wh}=Math,Ee={within(e,t,i){return t!==void 0&&e<t&&(e=t),i!==void 0&&e>i&&(e=i),e},fourNumber(e,t){let i;if(e instanceof Array)switch(e.length){case 4:i=t===void 0?e:[...e];break;case 2:i=[e[0],e[1],e[0],e[1]];break;case 3:i=[e[0],e[1],e[2],e[1]];break;case 1:e=e[0];break;default:e=0}if(i||(i=[e,e,e,e]),t)for(let s=0;s<4;s++)i[s]>t&&(i[s]=t);return i},formatRotation(e,t){return e%=360,t?e<0&&(e+=360):(e>180&&(e-=360),e<-180&&(e+=360)),Ee.float(e)},getGapRotation(e,t,i=0){let s=e+i;if(t>1){const n=Math.abs(s%t);(n<1||n>t-1)&&(s=Math.round(s/t)*t)}return s-i},float(e,t){const i=t?lg(10,t):1e12;return e=hg(e*i)/i,e===-0?0:e}},dt=wh/180,be=wh*2,bs=wh/2;function Cd(){return{x:0,y:0}}function Ed(){return{x:0,y:0,width:0,height:0}}function Ta(){return{a:1,b:0,c:0,d:1,e:0,f:0}}const{sin:_o,cos:po,acos:Vn,sqrt:go}=Math,{float:_s}=Ee,ps={};function wl(){return Object.assign(Object.assign(Object.assign({},Ta()),Ed()),{scaleX:1,scaleY:1,rotation:0,skewX:0,skewY:0})}const X={defaultMatrix:Ta(),defaultWorld:wl(),tempMatrix:{},set(e,t=1,i=0,s=0,n=1,r=0,o=0){e.a=t,e.b=i,e.c=s,e.d=n,e.e=r,e.f=o},get:Ta,getWorld:wl,copy(e,t){e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.e=t.e,e.f=t.f},translate(e,t,i){e.e+=t,e.f+=i},translateInner(e,t,i,s){e.e+=e.a*t+e.c*i,e.f+=e.b*t+e.d*i,s&&(e.e-=t,e.f-=i)},scale(e,t,i=t){e.a*=t,e.b*=t,e.c*=i,e.d*=i},scaleOfOuter(e,t,i,s){Ct.toInnerPoint(e,t,ps),Ct.scaleOfInner(e,ps,i,s)},scaleOfInner(e,t,i,s=i){Ct.translateInner(e,t.x,t.y),Ct.scale(e,i,s),Ct.translateInner(e,-t.x,-t.y)},rotate(e,t){const{a:i,b:s,c:n,d:r}=e;t*=dt;const o=po(t),a=_o(t);e.a=i*o-s*a,e.b=i*a+s*o,e.c=n*o-r*a,e.d=n*a+r*o},rotateOfOuter(e,t,i){Ct.toInnerPoint(e,t,ps),Ct.rotateOfInner(e,ps,i)},rotateOfInner(e,t,i){Ct.translateInner(e,t.x,t.y),Ct.rotate(e,i),Ct.translateInner(e,-t.x,-t.y)},skew(e,t,i){const{a:s,b:n,c:r,d:o}=e;i&&(i*=dt,e.a=s+r*i,e.b=n+o*i),t&&(t*=dt,e.c=r+s*t,e.d=o+n*t)},skewOfOuter(e,t,i,s){Ct.toInnerPoint(e,t,ps),Ct.skewOfInner(e,ps,i,s)},skewOfInner(e,t,i,s=0){Ct.translateInner(e,t.x,t.y),Ct.skew(e,i,s),Ct.translateInner(e,-t.x,-t.y)},multiply(e,t){const{a:i,b:s,c:n,d:r,e:o,f:a}=e;e.a=t.a*i+t.b*n,e.b=t.a*s+t.b*r,e.c=t.c*i+t.d*n,e.d=t.c*s+t.d*r,e.e=t.e*i+t.f*n+o,e.f=t.e*s+t.f*r+a},multiplyParent(e,t,i,s,n,r){let{e:o,f:a}=e;if(r&&(o+=r.scrollX,a+=r.scrollY),i||(i=e),s===void 0&&(s=e.a!==1||e.b||e.c||e.d!==1),s){const{a:h,b:l,c,d:_}=e;i.a=h*t.a+l*t.c,i.b=h*t.b+l*t.d,i.c=c*t.a+_*t.c,i.d=c*t.b+_*t.d,n&&(i.scaleX=t.scaleX*n.scaleX,i.scaleY=t.scaleY*n.scaleY)}else i.a=t.a,i.b=t.b,i.c=t.c,i.d=t.d,n&&(i.scaleX=t.scaleX,i.scaleY=t.scaleY);i.e=o*t.a+a*t.c+t.e,i.f=o*t.b+a*t.d+t.f},divide(e,t){Ct.multiply(e,Ct.tempInvert(t))},divideParent(e,t){Ct.multiplyParent(e,Ct.tempInvert(t))},tempInvert(e){const{tempMatrix:t}=Ct;return Ct.copy(t,e),Ct.invert(t),t},invert(e){const{a:t,b:i,c:s,d:n,e:r,f:o}=e;if(!i&&!s)if(t===1&&n===1)e.e=-r,e.f=-o;else{const a=1/(t*n);e.a=n*a,e.d=t*a,e.e=-r*n*a,e.f=-o*t*a}else{const a=1/(t*n-i*s);e.a=n*a,e.b=-i*a,e.c=-s*a,e.d=t*a,e.e=-(r*n-o*s)*a,e.f=-(o*t-r*i)*a}},toOuterPoint(e,t,i,s){const{x:n,y:r}=t;i||(i=t),i.x=n*e.a+r*e.c,i.y=n*e.b+r*e.d,s||(i.x+=e.e,i.y+=e.f)},toInnerPoint(e,t,i,s){const{a:n,b:r,c:o,d:a}=e,h=1/(n*a-r*o),{x:l,y:c}=t;if(i||(i=t),i.x=(l*a-c*o)*h,i.y=(c*n-l*r)*h,!s){const{e:_,f}=e;i.x-=(_*a-f*o)*h,i.y-=(f*n-_*r)*h}},setLayout(e,t,i,s){const{x:n,y:r,scaleX:o,scaleY:a}=t;if(s===void 0&&(s=t.rotation||t.skewX||t.skewY),s){const{rotation:h,skewX:l,skewY:c}=t,_=h*dt,f=po(_),u=_o(_);if(l||c){const g=l*dt,m=c*dt;e.a=(f+m*-u)*o,e.b=(u+m*f)*o,e.c=(-u+g*f)*a,e.d=(f+g*u)*a}else e.a=f*o,e.b=u*o,e.c=-u*a,e.d=f*a}else e.a=o,e.b=0,e.c=0,e.d=a;e.e=n,e.f=r,i&&Ct.translateInner(e,-i.x,-i.y,!0)},getLayout(e,t,i){const{a:s,b:n,c:r,d:o,e:a,f:h}=e;let l=a,c=h,_,f,u,g,m;if(n||r){const B=s*o-n*r;if(r&&!i){_=go(s*s+n*n),f=B/_;const v=s/_;u=n>0?Vn(v):-Vn(v)}else{f=go(r*r+o*o),_=B/f;const v=r/f;u=bs-(o>0?Vn(-v):-Vn(v))}const b=_s(po(u)),x=_o(u);_=_s(_),f=_s(f),g=b?_s((r/f+x)/b/dt,9):0,m=b?_s((n/_-x)/b/dt,9):0,u=_s(u/dt)}else _=s,f=o,u=g=m=0;return t&&(l+=t.x*s+t.y*r,c+=t.x*n+t.y*o),{x:l,y:c,scaleX:_,scaleY:f,rotation:u,skewX:g,skewY:m}},withScale(e,t,i=t){const s=e;if(!t||!i){const{a:n,b:r,c:o,d:a}=e;r||o?(t=go(n*n+r*r),i=(n*a-r*o)/t):(t=n,i=a)}return s.scaleX=t,s.scaleY=i,s},reset(e){Ct.set(e)}},Ct=X,{toInnerPoint:yo,toOuterPoint:xl}=X,{sin:bl,cos:vl,abs:Rl,sqrt:cg,atan2:mo,min:ug,PI:dg}=Math,Y={defaultPoint:Cd(),tempPoint:{},tempRadiusPoint:{},set(e,t=0,i=0){e.x=t,e.y=i},setRadius(e,t,i){e.radiusX=t,e.radiusY=i===void 0?t:i},copy(e,t){e.x=t.x,e.y=t.y},copyFrom(e,t,i){e.x=t,e.y=i},move(e,t,i){e.x+=t,e.y+=i},scale(e,t,i=t){e.x&&(e.x*=t),e.y&&(e.y*=i)},scaleOf(e,t,i,s=i){e.x+=(e.x-t.x)*(i-1),e.y+=(e.y-t.y)*(s-1)},rotate(e,t,i){i||(i=Xi.defaultPoint),t*=dt;const s=vl(t),n=bl(t),r=e.x-i.x,o=e.y-i.y;e.x=i.x+r*s-o*n,e.y=i.y+r*n+o*s},tempToInnerOf(e,t){const{tempPoint:i}=Xi;return xo(i,e),yo(t,i,i),i},tempToOuterOf(e,t){const{tempPoint:i}=Xi;return xo(i,e),xl(t,i,i),i},tempToInnerRadiusPointOf(e,t){const{tempRadiusPoint:i}=Xi;return xo(i,e),Xi.toInnerRadiusPointOf(e,t,i),i},toInnerRadiusPointOf(e,t,i){i||(i=e),yo(t,e,i),i.radiusX=Math.abs(e.radiusX/t.scaleX),i.radiusY=Math.abs(e.radiusY/t.scaleY)},toInnerOf(e,t,i){yo(t,e,i)},toOuterOf(e,t,i){xl(t,e,i)},getCenter(e,t){return{x:e.x+(t.x-e.x)/2,y:e.y+(t.y-e.y)/2}},getCenterX(e,t){return e+(t-e)/2},getCenterY(e,t){return e+(t-e)/2},getDistance(e,t){return wo(e.x,e.y,t.x,t.y)},getDistanceFrom(e,t,i,s){const n=Rl(i-e),r=Rl(s-t);return cg(n*n+r*r)},getMinDistanceFrom(e,t,i,s,n,r){return ug(wo(e,t,i,s),wo(i,s,n,r))},getAngle(e,t){return Cl(e,t)/dt},getRotation(e,t,i,s){return s||(s=t),Xi.getRadianFrom(e.x,e.y,t.x,t.y,i.x,i.y,s.x,s.y)/dt},getRadianFrom(e,t,i,s,n,r,o,a){o===void 0&&(o=i,a=s);let h=mo(t-s,e-i);const c=mo(r-a,n-o)-h;return c<-dg?c+be:c},getAtan2(e,t){return mo(t.y-e.y,t.x-e.x)},getDistancePoint(e,t,i,s){const n=Cl(e,t);return t=s?t:{},t.x=e.x+vl(n)*i,t.y=e.y+bl(n)*i,t},reset(e){}},Xi=Y,{getDistanceFrom:wo,copy:xo,getAtan2:Cl}=Xi;class un{constructor(t,i){this.set(t,i)}set(t,i){return typeof t=="object"?Y.copy(this,t):Y.set(this,t,i),this}get(){const{x:t,y:i}=this;return{x:t,y:i}}clone(){return new un(this)}move(t,i){return Y.move(this,t,i),this}scale(t,i){return Y.scale(this,t,i),this}scaleOf(t,i,s){return Y.scaleOf(this,t,i,s),this}rotate(t,i){return Y.rotate(this,t,i),this}rotateOf(t,i){return Y.rotate(this,i,t),this}getRotation(t,i,s){return Y.getRotation(this,t,i,s)}toInnerOf(t,i){return Y.toInnerOf(this,t,i),this}toOuterOf(t,i){return Y.toOuterOf(this,t,i),this}getCenter(t){return new un(Y.getCenter(this,t))}getDistance(t){return Y.getDistance(this,t)}getDistancePoint(t,i,s){return new un(Y.getDistancePoint(this,t,i,s))}getAngle(t){return Y.getAngle(this,t)}getAtan2(t){return Y.getAtan2(this,t)}reset(){return this}}new un;class Li{constructor(t,i,s,n,r,o){this.set(t,i,s,n,r,o)}set(t,i,s,n,r,o){return typeof t=="object"?X.copy(this,t):X.set(this,t,i,s,n,r,o),this}setWith(t){return X.copy(this,t),this.scaleX=t.scaleX,this.scaleY=t.scaleY,this}get(){const{a:t,b:i,c:s,d:n,e:r,f:o}=this;return{a:t,b:i,c:s,d:n,e:r,f:o}}clone(){return new Li(this)}translate(t,i){return X.translate(this,t,i),this}translateInner(t,i){return X.translateInner(this,t,i),this}scale(t,i){return X.scale(this,t,i),this}scaleWith(t,i){return X.scale(this,t,i),this.scaleX*=t,this.scaleY*=i||t,this}scaleOfOuter(t,i,s){return X.scaleOfOuter(this,t,i,s),this}scaleOfInner(t,i,s){return X.scaleOfInner(this,t,i,s),this}rotate(t){return X.rotate(this,t),this}rotateOfOuter(t,i){return X.rotateOfOuter(this,t,i),this}rotateOfInner(t,i){return X.rotateOfInner(this,t,i),this}skew(t,i){return X.skew(this,t,i),this}skewOfOuter(t,i,s){return X.skewOfOuter(this,t,i,s),this}skewOfInner(t,i,s){return X.skewOfInner(this,t,i,s),this}multiply(t){return X.multiply(this,t),this}multiplyParent(t){return X.multiplyParent(this,t),this}divide(t){return X.divide(this,t),this}divideParent(t){return X.divideParent(this,t),this}invert(){return X.invert(this),this}invertWith(){return X.invert(this),this.scaleX=1/this.scaleX,this.scaleY=1/this.scaleY,this}toOuterPoint(t,i,s){X.toOuterPoint(this,t,i,s)}toInnerPoint(t,i,s){X.toInnerPoint(this,t,i,s)}setLayout(t,i){return X.setLayout(this,t,i),this}getLayout(t,i){return X.getLayout(this,t,i)}withScale(t,i){return X.withScale(this,t,i)}reset(){X.reset(this)}}new Li;const Pn={tempPointBounds:{},setPoint(e,t,i){e.minX=e.maxX=t,e.minY=e.maxY=i},addPoint(e,t,i){e.minX=t<e.minX?t:e.minX,e.minY=i<e.minY?i:e.minY,e.maxX=t>e.maxX?t:e.maxX,e.maxY=i>e.maxY?i:e.maxY},addBounds(e,t,i,s,n){El(e,t,i),El(e,t+s,i+n)},copy(e,t){e.minX=t.minX,e.minY=t.minY,e.maxX=t.maxX,e.maxY=t.maxY},addPointBounds(e,t){e.minX=t.minX<e.minX?t.minX:e.minX,e.minY=t.minY<e.minY?t.minY:e.minY,e.maxX=t.maxX>e.maxX?t.maxX:e.maxX,e.maxY=t.maxY>e.maxY?t.maxY:e.maxY},toBounds(e,t){t.x=e.minX,t.y=e.minY,t.width=e.maxX-e.minX,t.height=e.maxY-e.minY}},{addPoint:El}=Pn,{tempPointBounds:bi,setPoint:Sl,addPoint:Yn,toBounds:Bl}=Pn,{toOuterPoint:Kn}=X,{float:Xn,fourNumber:fg}=Ee,{floor:Pl,ceil:qn}=Math;let Ne,ze,zi,ji;const ii={},_e={},F={tempBounds:{},set(e,t=0,i=0,s=0,n=0){e.x=t,e.y=i,e.width=s,e.height=n},copy(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},copyAndSpread(e,t,i,s){if(i instanceof Array){const n=fg(i);s?at.set(e,t.x+n[3],t.y+n[0],t.width-n[1]-n[3],t.height-n[2]-n[0]):at.set(e,t.x-n[3],t.y-n[0],t.width+n[1]+n[3],t.height+n[2]+n[0])}else s&&(i=-i),at.set(e,t.x-i,t.y-i,t.width+i*2,t.height+i*2)},minX(e){return e.width>0?e.x:e.x+e.width},minY(e){return e.height>0?e.y:e.y+e.height},maxX(e){return e.width>0?e.x+e.width:e.x},maxY(e){return e.height>0?e.y+e.height:e.y},move(e,t,i){e.x+=t,e.y+=i},getByMove(e,t,i){return e=Object.assign({},e),at.move(e,t,i),e},toOffsetOutBounds(e,t,i){t?kl(t,e):t=e,i?(t.offsetX=-(at.maxX(i)-e.x),t.offsetY=-(at.maxY(i)-e.y)):(t.offsetX=e.x+e.width,t.offsetY=e.y+e.height),at.move(t,-t.offsetX,-t.offsetY)},scale(e,t,i=t){Y.scale(e,t,i),e.width*=t,e.height*=i},scaleOf(e,t,i,s=i){Y.scaleOf(e,t,i,s),e.width*=i,e.height*=s},tempToOuterOf(e,t){return at.copy(at.tempBounds,e),at.toOuterOf(at.tempBounds,t),at.tempBounds},getOuterOf(e,t){return e=Object.assign({},e),at.toOuterOf(e,t),e},toOuterOf(e,t,i){if(i||(i=e),t.b===0&&t.c===0){const{a:s,d:n}=t;s>0?(i.width=e.width*s,i.x=t.e+e.x*s):(i.width=e.width*-s,i.x=t.e+e.x*s-i.width),n>0?(i.height=e.height*n,i.y=t.f+e.y*n):(i.height=e.height*-n,i.y=t.f+e.y*n-i.height)}else ii.x=e.x,ii.y=e.y,Kn(t,ii,_e),Sl(bi,_e.x,_e.y),ii.x=e.x+e.width,Kn(t,ii,_e),Yn(bi,_e.x,_e.y),ii.y=e.y+e.height,Kn(t,ii,_e),Yn(bi,_e.x,_e.y),ii.x=e.x,Kn(t,ii,_e),Yn(bi,_e.x,_e.y),Bl(bi,i)},toInnerOf(e,t,i){i||(i=e),at.move(i,-t.e,-t.f),at.scale(i,1/t.a,1/t.d)},getFitMatrix(e,t,i=1){const s=Math.min(i,Math.min(e.width/t.width,e.height/t.height));return new Li(s,0,0,s,-t.x*s,-t.y*s)},getSpread(e,t){const i={};return at.copyAndSpread(i,e,t),i},spread(e,t){at.copyAndSpread(e,e,t)},shrink(e,t){at.copyAndSpread(e,e,t,!0)},ceil(e){const{x:t,y:i}=e;e.x=Pl(e.x),e.y=Pl(e.y),e.width=t>e.x?qn(e.width+t-e.x):qn(e.width),e.height=i>e.y?qn(e.height+i-e.y):qn(e.height)},unsign(e){e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height)},float(e,t){e.x=Xn(e.x,t),e.y=Xn(e.y,t),e.width=Xn(e.width,t),e.height=Xn(e.height,t)},add(e,t,i){Ne=e.x+e.width,ze=e.y+e.height,zi=t.x,ji=t.y,i||(zi+=t.width,ji+=t.height),Ne=Ne>zi?Ne:zi,ze=ze>ji?ze:ji,e.x=e.x<t.x?e.x:t.x,e.y=e.y<t.y?e.y:t.y,e.width=Ne-e.x,e.height=ze-e.y},addList(e,t){at.setListWithFn(e,t,void 0,!0)},setList(e,t,i=!1){at.setListWithFn(e,t,void 0,i)},addListWithFn(e,t,i){at.setListWithFn(e,t,i,!0)},setListWithFn(e,t,i,s=!1){let n,r=!0;for(let o=0,a=t.length;o<a;o++)n=i?i(t[o]):t[o],n&&(n.width||n.height)&&(r?(r=!1,s||kl(e,n)):Tl(e,n));r&&at.reset(e)},setPoints(e,t){t.forEach((i,s)=>s===0?Sl(bi,i.x,i.y):Yn(bi,i.x,i.y)),Bl(bi,e)},setPoint(e,t){at.set(e,t.x,t.y)},addPoint(e,t){Tl(e,t,!0)},getPoints(e){const{x:t,y:i,width:s,height:n}=e;return[{x:t,y:i},{x:t+s,y:i},{x:t+s,y:i+n},{x:t,y:i+n}]},hitRadiusPoint(e,t,i){return i&&(t=Y.tempToInnerRadiusPointOf(t,i)),t.x>=e.x-t.radiusX&&t.x<=e.x+e.width+t.radiusX&&t.y>=e.y-t.radiusY&&t.y<=e.y+e.height+t.radiusY},hitPoint(e,t,i){return i&&(t=Y.tempToInnerOf(t,i)),t.x>=e.x&&t.x<=e.x+e.width&&t.y>=e.y&&t.y<=e.y+e.height},hit(e,t,i){return i&&(t=at.tempToOuterOf(t,i)),!(e.y+e.height<t.y||t.y+t.height<e.y||e.x+e.width<t.x||t.x+t.width<e.x)},includes(e,t,i){return i&&(t=at.tempToOuterOf(t,i)),e.x<=t.x&&e.y<=t.y&&e.x+e.width>=t.x+t.width&&e.y+e.height>=t.y+t.height},getIntersectData(e,t,i){if(i&&(t=at.tempToOuterOf(t,i)),!at.hit(e,t))return Ed();let{x:s,y:n,width:r,height:o}=t;return Ne=s+r,ze=n+o,zi=e.x+e.width,ji=e.y+e.height,s=s>e.x?s:e.x,n=n>e.y?n:e.y,Ne=Ne<zi?Ne:zi,ze=ze<ji?ze:ji,r=Ne-s,o=ze-n,{x:s,y:n,width:r,height:o}},intersect(e,t,i){at.copy(e,at.getIntersectData(e,t,i))},isSame(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height},isEmpty(e){return e.x===0&&e.y===0&&e.width===0&&e.height===0},reset(e){at.set(e)}},at=F,{add:Tl,copy:kl}=at;class Pt{get minX(){return F.minX(this)}get minY(){return F.minY(this)}get maxX(){return F.maxX(this)}get maxY(){return F.maxY(this)}constructor(t,i,s,n){this.set(t,i,s,n)}set(t,i,s,n){return typeof t=="object"?F.copy(this,t):F.set(this,t,i,s,n),this}get(){const{x:t,y:i,width:s,height:n}=this;return{x:t,y:i,width:s,height:n}}clone(){return new Pt(this)}move(t,i){return F.move(this,t,i),this}scale(t,i){return F.scale(this,t,i),this}scaleOf(t,i,s){return F.scaleOf(this,t,i,s),this}toOuterOf(t,i){return F.toOuterOf(this,t,i),this}toInnerOf(t,i){return F.toInnerOf(this,t,i),this}getFitMatrix(t,i){return F.getFitMatrix(this,t,i)}spread(t){return F.spread(this,t),this}shrink(t){return F.shrink(this,t),this}ceil(){return F.ceil(this),this}unsign(){return F.unsign(this),this}float(t){return F.float(this,t),this}add(t){return F.add(this,t),this}addList(t){return F.setList(this,t,!0),this}setList(t){return F.setList(this,t),this}addListWithFn(t,i){return F.setListWithFn(this,t,i,!0),this}setListWithFn(t,i){return F.setListWithFn(this,t,i),this}setPoint(t){return F.setPoint(this,t),this}setPoints(t){return F.setPoints(this,t),this}addPoint(t){return F.addPoint(this,t),this}getPoints(){return F.getPoints(this)}hitPoint(t,i){return F.hitPoint(this,t,i)}hitRadiusPoint(t,i){return F.hitRadiusPoint(this,t,i)}hit(t,i){return F.hit(this,t,i)}includes(t,i){return F.includes(this,t,i)}intersect(t,i){return F.intersect(this,t,i),this}getIntersect(t,i){return new Pt(F.getIntersectData(this,t,i))}isSame(t){return F.isSame(this,t)}isEmpty(){return F.isEmpty(this)}reset(){F.reset(this)}}const ct=new Pt;class _g{constructor(t,i,s,n,r,o){typeof t=="object"?this.copy(t):this.set(t,i,s,n,r,o)}set(t=0,i=0,s=0,n=0,r=0,o=0){this.top=t,this.right=i,this.bottom=s,this.left=n,this.width=r,this.height=o}copy(t){const{top:i,right:s,bottom:n,left:r,width:o,height:a}=t;this.set(i,s,n,r,o,a)}getBoundsFrom(t){const{top:i,right:s,bottom:n,left:r,width:o,height:a}=this;return new Pt(r,i,o||t.width-r-s,a||t.height-i-n)}}var ka;(function(e){e[e.top=0]="top",e[e.right=1]="right",e[e.bottom=2]="bottom",e[e.left=3]="left"})(ka||(ka={}));var Oa;(function(e){e[e.topLeft=0]="topLeft",e[e.top=1]="top",e[e.topRight=2]="topRight",e[e.right=3]="right",e[e.bottomRight=4]="bottomRight",e[e.bottom=5]="bottom",e[e.bottomLeft=6]="bottomLeft",e[e.left=7]="left",e[e.center=8]="center",e[e["top-left"]=0]="top-left",e[e["top-right"]=2]="top-right",e[e["bottom-right"]=4]="bottom-right",e[e["bottom-left"]=6]="bottom-left"})(Oa||(Oa={}));const xh=[{x:0,y:0},{x:.5,y:0},{x:1,y:0},{x:1,y:.5},{x:1,y:1},{x:.5,y:1},{x:0,y:1},{x:0,y:.5},{x:.5,y:.5}];xh.forEach(e=>e.type="percent");const Ws={directionData:xh,tempPoint:{},get:Ol,toPoint(e,t,i,s,n){i||(i={});const r=Ol(e);i.x=r.x,i.y=r.y,r.type==="percent"&&(i.x*=t.width,i.y*=t.height,n&&(i.x-=n.x,i.y-=n.y,r.x&&(i.x-=r.x===1?n.width:r.x===.5?r.x*n.width:0),r.y&&(i.y-=r.y===1?n.height:r.y===.5?r.y*n.height:0))),s||(i.x+=t.x,i.y+=t.y)}};function Ol(e){return typeof e=="string"?xh[Oa[e]]:e}const{toPoint:pg}=Ws,Sd={toPoint(e,t,i,s,n){pg(e,i,s,n,t)}},gg={0:1,1:1,2:1,3:1,4:1,5:1,6:1,7:1,8:1,9:1,".":1,e:1,E:1};class ft{constructor(t){this.repeatMap={},this.name=t}static get(t){return new ft(t)}static set filter(t){this.filterList=Ml(t)}static set exclude(t){this.excludeList=Ml(t)}log(...t){if(Ui.enable){if(Ui.filterList.length&&Ui.filterList.every(i=>i!==this.name)||Ui.excludeList.length&&Ui.excludeList.some(i=>i===this.name))return;console.log("%c"+this.name,"color:#21ae62",...t)}}tip(...t){Ui.enable&&this.warn(...t)}warn(...t){Ui.showWarn&&console.warn(this.name,...t)}repeat(t,...i){this.repeatMap[t]||(this.warn("repeat:"+t,...i),this.repeatMap[t]=!0)}error(...t){try{throw new Error}catch(i){console.error(this.name,...t,i)}}}ft.filterList=[];ft.excludeList=[];ft.showWarn=!0;function Ml(e){return e?typeof e=="string"&&(e=[e]):e=[],e}const Ui=ft,yg=ft.get("RunTime"),Le={currentId:0,currentName:"",idMap:{},nameMap:{},nameToIdMap:{},start(e,t){const i=_i.create(_i.RUNTIME);return pe.currentId=pe.idMap[i]=t?performance.now():Date.now(),pe.currentName=pe.nameMap[i]=e,pe.nameToIdMap[e]=i,i},end(e,t){const i=pe.idMap[e],s=pe.nameMap[e],n=t?(performance.now()-i)/1e3:Date.now()-i;pe.idMap[e]=pe.nameMap[e]=pe.nameToIdMap[s]=void 0,yg.log(s,n,"ms")},endOfName(e,t){const i=pe.nameToIdMap[e];i!==void 0&&pe.end(i,t)}},pe=Le,mg=ft.get("UICreator"),zr={list:{},register(e){const{__tag:t}=e.prototype;bo[t]?mg.repeat(t):bo[t]=e},get(e,t,i,s,n,r){const o=new bo[e](t);return i!==void 0&&(o.x=i,s&&(o.y=s),n&&(o.width=n),r&&(o.height=r)),o}},{list:bo}=zr,wg=ft.get("EventCreator"),Ms={nameList:{},register(e){let t;Object.keys(e).forEach(i=>{t=e[i],typeof t=="string"&&(Us[t]?wg.repeat(t):Us[t]=e)})},changeName(e,t){const i=Us[e];if(i){const s=Object.keys(i).find(n=>i[n]===e);s&&(i[s]=t,Us[t]=i)}},has(e){return!!this.nameList[e]},get(e,...t){return new Us[e](...t)}},{nameList:Us}=Ms;class Bd{constructor(){this.list=[]}add(t){t.manager=this,this.list.push(t)}get(t){let i;const{list:s}=this;for(let r=0,o=s.length;r<o;r++)if(i=s[r],i.recycled&&i.isSameSize(t))return i.recycled=!1,i.manager||(i.manager=this),i;const n=It.canvas(t);return this.add(n),n}recycle(t){t.recycled=!0}clearRecycled(){let t;const i=[];for(let s=0,n=this.list.length;s<n;s++)t=this.list[s],t.recycled?t.destroy():i.push(t);this.list=i}clear(){this.list.forEach(t=>{t.destroy()}),this.list.length=0}destroy(){this.clear()}}const Ut={default(e,t){return vo(t,e),vo(e,t),e},assign(e,t){let i;Object.keys(t).forEach(s=>{var n;i=t[s],(i==null?void 0:i.constructor)===Object&&((n=e[s])===null||n===void 0?void 0:n.constructor)===Object?vo(e[s],t[s]):e[s]=t[s]})},copyAttrs(e,t,i){return i.forEach(s=>{t[s]!==void 0&&(e[s]=t[s])}),e},clone(e){return JSON.parse(JSON.stringify(e))},toMap(e){const t={};for(let i=0,s=e.length;i<s;i++)t[e[i]]=!0;return t}},{assign:vo}=Ut;class Pd{get __useNaturalRatio(){return!0}get __isLinePath(){return this.path&&this.path.length===6}get __blendMode(){if(this.eraser&&this.eraser!=="path")return"destination-out";const{blendMode:t}=this;return t==="pass-through"?null:t}constructor(t){this.__leaf=t}__get(t){if(this.__input){const i=this.__input[t];if(i!==void 0)return i}return this[t]}__getData(){const t={tag:this.__leaf.tag},{__input:i}=this;let s;for(let n in this)n[0]!=="_"&&(s=i?i[n]:void 0,t[n]=s===void 0?this[n]:s);return t}__setInput(t,i){this.__input||(this.__input={}),this.__input[t]=i}__getInput(t){if(this.__input){const i=this.__input[t];if(i!==void 0)return i}if(!(t==="path"&&!this.__pathInputed))return this["_"+t]}__removeInput(t){this.__input&&this.__input[t]!==void 0&&(this.__input[t]=void 0)}__getInputData(t,i){const s={};if(t)if(t instanceof Array)for(let n of t)s[n]=this.__getInput(n);else for(let n in t)s[n]=this.__getInput(n);else{let n,r,{__input:o}=this;s.tag=this.__leaf.tag;for(let a in this)if(a[0]!=="_"&&(n=this["_"+a],n!==void 0)){if(a==="path"&&!this.__pathInputed)continue;r=o?o[a]:void 0,s[a]=r===void 0?n:r}}if(i&&i.matrix){const{a:n,b:r,c:o,d:a,e:h,f:l}=this.__leaf.__localMatrix;s.matrix={a:n,b:r,c:o,d:a,e:h,f:l}}return s}__setMiddle(t,i){this.__middle||(this.__middle={}),this.__middle[t]=i}__getMiddle(t){return this.__middle&&this.__middle[t]}__checkSingle(){const t=this;if(t.blendMode==="pass-through"){const i=this.__leaf;t.opacity<1&&i.isBranch||i.__hasEraser||t.eraser?t.__single=!0:t.__single&&(t.__single=!1)}else t.__single=!0}__removeNaturalSize(){this.__naturalWidth=this.__naturalHeight=void 0}destroy(){this.__input=this.__middle=null}}var Ma;(function(e){e[e.No=0]="No",e[e.Yes=1]="Yes",e[e.NoAndSkip=2]="NoAndSkip",e[e.YesAndSkip=3]="YesAndSkip"})(Ma||(Ma={}));function D(e,t,i,s){var n=arguments.length,r=n<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,i):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r}function Td(e,t,i,s){function n(r){return r instanceof i?r:new i(function(o){o(r)})}return new(i||(i=Promise))(function(r,o){function a(c){try{l(s.next(c))}catch(_){o(_)}}function h(c){try{l(s.throw(c))}catch(_){o(_)}}function l(c){c.done?r(c.value):n(c.value).then(a,h)}l((s=s.apply(e,[])).next())})}function Rt(e){return(t,i)=>{e||(e=i),Object.defineProperty(t,i,{get(){return this.context[e]},set(s){this.context[e]=s}})}}const kd=[];function rt(){return(e,t)=>{kd.push(t)}}const xg=[];let $=class{set blendMode(t){t==="normal"&&(t="source-over"),this.context.globalCompositeOperation=t}get blendMode(){return this.context.globalCompositeOperation}set dashPattern(t){this.context.setLineDash(t||xg)}get dashPattern(){return this.context.getLineDash()}__bindContext(){let t;kd.forEach(i=>{t=this.context[i],t&&(this[i]=t.bind(this.context))}),this.textBaseline="alphabetic"}setTransform(t,i,s,n,r,o){}resetTransform(){}getTransform(){}save(){}restore(){}transform(t,i,s,n,r,o){typeof t=="object"?this.context.transform(t.a,t.b,t.c,t.d,t.e,t.f):this.context.transform(t,i,s,n,r,o)}translate(t,i){}scale(t,i){}rotate(t){}fill(t,i){}stroke(t){}clip(t,i){}fillRect(t,i,s,n){}strokeRect(t,i,s,n){}clearRect(t,i,s,n){}drawImage(t,i,s,n,r,o,a,h,l){switch(arguments.length){case 9:if(i<0){const c=-i/n*h;n+=i,i=0,o+=c,h-=c}if(s<0){const c=-s/r*l;r+=s,s=0,a+=c,l-=c}this.context.drawImage(t,i,s,n,r,o,a,h,l);break;case 5:this.context.drawImage(t,i,s,n,r);break;case 3:this.context.drawImage(t,i,s)}}beginPath(){}moveTo(t,i){}lineTo(t,i){}bezierCurveTo(t,i,s,n,r,o){}quadraticCurveTo(t,i,s,n){}closePath(){}arc(t,i,s,n,r,o){}arcTo(t,i,s,n,r){}ellipse(t,i,s,n,r,o,a,h){}rect(t,i,s,n){}roundRect(t,i,s,n,r){}createConicGradient(t,i,s){}createLinearGradient(t,i,s,n){}createPattern(t,i){}createRadialGradient(t,i,s,n,r,o){}fillText(t,i,s,n){}measureText(t){}strokeText(t,i,s,n){}destroy(){this.context=null}};D([Rt("imageSmoothingEnabled")],$.prototype,"smooth",void 0);D([Rt("imageSmoothingQuality")],$.prototype,"smoothLevel",void 0);D([Rt("globalAlpha")],$.prototype,"opacity",void 0);D([Rt()],$.prototype,"fillStyle",void 0);D([Rt()],$.prototype,"strokeStyle",void 0);D([Rt("lineWidth")],$.prototype,"strokeWidth",void 0);D([Rt("lineCap")],$.prototype,"strokeCap",void 0);D([Rt("lineJoin")],$.prototype,"strokeJoin",void 0);D([Rt("lineDashOffset")],$.prototype,"dashOffset",void 0);D([Rt()],$.prototype,"miterLimit",void 0);D([Rt()],$.prototype,"shadowBlur",void 0);D([Rt()],$.prototype,"shadowColor",void 0);D([Rt()],$.prototype,"shadowOffsetX",void 0);D([Rt()],$.prototype,"shadowOffsetY",void 0);D([Rt()],$.prototype,"filter",void 0);D([Rt()],$.prototype,"font",void 0);D([Rt()],$.prototype,"fontKerning",void 0);D([Rt()],$.prototype,"fontStretch",void 0);D([Rt()],$.prototype,"fontVariantCaps",void 0);D([Rt()],$.prototype,"textAlign",void 0);D([Rt()],$.prototype,"textBaseline",void 0);D([Rt()],$.prototype,"textRendering",void 0);D([Rt()],$.prototype,"wordSpacing",void 0);D([Rt()],$.prototype,"letterSpacing",void 0);D([Rt()],$.prototype,"direction",void 0);D([rt()],$.prototype,"setTransform",null);D([rt()],$.prototype,"resetTransform",null);D([rt()],$.prototype,"getTransform",null);D([rt()],$.prototype,"save",null);D([rt()],$.prototype,"restore",null);D([rt()],$.prototype,"translate",null);D([rt()],$.prototype,"scale",null);D([rt()],$.prototype,"rotate",null);D([rt()],$.prototype,"fill",null);D([rt()],$.prototype,"stroke",null);D([rt()],$.prototype,"clip",null);D([rt()],$.prototype,"fillRect",null);D([rt()],$.prototype,"strokeRect",null);D([rt()],$.prototype,"clearRect",null);D([rt()],$.prototype,"beginPath",null);D([rt()],$.prototype,"moveTo",null);D([rt()],$.prototype,"lineTo",null);D([rt()],$.prototype,"bezierCurveTo",null);D([rt()],$.prototype,"quadraticCurveTo",null);D([rt()],$.prototype,"closePath",null);D([rt()],$.prototype,"arc",null);D([rt()],$.prototype,"arcTo",null);D([rt()],$.prototype,"ellipse",null);D([rt()],$.prototype,"rect",null);D([rt()],$.prototype,"roundRect",null);D([rt()],$.prototype,"createConicGradient",null);D([rt()],$.prototype,"createLinearGradient",null);D([rt()],$.prototype,"createPattern",null);D([rt()],$.prototype,"createRadialGradient",null);D([rt()],$.prototype,"fillText",null);D([rt()],$.prototype,"measureText",null);D([rt()],$.prototype,"strokeText",null);const{copy:bg}=X,vg={width:1,height:1,pixelRatio:1},ci=["width","height","pixelRatio"];class bh extends ${get width(){return this.size.width}get height(){return this.size.height}get pixelRatio(){return this.size.pixelRatio}get pixelWidth(){return this.width*this.pixelRatio}get pixelHeight(){return this.height*this.pixelRatio}get allowBackgroundColor(){return this.view&&this.parentView}constructor(t,i){super(),this.size={},this.worldTransform={},t||(t=vg),t.pixelRatio||(t.pixelRatio=I.devicePixelRatio),this.manager=i,this.innerId=_i.create(_i.CNAVAS);const{width:s,height:n,pixelRatio:r}=t;this.autoLayout=!s||!n,this.size.pixelRatio=r,this.config=t,this.init()}init(){}__createContext(){const{view:t}=this,{contextSettings:i}=this.config;this.context=i?t.getContext("2d",i):t.getContext("2d"),this.__bindContext()}export(t,i){}toBlob(t,i){}toDataURL(t,i){}saveAs(t,i){}resize(t){if(this.isSameSize(t))return;let i;this.context&&!this.unreal&&this.width&&(i=this.getSameCanvas(),i.copyWorld(this)),Ut.copyAttrs(this.size,t,ci),this.size.pixelRatio||(this.size.pixelRatio=1),this.bounds=new Pt(0,0,this.width,this.height),this.unreal||(this.updateViewSize(),this.smooth=this.config.smooth),this.updateClientBounds(),this.context&&!this.unreal&&i&&(this.clearWorld(i.bounds),this.copyWorld(i),i.recycle())}updateViewSize(){}updateClientBounds(){}getClientBounds(t){return t&&this.updateClientBounds(),this.clientBounds||this.bounds}startAutoLayout(t,i){}stopAutoLayout(){}setCursor(t){}setWorld(t,i){const{pixelRatio:s}=this,n=this.worldTransform;if(i){const{a:r,b:o,c:a,d:h,e:l,f:c}=i;this.setTransform(n.a=(t.a*r+t.b*a)*s,n.b=(t.a*o+t.b*h)*s,n.c=(t.c*r+t.d*a)*s,n.d=(t.c*o+t.d*h)*s,n.e=(t.e*r+t.f*a+l)*s,n.f=(t.e*o+t.f*h+c)*s)}else this.setTransform(n.a=t.a*s,n.b=t.b*s,n.c=t.c*s,n.d=t.d*s,n.e=t.e*s,n.f=t.f*s)}useWorldTransform(t){t&&(this.worldTransform=t);const i=this.worldTransform;i&&this.setTransform(i.a,i.b,i.c,i.d,i.e,i.f)}setStroke(t,i,s){i&&(this.strokeWidth=i),t&&(this.strokeStyle=t),s&&this.setStrokeOptions(s)}setStrokeOptions(t){this.strokeCap=t.strokeCap==="none"?"butt":t.strokeCap,this.strokeJoin=t.strokeJoin,this.dashPattern=t.dashPattern,this.dashOffset=t.dashOffset,this.miterLimit=t.miterLimit}saveBlendMode(t){this.savedBlendMode=this.blendMode,this.blendMode=t}restoreBlendMode(){this.blendMode=this.savedBlendMode}hitFill(t,i){return!0}hitStroke(t,i){return!0}hitPixel(t,i,s=1){return!0}setWorldShadow(t,i,s,n){const{pixelRatio:r}=this;this.shadowOffsetX=t*r,this.shadowOffsetY=i*r,this.shadowBlur=s*r,this.shadowColor=n||"black"}setWorldBlur(t){const{pixelRatio:i}=this;this.filter=`blur(${t*i}px)`}copyWorld(t,i,s,n){if(n&&(this.blendMode=n),i){const{pixelRatio:r}=this;s||(s=i),this.drawImage(t.view,i.x*r,i.y*r,i.width*r,i.height*r,s.x*r,s.y*r,s.width*r,s.height*r)}else this.drawImage(t.view,0,0);n&&(this.blendMode="source-over")}copyWorldToInner(t,i,s,n){if(n&&(this.blendMode=n),i.b||i.c)this.save(),this.resetTransform(),this.copyWorld(t,i,F.tempToOuterOf(s,i)),this.restore();else{const{pixelRatio:r}=this;this.drawImage(t.view,i.x*r,i.y*r,i.width*r,i.height*r,s.x,s.y,s.width,s.height)}n&&(this.blendMode="source-over")}copyWorldByReset(t,i,s,n,r){this.resetTransform(),this.copyWorld(t,i,s,n),r||this.useWorldTransform()}useMask(t,i,s){this.copyWorld(t,i,s,"destination-in")}useEraser(t,i,s){this.copyWorld(t,i,s,"destination-out")}fillWorld(t,i,s){s&&(this.blendMode=s),this.fillStyle=i,ct.set(t).scale(this.pixelRatio),this.fillRect(ct.x,ct.y,ct.width,ct.height),s&&(this.blendMode="source-over")}strokeWorld(t,i,s){s&&(this.blendMode=s),this.strokeStyle=i,ct.set(t).scale(this.pixelRatio),this.strokeRect(ct.x,ct.y,ct.width,ct.height),s&&(this.blendMode="source-over")}clearWorld(t,i){ct.set(t).scale(this.pixelRatio),i&&ct.ceil(),this.clearRect(ct.x,ct.y,ct.width,ct.height)}clipWorld(t,i){this.beginPath(),ct.set(t).scale(this.pixelRatio),i&&ct.ceil(),this.rect(ct.x,ct.y,ct.width,ct.height),this.clip()}clear(){const{pixelRatio:t}=this;this.clearRect(0,0,this.width*t+2,this.height*t+2)}isSameSize(t){return this.width===t.width&&this.height===t.height&&this.pixelRatio===t.pixelRatio}getSameCanvas(t,i){const s=this.manager?this.manager.get(this.size):It.canvas(Object.assign({},this.size));return s.save(),t&&(bg(s.worldTransform,this.worldTransform),s.useWorldTransform()),i&&(s.smooth=this.smooth),s}recycle(t){this.recycled||(this.restore(),t?this.clearWorld(t,!0):this.clear(),this.manager?this.manager.recycle(this):this.destroy())}updateRender(){}unrealCanvas(){}destroy(){this.manager=this.view=this.parentView=null}}const Ye={creator:{},parse(e,t){},convertToCanvasData(e,t){}},Od={N:21,D:22,X:23,G:24,F:25,O:26,P:27,U:28},Ce=Object.assign({M:1,m:10,L:2,l:20,H:3,h:30,V:4,v:40,C:5,c:50,S:6,s:60,Q:7,q:70,T:8,t:80,A:9,a:90,Z:11,z:11,R:12},Od),Md={M:3,m:3,L:3,l:3,H:2,h:2,V:2,v:2,C:7,c:7,S:5,s:5,Q:5,q:5,T:3,t:3,A:8,a:8,Z:1,z:1,N:5,D:9,X:6,G:9,F:5,O:7,P:4,U:6},Ld={m:10,l:20,H:3,h:30,V:4,v:40,c:50,S:6,s:60,q:70,T:8,t:80,A:9,a:90},Rg=Object.assign(Object.assign({},Ld),Od),Sr=Ce,Ad={};for(let e in Sr)Ad[Sr[e]]=e;const Id={};for(let e in Sr)Id[Sr[e]]=Md[e];const Dd={drawRoundRect(e,t,i,s,n,r){const o=Ee.fourNumber(r,Math.min(s/2,n/2)),a=t+s,h=i+n;o[0]?e.moveTo(t+o[0],i):e.moveTo(t,i),o[1]?e.arcTo(a,i,a,h,o[1]):e.lineTo(a,i),o[2]?e.arcTo(a,h,t,h,o[2]):e.lineTo(a,h),o[3]?e.arcTo(t,h,t,i,o[3]):e.lineTo(t,h),o[0]?e.arcTo(t,i,a,i,o[0]):e.lineTo(t,i)}},{sin:gs,cos:Gs,atan2:Ll,ceil:Cg,abs:Ro,PI:Al,sqrt:Il,pow:Zn}=Math,{setPoint:Co,addPoint:Jn}=Pn,{set:Qn}=Y,{M:Eg,L:Eo,C:So,Q:Dl,Z:Sg}=Ce,Bo={},is={points(e,t,i,s){if(e.push(Eg,t[0],t[1]),i&&t.length>5){let n,r,o,a,h,l,c,_,f,u,g,m,B,b=t.length;const x=i===!0?.5:i;s&&(t=[t[b-2],t[b-1],...t,t[0],t[1],t[2],t[3]],b=t.length);for(let v=2;v<b-2;v+=2)n=t[v-2],r=t[v-1],o=t[v],a=t[v+1],h=t[v+2],l=t[v+3],g=Il(Zn(o-n,2)+Zn(a-r,2)),m=Il(Zn(h-o,2)+Zn(l-a,2)),B=g+m,g=x*g/B,m=x*m/B,h-=n,l-=r,c=o-g*h,_=a-g*l,v===2?s||e.push(Dl,c,_,o,a):e.push(So,f,u,c,_,o,a),f=o+m*h,u=a+m*l;s||e.push(Dl,f,u,t[b-2],t[b-1])}else for(let n=2,r=t.length;n<r;n+=2)e.push(Eo,t[n],t[n+1]);s&&e.push(Sg)},rect(e,t,i,s,n){Ye.creator.path=e,Ye.creator.moveTo(t,i).lineTo(t+s,i).lineTo(t+s,i+n).lineTo(t,i+n).lineTo(t,i)},roundRect(e,t,i,s,n,r){Ye.creator.path=[],Dd.drawRoundRect(Ye.creator,t,i,s,n,r),e.push(...Ye.convertToCanvasData(Ye.creator.path,!0))},arcTo(e,t,i,s,n,r,o,a,h,l,c){const _=s-t,f=n-i,u=r-s,g=o-n;let m=Ll(f,_),B=Ll(g,u),b=B-m;if(b<0&&(b+=be),b===Al||Ro(_+f)<1e-12||Ro(u+g)<1e-12){e&&e.push(Eo,s,n),h&&(Co(h,t,i),Jn(h,s,n)),c&&Qn(c,t,i),l&&Qn(l,s,n);return}const x=_*g-u*f<0,v=x?-1:1,k=a/Gs(b/2),W=s+k*Gs(m+b/2+bs*v),L=n+k*gs(m+b/2+bs*v);return m-=bs*v,B-=bs*v,Fl(e,W,L,a,a,0,m/dt,B/dt,x,h,l,c)},arc(e,t,i,s,n,r,o,a,h,l){return Fl(e,t,i,s,s,0,n,r,o,a,h,l)},ellipse(e,t,i,s,n,r,o,a,h,l,c,_){const f=r*dt,u=gs(f),g=Gs(f);let m=o*dt,B=a*dt;m>Al&&(m-=be),B<0&&(B+=be);let b=B-m;b<0?b+=be:b>be&&(b-=be),h&&(b-=be);const x=Cg(Ro(b/bs)),v=b/x,k=gs(v/4),W=8/3*k*k/gs(v/2);B=m+v;let L=Gs(m),G=gs(m),q,mt,ht,ot,_t,st,wt,pt,H=ht=g*s*L-u*n*G,V=ot=u*s*L+g*n*G,U=t+ht,nt=i+ot;e&&e.push(Eo,U,nt),l&&Co(l,U,nt),_&&Qn(_,U,nt);for(let Wt=0;Wt<x;Wt++)q=Gs(B),mt=gs(B),ht=g*s*q-u*n*mt,ot=u*s*q+g*n*mt,_t=t+H-W*(g*s*G+u*n*L),st=i+V-W*(u*s*G-g*n*L),wt=t+ht+W*(g*s*mt+u*n*q),pt=i+ot+W*(u*s*mt-g*n*q),e&&e.push(So,_t,st,wt,pt,t+ht,i+ot),l&&Wl(t+H,i+V,_t,st,wt,pt,t+ht,i+ot,l,!0),H=ht,V=ot,L=q,G=mt,m=B,B+=v;c&&Qn(c,t+ht,i+ot)},quadraticCurveTo(e,t,i,s,n,r,o){e.push(So,(t+2*s)/3,(i+2*n)/3,(r+2*s)/3,(o+2*n)/3,r,o)},toTwoPointBoundsByQuadraticCurve(e,t,i,s,n,r,o,a){Wl(e,t,(e+2*i)/3,(t+2*s)/3,(n+2*i)/3,(r+2*s)/3,n,r,o,a)},toTwoPointBounds(e,t,i,s,n,r,o,a,h,l){const c=[];let _,f,u,g,m,B,b,x,v=e,k=i,W=n,L=o;for(let G=0;G<2;++G){if(G==1&&(v=t,k=s,W=r,L=a),_=-3*v+9*k-9*W+3*L,f=6*v-12*k+6*W,u=3*k-3*v,Math.abs(_)<1e-12){if(Math.abs(f)<1e-12)continue;g=-u/f,0<g&&g<1&&c.push(g);continue}b=f*f-4*u*_,x=Math.sqrt(b),!(b<0)&&(m=(-f+x)/(2*_),0<m&&m<1&&c.push(m),B=(-f-x)/(2*_),0<B&&B<1&&c.push(B))}l?Jn(h,e,t):Co(h,e,t),Jn(h,o,a);for(let G=0,q=c.length;G<q;G++)$l(c[G],e,t,i,s,n,r,o,a,Bo),Jn(h,Bo.x,Bo.y)},getPointAndSet(e,t,i,s,n,r,o,a,h,l){const c=1-e,_=c*c*c,f=3*c*c*e,u=3*c*e*e,g=e*e*e;l.x=_*t+f*s+u*r+g*a,l.y=_*i+f*n+u*o+g*h},getPoint(e,t,i,s,n,r,o,a,h){const l={};return $l(e,t,i,s,n,r,o,a,h,l),l}},{getPointAndSet:$l,toTwoPointBounds:Wl,ellipse:Fl}=is,{sin:Bg,cos:Pg,sqrt:Hl,atan2:Nl}=Math,{ellipse:Tg}=is,kg={ellipticalArc(e,t,i,s,n,r,o,a,h,l,c){const _=(h-t)/2,f=(l-i)/2,u=r*dt,g=Bg(u),m=Pg(u),B=-m*_-g*f,b=-m*f+g*_,x=s*s,v=n*n,k=b*b,W=B*B,L=x*v-x*k-v*W;let G=0;if(L<0){const H=Hl(1-L/(x*v));s*=H,n*=H}else G=(o===a?-1:1)*Hl(L/(x*k+v*W));const q=G*s*b/n,mt=-G*n*B/s,ht=Nl((b-mt)/n,(B-q)/s),ot=Nl((-b-mt)/n,(-B-q)/s);let _t=ot-ht;a===0&&_t>0?_t-=be:a===1&&_t<0&&(_t+=be);const st=t+_+m*q-g*mt,wt=i+f+g*q+m*mt,pt=_t<0?1:0;c||I.ellipseToCurve?Tg(e,st,wt,s,n,r,ht/dt,ot/dt,pt):s===n&&!r?e.push(Ce.O,st,wt,s,ht/dt,ot/dt,pt):e.push(Ce.G,st,wt,s,n,r,ht/dt,ot/dt,pt)}},{M:zl,m:Og,L:tr,l:Mg,H:Lg,h:Ag,V:Ig,v:Dg,C:Vs,c:$g,S:Po,s:Wg,Q:Ys,q:Fg,T:To,t:Hg,A:Ng,a:zg,Z:jl,z:jg,N:Ug,D:Gg,X:Vg,G:Yg,F:Kg,O:Xg,P:qg,U:Zg}=Ce,{rect:Jg,roundRect:Ul,arcTo:Qg,arc:Gl,ellipse:Vl,quadraticCurveTo:Yl}=is,{ellipticalArc:ty}=kg,ey=ft.get("PathConvert"),si={},ns={current:{dot:0},stringify(e,t){let i=0,s=e.length,n,r="",o,a;for(;i<s;){o=e[i],n=Id[o],o===a?r+=" ":r+=Ad[o];for(let h=1;h<n;h++)r+=Ee.float(e[i+h],t),h===n-1||(r+=" ");a=o,i+=n}return r},parse(e,t){let i,s,n,r="";const o=[],a=t?Rg:Ld;for(let h=0,l=e.length;h<l;h++)s=e[h],gg[s]?(s==="."&&(ge.dot&&(Gi(o,r),r=""),ge.dot++),r==="0"&&s!=="."&&(Gi(o,r),r=""),r+=s):Ce[s]?(r&&(Gi(o,r),r=""),ge.name=Ce[s],ge.length=Md[s],ge.index=0,Gi(o,ge.name),!i&&a[s]&&(i=!0)):s==="-"||s==="+"?n==="e"||n==="E"?r+=s:(r&&Gi(o,r),r=s):r&&(Gi(o,r),r=""),n=s;return r&&Gi(o,r),i?ns.toCanvasData(o,t):o},toCanvasData(e,t){let i=0,s=0,n=0,r=0,o=0,a=e.length,h,l,c,_,f;const u=[];for(;o<a;){switch(c=e[o],c){case Og:e[o+1]+=i,e[o+2]+=s;case zl:i=e[o+1],s=e[o+2],u.push(zl,i,s),o+=3;break;case Ag:e[o+1]+=i;case Lg:i=e[o+1],u.push(tr,i,s),o+=2;break;case Dg:e[o+1]+=s;case Ig:s=e[o+1],u.push(tr,i,s),o+=2;break;case Mg:e[o+1]+=i,e[o+2]+=s;case tr:i=e[o+1],s=e[o+2],u.push(tr,i,s),o+=3;break;case Wg:e[o+1]+=i,e[o+2]+=s,e[o+3]+=i,e[o+4]+=s,c=Po;case Po:f=_===Vs||_===Po,n=f?i*2-h:e[o+1],r=f?s*2-l:e[o+2],h=e[o+1],l=e[o+2],i=e[o+3],s=e[o+4],u.push(Vs,n,r,h,l,i,s),o+=5;break;case $g:e[o+1]+=i,e[o+2]+=s,e[o+3]+=i,e[o+4]+=s,e[o+5]+=i,e[o+6]+=s,c=Vs;case Vs:h=e[o+3],l=e[o+4],i=e[o+5],s=e[o+6],u.push(Vs,e[o+1],e[o+2],h,l,i,s),o+=7;break;case Hg:e[o+1]+=i,e[o+2]+=s,c=To;case To:f=_===Ys||_===To,h=f?i*2-h:e[o+1],l=f?s*2-l:e[o+2],t?Yl(u,i,s,h,l,e[o+1],e[o+2]):u.push(Ys,h,l,e[o+1],e[o+2]),i=e[o+1],s=e[o+2],o+=3;break;case Fg:e[o+1]+=i,e[o+2]+=s,e[o+3]+=i,e[o+4]+=s,c=Ys;case Ys:h=e[o+1],l=e[o+2],t?Yl(u,i,s,h,l,e[o+3],e[o+4]):u.push(Ys,h,l,e[o+3],e[o+4]),i=e[o+3],s=e[o+4],o+=5;break;case zg:e[o+6]+=i,e[o+7]+=s;case Ng:ty(u,i,s,e[o+1],e[o+2],e[o+3],e[o+4],e[o+5],e[o+6],e[o+7],t),i=e[o+6],s=e[o+7],o+=8;break;case jg:case jl:u.push(jl),o++;break;case Ug:i=e[o+1],s=e[o+2],t?Jg(u,i,s,e[o+3],e[o+4]):vi(u,e,o,5),o+=5;break;case Gg:i=e[o+1],s=e[o+2],t?Ul(u,i,s,e[o+3],e[o+4],[e[o+5],e[o+6],e[o+7],e[o+8]]):vi(u,e,o,9),o+=9;break;case Vg:i=e[o+1],s=e[o+2],t?Ul(u,i,s,e[o+3],e[o+4],e[o+5]):vi(u,e,o,6),o+=6;break;case Yg:Vl(t?u:vi(u,e,o,9),e[o+1],e[o+2],e[o+3],e[o+4],e[o+5],e[o+6],e[o+7],e[o+8],null,si),i=si.x,s=si.y,o+=9;break;case Kg:t?Vl(u,e[o+1],e[o+2],e[o+3],e[o+4],0,0,360,!1):vi(u,e,o,5),i=e[o+1]+e[o+3],s=e[o+2],o+=5;break;case Xg:Gl(t?u:vi(u,e,o,7),e[o+1],e[o+2],e[o+3],e[o+4],e[o+5],e[o+6],null,si),i=si.x,s=si.y,o+=7;break;case qg:t?Gl(u,e[o+1],e[o+2],e[o+3],0,360,!1):vi(u,e,o,4),i=e[o+1]+e[o+3],s=e[o+2],o+=4;break;case Zg:Qg(t?u:vi(u,e,o,6),i,s,e[o+1],e[o+2],e[o+3],e[o+4],e[o+5],null,si),i=si.x,s=si.y,o+=6;break;default:return ey.error(`command: ${c} [index:${o}]`,e),u}_=c}return u},copyData(e,t,i,s){for(let n=i,r=i+s;n<r;n++)e.push(t[n])},pushData(e,t){ge.index===ge.length&&(ge.index=1,e.push(ge.name)),e.push(Number(t)),ge.index++,ge.dot=0}},{current:ge,pushData:Gi,copyData:vi}=ns,{M:ko,L:iy,C:sy,Q:ny,Z:ry,N:Kl,D:oy,X:ay,G:hy,F:ly,O:cy,P:uy,U:Xl}=Ce,{getMinDistanceFrom:dy,getRadianFrom:fy}=Y,{tan:_y,min:py,abs:gy}=Math,ys={},hs={beginPath(e){e.length=0},moveTo(e,t,i){e.push(ko,t,i)},lineTo(e,t,i){e.push(iy,t,i)},bezierCurveTo(e,t,i,s,n,r,o){e.push(sy,t,i,s,n,r,o)},quadraticCurveTo(e,t,i,s,n){e.push(ny,t,i,s,n)},closePath(e){e.push(ry)},rect(e,t,i,s,n){e.push(Kl,t,i,s,n)},roundRect(e,t,i,s,n,r){if(typeof r=="number")e.push(ay,t,i,s,n,r);else{const o=Ee.fourNumber(r);o?e.push(oy,t,i,s,n,...o):e.push(Kl,t,i,s,n)}},ellipse(e,t,i,s,n,r,o,a,h){r===void 0?e.push(ly,t,i,s,n):(o===void 0&&(o=0),a===void 0&&(a=360),e.push(hy,t,i,s,n,r,o,a,h?1:0))},arc(e,t,i,s,n,r,o){n===void 0?e.push(uy,t,i,s):(r===void 0&&(r=360),e.push(cy,t,i,s,n,r,o?1:0))},arcTo(e,t,i,s,n,r,o,a){if(o!==void 0){const h=_y(fy(o,a,t,i,s,n)/2)*(dy(o,a,t,i,s,n)/2);e.push(Xl,t,i,s,n,py(r,gy(h)))}else e.push(Xl,t,i,s,n,r)},drawEllipse(e,t,i,s,n,r,o,a,h){is.ellipse(null,t,i,s,n,r===void 0?0:r,o===void 0?0:o,a===void 0?360:a,h,null,null,ys),e.push(ko,ys.x,ys.y),yy(e,t,i,s,n,r,o,a,h)},drawArc(e,t,i,s,n,r,o){is.arc(null,t,i,s,n===void 0?0:n,r===void 0?360:r,o,null,null,ys),e.push(ko,ys.x,ys.y),my(e,t,i,s,n,r,o)},drawPoints(e,t,i,s){is.points(e,t,i,s)}},{ellipse:yy,arc:my}=hs,{moveTo:wy,lineTo:xy,quadraticCurveTo:by,bezierCurveTo:vy,closePath:Ry,beginPath:Cy,rect:Ey,roundRect:Sy,ellipse:By,arc:Py,arcTo:Ty,drawEllipse:ky,drawArc:Oy,drawPoints:My}=hs;class vh{set path(t){this.__path=t}get path(){return this.__path}constructor(t){this.clearPath=this.beginPath,this.set(t)}set(t){return t?this.__path=typeof t=="string"?Ye.parse(t):t:this.__path=[],this}beginPath(){return Cy(this.__path),this}moveTo(t,i){return wy(this.__path,t,i),this}lineTo(t,i){return xy(this.__path,t,i),this}bezierCurveTo(t,i,s,n,r,o){return vy(this.__path,t,i,s,n,r,o),this}quadraticCurveTo(t,i,s,n){return by(this.__path,t,i,s,n),this}closePath(){return Ry(this.__path),this}rect(t,i,s,n){return Ey(this.__path,t,i,s,n),this}roundRect(t,i,s,n,r){return Sy(this.__path,t,i,s,n,r),this}ellipse(t,i,s,n,r,o,a,h){return By(this.__path,t,i,s,n,r,o,a,h),this}arc(t,i,s,n,r,o){return Py(this.__path,t,i,s,n,r,o),this}arcTo(t,i,s,n,r){return Ty(this.__path,t,i,s,n,r),this}drawEllipse(t,i,s,n,r,o,a,h){return ky(this.__path,t,i,s,n,r,o,a,h),this}drawArc(t,i,s,n,r,o){return Oy(this.__path,t,i,s,n,r,o),this}drawPoints(t,i,s){return My(this.__path,t,i,s),this}}const{M:Ly,L:Ay,C:Iy,Q:Dy,Z:$y,N:Wy,D:Fy,X:Hy,G:Ny,F:zy,O:jy,P:Uy,U:Gy}=Ce,Vy=ft.get("PathDrawer"),Yy={drawPathByData(e,t){if(!t)return;let i,s=0,n=t.length;for(;s<n;)switch(i=t[s],i){case Ly:e.moveTo(t[s+1],t[s+2]),s+=3;break;case Ay:e.lineTo(t[s+1],t[s+2]),s+=3;break;case Iy:e.bezierCurveTo(t[s+1],t[s+2],t[s+3],t[s+4],t[s+5],t[s+6]),s+=7;break;case Dy:e.quadraticCurveTo(t[s+1],t[s+2],t[s+3],t[s+4]),s+=5;break;case $y:e.closePath(),s+=1;break;case Wy:e.rect(t[s+1],t[s+2],t[s+3],t[s+4]),s+=5;break;case Fy:e.roundRect(t[s+1],t[s+2],t[s+3],t[s+4],[t[s+5],t[s+6],t[s+7],t[s+8]]),s+=9;break;case Hy:e.roundRect(t[s+1],t[s+2],t[s+3],t[s+4],t[s+5]),s+=6;break;case Ny:e.ellipse(t[s+1],t[s+2],t[s+3],t[s+4],t[s+5]*dt,t[s+6]*dt,t[s+7]*dt,t[s+8]),s+=9;break;case zy:e.ellipse(t[s+1],t[s+2],t[s+3],t[s+4],0,0,be,!1),s+=5;break;case jy:e.arc(t[s+1],t[s+2],t[s+3],t[s+4]*dt,t[s+5]*dt,t[s+6]),s+=7;break;case Uy:e.arc(t[s+1],t[s+2],t[s+3],0,be,!1),s+=4;break;case Gy:e.arcTo(t[s+1],t[s+2],t[s+3],t[s+4],t[s+5]),s+=6;break;default:Vy.error(`command: ${i} [index:${s}]`,t);return}}},{M:Ky,L:Xy,C:ql,Q:Zl,Z:Jl,N:qy,D:Ql,X:Zy,G:Jy,F:Qy,O:tm,P:em,U:im}=Ce,{toTwoPointBounds:sm,toTwoPointBoundsByQuadraticCurve:nm,arcTo:rm,arc:om,ellipse:am}=is,{addPointBounds:Ks,copy:Oo,addPoint:hm,setPoint:Mo,addBounds:er,toBounds:lm}=Pn,cm=ft.get("PathBounds");let ms,ir,Lo;const le={},tc={},ni={},Rh={toBounds(e,t){Rh.toTwoPointBounds(e,tc),lm(tc,t)},toTwoPointBounds(e,t){if(!e||!e.length)return Mo(t,0,0);let i,s=0,n=0,r=0,o,a,h,l;const c=e.length;for(;s<c;)switch(i=e[s],s===0&&(i===Jl||i===ql||i===Zl?Mo(t,n,r):Mo(t,e[s+1],e[s+2])),i){case Ky:case Xy:n=e[s+1],r=e[s+2],hm(t,n,r),s+=3;break;case ql:h=e[s+5],l=e[s+6],sm(n,r,e[s+1],e[s+2],e[s+3],e[s+4],h,l,le),Ks(t,le),n=h,r=l,s+=7;break;case Zl:o=e[s+1],a=e[s+2],h=e[s+3],l=e[s+4],nm(n,r,o,a,h,l,le),Ks(t,le),n=h,r=l,s+=5;break;case Jl:s+=1;break;case qy:n=e[s+1],r=e[s+2],er(t,n,r,e[s+3],e[s+4]),s+=5;break;case Ql:case Zy:n=e[s+1],r=e[s+2],er(t,n,r,e[s+3],e[s+4]),s+=i===Ql?9:6;break;case Jy:am(null,e[s+1],e[s+2],e[s+3],e[s+4],e[s+5],e[s+6],e[s+7],e[s+8],le,ni),s===0?Oo(t,le):Ks(t,le),n=ni.x,r=ni.y,s+=9;break;case Qy:n=e[s+1],r=e[s+2],ir=e[s+3],Lo=e[s+4],er(t,n-ir,r-Lo,ir*2,Lo*2),n+=ir,s+=5;break;case tm:om(null,e[s+1],e[s+2],e[s+3],e[s+4],e[s+5],e[s+6],le,ni),s===0?Oo(t,le):Ks(t,le),n=ni.x,r=ni.y,s+=7;break;case em:n=e[s+1],r=e[s+2],ms=e[s+3],er(t,n-ms,r-ms,ms*2,ms*2),n+=ms,s+=4;break;case im:rm(null,n,r,e[s+1],e[s+2],e[s+3],e[s+4],e[s+5],le,ni),s===0?Oo(t,le):Ks(t,le),n=ni.x,r=ni.y,s+=6;break;default:cm.error(`command: ${i} [index:${s}]`,e);return}}},{M:Ao,L:sr,C:ec,Z:nr}=Ce,{getCenterX:um,getCenterY:dm}=Y,{arcTo:Io}=hs,fm={smooth(e,t,i){let s,n=0,r=0,o=0,a=0,h=0,l=0,c=0,_=0,f=0;const u=e.length,g=[];for(;n<u;)switch(s=e[n],s){case Ao:a=_=e[n+1],h=f=e[n+2],n+=3,e[n]===sr?(l=e[n+1],c=e[n+2],g.push(Ao,um(a,l),dm(h,c))):g.push(Ao,a,h);break;case sr:switch(r=e[n+1],o=e[n+2],n+=3,e[n]){case sr:Io(g,r,o,e[n+1],e[n+2],t,_,f);break;case nr:Io(g,r,o,a,h,t,_,f);break;default:g.push(sr,r,o)}_=r,f=o;break;case ec:g.push(ec,e[n+1],e[n+2],e[n+3],e[n+4],e[n+5],e[n+6]),n+=7;break;case nr:Io(g,a,h,l,c,t,_,f),g.push(nr),n+=1;break}return s!==nr&&(g[1]=a,g[2]=h),g}};Ye.creator=new vh;Ye.parse=ns.parse;Ye.convertToCanvasData=ns.toCanvasData;const Xs=new vh,{drawRoundRect:_m}=Dd;function pm(e){e&&!e.roundRect&&(e.roundRect=function(t,i,s,n,r){_m(this,t,i,s,n,r)})}function $d(e){pm(e)}const fi={opacityTypes:["png","webp","svg"],upperCaseTypeMap:{},mineType(e){return!e||e.startsWith("image")?e:(e==="jpg"&&(e="jpeg"),"image/"+e)},fileType(e){const t=e.split(".");return t[t.length-1]},isOpaqueImage(e){const t=La.fileType(e);return["jpg","jpeg"].some(i=>i===t)},getExportOptions(e){switch(typeof e){case"object":return e;case"number":return{quality:e};case"boolean":return{blob:e};default:return{}}}},La=fi;La.opacityTypes.forEach(e=>La.upperCaseTypeMap[e]=e.toUpperCase());const gm=ft.get("TaskProcessor");class ym{constructor(t){this.parallel=!0,this.time=1,this.id=_i.create(_i.TASK),this.task=t}run(){return Td(this,void 0,void 0,function*(){try{this.task&&!this.isComplete&&this.parent.running&&(yield this.task())}catch(t){gm.error(t)}})}complete(){this.isComplete=!0,this.parent=null,this.task=null}cancel(){this.isCancel=!0,this.complete()}}class Aa{get total(){return this.list.length+this.delayNumber}get finishedIndex(){return this.isComplete?0:this.index+this.parallelSuccessNumber}get remain(){return this.isComplete?this.total:this.total-this.finishedIndex}get percent(){const{total:t}=this;let i=0,s=0;for(let n=0;n<t;n++)n<=this.finishedIndex?(s+=this.list[n].time,n===this.finishedIndex&&(i=s)):i+=this.list[n].time;return this.isComplete?1:s/i}constructor(t){this.config={parallel:6},this.list=[],this.running=!1,this.isComplete=!0,this.index=0,this.delayNumber=0,t&&Ut.assign(this.config,t),this.empty()}add(t,i){let s,n,r,o;const a=new ym(t);return a.parent=this,typeof i=="number"?o=i:i&&(n=i.parallel,s=i.start,r=i.time,o=i.delay),r&&(a.time=r),n===!1&&(a.parallel=!1),o===void 0?this.push(a,s):(this.delayNumber++,setTimeout(()=>{this.delayNumber&&(this.delayNumber--,this.push(a,s))},o)),this.isComplete=!1,a}push(t,i){this.list.push(t),i!==!1&&!this.timer&&(this.timer=setTimeout(()=>this.start()))}empty(){this.index=0,this.parallelSuccessNumber=0,this.list=[],this.parallelList=[],this.delayNumber=0}start(){this.running||(this.running=!0,this.isComplete=!1,this.run())}pause(){clearTimeout(this.timer),this.timer=null,this.running=!1}resume(){this.start()}skip(){this.index++,this.resume()}stop(){this.isComplete=!0,this.list.forEach(t=>{t.isComplete||t.cancel()}),this.pause(),this.empty()}run(){this.running&&(this.setParallelList(),this.parallelList.length>1?this.runParallelTasks():this.remain?this.runTask():this.onComplete())}runTask(){const t=this.list[this.index];if(!t){this.nextTask();return}t.run().then(()=>{this.onTask(t),this.index++,this.nextTask()}).catch(i=>{this.onError(i)})}runParallelTasks(){this.parallelList.forEach(t=>this.runParallelTask(t))}runParallelTask(t){t.run().then(()=>{this.onTask(t),this.fillParallelTask()}).catch(i=>{this.onParallelError(i)})}nextTask(){this.total===this.finishedIndex?this.onComplete():this.timer=setTimeout(()=>this.run())}setParallelList(){let t;this.parallelList=[],this.parallelSuccessNumber=0;let i=this.index+this.config.parallel;i>this.list.length&&(i=this.list.length);for(let s=this.index;s<i&&(t=this.list[s],t.parallel);s++)this.parallelList.push(t)}fillParallelTask(){let t;const i=this.parallelList;this.parallelSuccessNumber++,i.pop();const s=i.length,n=this.finishedIndex+s;if(i.length){if(!this.running)return;n<this.total&&(t=this.list[n],t&&t.parallel&&(i.push(t),this.runParallelTask(t)))}else this.index+=this.parallelSuccessNumber,this.parallelSuccessNumber=0,this.nextTask()}onComplete(){this.stop(),this.config.onComplete&&this.config.onComplete()}onTask(t){t.complete(),this.config.onTask&&this.config.onTask()}onParallelError(t){this.parallelList.forEach(i=>{i.parallel=!1}),this.parallelList.length=0,this.parallelSuccessNumber=0,this.onError(t)}onError(t){this.pause(),this.config.onError&&this.config.onError(t)}destroy(){this.stop()}}const oe={map:{},recycledList:[],tasker:new Aa,patternTasker:new Aa,get isComplete(){return ri.tasker.isComplete},get(e){let t=ri.map[e.url];return t||(t=It.image(e),ri.map[e.url]=t),t.use++,t},recycle(e){e.use--,setTimeout(()=>{e.use||ri.recycledList.push(e)})},clearRecycled(){const e=ri.recycledList;e.length>100&&(e.forEach(t=>{!t.use&&t.url&&(delete ri.map[t.url],t.destroy())}),e.length=0)},hasOpacityPixel(e){return fi.opacityTypes.some(t=>ri.isFormat(t,e))},isFormat(e,t){if(t.format===e)return!0;const{url:i}=t;if(i.startsWith("data:")){if(i.startsWith("data:"+fi.mineType(e)))return!0}else if(i.includes("."+e)||i.includes("."+fi.upperCaseTypeMap[e]))return!0;return!1},destroy(){ri.map={},ri.recycledList=[]}},ri=oe,{IMAGE:mm,create:wm}=_i;class xm{get url(){return this.config.url}get completed(){return this.ready||!!this.error}constructor(t){this.use=0,this.waitComplete=[],this.innerId=wm(mm),this.config=t||{url:""},this.isSVG=oe.isFormat("svg",t),this.hasOpacityPixel=oe.hasOpacityPixel(t)}load(t,i){return this.loading||(this.loading=!0,oe.tasker.add(()=>Td(this,void 0,void 0,function*(){return yield I.origin.loadImage(this.url).then(s=>{this.ready=!0,this.width=s.naturalWidth||s.width,this.height=s.naturalHeight||s.height,this.view=s,this.onComplete(!0)}).catch(s=>{this.error=s,this.onComplete(!1)})}))),this.waitComplete.push(t,i),this.waitComplete.length-2}unload(t,i){const s=this.waitComplete;if(i){const n=s[t+1];n&&n({type:"stop"})}s[t]=s[t+1]=void 0}onComplete(t){let i;this.waitComplete.forEach((s,n)=>{i=n%2,s&&(t?i||s(this):i&&s(this.error))}),this.waitComplete.length=0,this.loading=!1}getCanvas(t,i,s,n){if(t||(t=this.width),i||(i=this.height),this.cache){let{params:a,data:h}=this.cache;for(let l in a)if(a[l]!==arguments[l]){h=null;break}if(h)return h}const r=I.origin.createCanvas(t,i),o=r.getContext("2d");return s&&(o.globalAlpha=s),o.drawImage(this.view,0,0,t,i),this.cache=this.use>1?{data:r,params:arguments}:null,r}getPattern(t,i,s,n){const r=I.canvas.createPattern(t,i);try{s&&r.setTransform&&(r.setTransform(s),s=null)}catch{}return n&&(n.transform=s),r}destroy(){this.config={url:""},this.cache=null,this.waitComplete.length=0}}function Tn(e,t,i,s){i.configurable=i.enumerable=!0,Object.defineProperty(e,t,i)}function Wd(e,t){return Object.getOwnPropertyDescriptor(e,t)}function bm(e){return Object.getOwnPropertyNames(e)}function Tt(e,t){return(i,s)=>vm(i,s,e,t&&t(s))}function vm(e,t,i,s){Tn(e,t,Object.assign({get(){return this.__getAttr(t)},set(r){this.__setAttr(t,r)}},s||{})),zd(e,t,i)}function Zt(e){return Tt(e)}function Fs(e,t){return Tt(e,i=>({set(s){this.__setAttr(i,s,t)&&(this.__layout.matrixChanged||this.__layout.matrixChange())}}))}function jr(e){return Tt(e,t=>({set(i){this.__setAttr(t,i)&&(this.__layout.matrixChanged||this.__layout.matrixChange(),this.__hasAutoLayout=!!i,this.__local||this.__layout.createLocal())}}))}function Fd(e,t){return Tt(e,i=>({set(s){this.__setAttr(i,s,t)&&(this.__layout.scaleChanged||this.__layout.scaleChange())}}))}function Ch(e,t){return Tt(e,i=>({set(s){this.__setAttr(i,s,t)&&(this.__layout.rotationChanged||this.__layout.rotationChange())}}))}function et(e,t){return Tt(e,i=>({set(s){this.__setAttr(i,s,t)&&Hs(this)}}))}function Rm(e){return Tt(e,t=>({set(i){this.__setAttr(t,i)&&(Hs(this),this.__.__removeNaturalSize())}}))}function Hs(e){e.__layout.boxChanged||e.__layout.boxChange(),e.__hasAutoLayout&&(e.__layout.matrixChanged||e.__layout.matrixChange())}function Cm(e){return Tt(e,t=>({set(i){const s=this.__;s.__pathInputed!==2&&(s.__pathInputed=i?1:0),i||(s.__pathForRender=void 0),this.__setAttr(t,i),Hs(this)}}))}const ie=et;function Ur(e){return Tt(e,t=>({set(i){this.__setAttr(t,i)&&Hd(this)}}))}function Hd(e){e.__layout.strokeChanged||e.__layout.strokeChange(),e.__.__useArrow&&Hs(e)}const Qe=Ur;function Nd(e){return Tt(e,t=>({set(i){this.__setAttr(t,i),this.__layout.renderChanged||this.__layout.renderChange()}}))}function kn(e){return Tt(e,t=>({set(i){this.__setAttr(t,i)&&(this.__layout.surfaceChanged||this.__layout.surfaceChange())}}))}function Em(e){return Tt(e,t=>({set(i){this.__setAttr(t,i)&&(this.__layout.opacityChanged||this.__layout.opacityChange())}}))}function Sm(e){return Tt(e,t=>({set(i){const s=this.visible;this.__setAttr(t,i)&&(this.__layout.opacityChanged||this.__layout.opacityChange(),(s===0||i===0)&&Hs(this))}}))}function Bm(e){return Tt(e,t=>({set(i){this.__setAttr(t,i)&&(this.__layout.surfaceChanged||this.__layout.surfaceChange(),this.waitParent(()=>{this.parent.__layout.childrenSortChange()}))}}))}function Pm(e){return Tt(e,t=>({set(i){this.__setAttr(t,i)&&(this.__layout.boxChanged||this.__layout.boxChange(),this.waitParent(()=>{this.parent.__updateMask(i)}))}}))}function Tm(e){return Tt(e,t=>({set(i){this.__setAttr(t,i)&&this.waitParent(()=>{this.parent.__updateEraser(i)})}}))}function ls(e){return Tt(e,t=>({set(i){this.__setAttr(t,i)&&(this.__layout.hitCanvasChanged=!0,ft.showHitView&&(this.__layout.surfaceChanged||this.__layout.surfaceChange()),this.leafer&&this.leafer.updateCursor())}}))}function km(e){return Tt(e,t=>({set(i){this.__setAttr(t,i),this.leafer&&this.leafer.updateCursor()}}))}function Yt(e){return(t,i)=>{Tn(t,"__DataProcessor",{get(){return e}})}}function Om(e){return"set"+e.charAt(0).toUpperCase()+e.slice(1)}function zd(e,t,i){const s=e.__DataProcessor.prototype,n="_"+t,r=Om(t),o={get(){const l=this[n];return l===void 0?i:l},set(l){this[n]=l}};i===void 0?o.get=function(){return this[n]}:t==="width"?o.get=function(){const l=this[n];if(l===void 0){const c=this;return c._height&&c.__naturalWidth&&c.__useNaturalRatio?c._height*c.__naturalWidth/c.__naturalHeight:c.__naturalWidth||i}else return l}:t==="height"&&(o.get=function(){const l=this[n];if(l===void 0){const c=this;return c._width&&c.__naturalHeight&&c.__useNaturalRatio?c._width*c.__naturalHeight/c.__naturalWidth:c.__naturalHeight||i}else return l});let a,h=s;for(;!a&&h;)a=Wd(h,t),h=h.__proto__;a&&a.set&&(o.set=a.set),s[r]&&(o.set=s[r],delete s[r]),Tn(s,t,o)}const Mm=new ft("rewrite"),wr=[],Lm=["destroy","constructor"];function We(e){return(t,i)=>{wr.push({name:t.constructor.name+"."+i,run:()=>{t[i]=e}})}}function Gr(){return e=>{jd()}}function jd(e){wr.length&&(wr.forEach(t=>{e&&Mm.error(t.name,"Class@rewriteAble()"),t.run()}),wr.length=0)}setTimeout(()=>jd(!0));function Oe(e,t){return i=>{(e.prototype?bm(e.prototype):Object.keys(e)).forEach(n=>{!Lm.includes(n)&&(!t||!t.includes(n))&&(e.prototype?Wd(e.prototype,n).writable&&(i.prototype[n]=e.prototype[n]):i.prototype[n]=e[n])})}}function Kt(){return e=>{zr.register(e)}}function $i(){return e=>{Ms.register(e)}}const{copy:ws,toInnerPoint:Am,scaleOfOuter:Im,rotateOfOuter:Dm,skewOfOuter:$m,multiplyParent:ic,divideParent:sc,getLayout:Wm}=X,At={},ti={updateAllMatrix(e,t,i){if(t&&e.__hasAutoLayout&&e.__layout.matrixChanged&&(i=!0),Hm(e,t,i),e.isBranch){const{children:s}=e;for(let n=0,r=s.length;n<r;n++)Fm(s[n],t,i)}},updateMatrix(e,t,i){const s=e.__layout;t?i&&(s.waitAutoLayout=!0,e.__hasAutoLayout&&(s.matrixChanged=!1)):s.waitAutoLayout&&(s.waitAutoLayout=!1),s.matrixChanged&&e.__updateLocalMatrix(),s.waitAutoLayout||e.__updateWorldMatrix()},updateBounds(e){const t=e.__layout;t.boundsChanged&&e.__updateLocalBounds(),t.waitAutoLayout||e.__updateWorldBounds()},updateAllWorldOpacity(e){if(e.__updateWorldOpacity(),e.isBranch){const{children:t}=e;for(let i=0,s=t.length;i<s;i++)nc(t[i])}},updateAllChange(e){if(nc(e),e.__updateChange(),e.isBranch){const{children:t}=e;for(let i=0,s=t.length;i<s;i++)Nm(t[i])}},worldHittable(e){for(;e;){if(!e.__.hittable)return!1;e=e.parent}return!0},moveWorld(e,t,i=0){const s=typeof t=="object"?Object.assign({},t):{x:t,y:i};e.parent&&Am(e.parent.worldTransform,s,s,!0),je.moveLocal(e,s.x,s.y)},moveLocal(e,t,i=0){typeof t=="object"?(e.x+=t.x,e.y+=t.y):(e.x+=t,e.y+=i)},zoomOfWorld(e,t,i,s,n){je.zoomOfLocal(e,Do(e,t),i,s,n)},zoomOfLocal(e,t,i,s=i,n){ws(At,e.__localMatrix),Im(At,t,i,s),rc(e,At),e.scaleResize(i,s,n!==!0)},rotateOfWorld(e,t,i){je.rotateOfLocal(e,Do(e,t),i)},rotateOfLocal(e,t,i){ws(At,e.__localMatrix),Dm(At,t,i),rc(e,At),e.rotation=Ee.formatRotation(e.rotation+i)},skewOfWorld(e,t,i,s,n){je.skewOfLocal(e,Do(e,t),i,s,n)},skewOfLocal(e,t,i,s=0,n){ws(At,e.__localMatrix),$m(At,t,i,s),je.setTransform(e,At,n)},transformWorld(e,t,i){ws(At,e.worldTransform),ic(At,t),e.parent&&sc(At,e.parent.worldTransform),je.setTransform(e,At,i)},transform(e,t,i){ws(At,e.localTransform),ic(At,t),je.setTransform(e,At,i)},setTransform(e,t,i){const s=Wm(t);if(i){const n=s.scaleX/e.scaleX,r=s.scaleY/e.scaleY;delete s.scaleX,delete s.scaleY,e.set(s),e.scaleResize(n,r,i!==!0)}else e.set(s)},getLocalOrigin(e,t){return Y.tempToOuterOf(je.getInnerOrigin(e,t),e.localTransform)},getInnerOrigin(e,t){return typeof t=="string"&&Ws.toPoint(t,e.boxBounds,t={}),t},getRelativeWorld(e,t,i){return ws(At,e.worldTransform),sc(At,t.worldTransform),i?At:Object.assign({},At)},drop(e,t,i,s){e.setTransform(je.getRelativeWorld(e,t,!0),s),t.add(e,i)},hasParent(e,t){if(!t)return!1;for(;e;){if(t===e)return!0;e=e.parent}}},je=ti,{updateAllMatrix:Fm,updateMatrix:Hm,updateAllWorldOpacity:nc,updateAllChange:Nm}=je;function rc(e,t){const{e:i,f:s}=e.__localMatrix;e.x+=t.e-i,e.y+=t.f-s}function Do(e,t){return e.__layout.update(),e.parent?Y.tempToInnerOf(t,e.parent.__world):t}const Vr={worldBounds(e){return e.__world},localBoxBounds(e){return e.__.eraser||e.__.visible===0?null:e.__local||e.__layout},localStrokeBounds(e){return e.__.eraser||e.__.visible===0?null:e.__layout.localStrokeBounds},localRenderBounds(e){return e.__.eraser||e.__.visible===0?null:e.__layout.localRenderBounds},maskLocalBoxBounds(e){return e.__.mask?e.__localBoxBounds:null},maskLocalStrokeBounds(e){return e.__.mask?e.__layout.localStrokeBounds:null},maskLocalRenderBounds(e){return e.__.mask?e.__layout.localRenderBounds:null},excludeRenderBounds(e,t){return!!(t.bounds&&!t.bounds.hit(e.__world,t.matrix)||t.hideBounds&&t.hideBounds.includes(e.__world,t.matrix))}},{updateBounds:oc}=ti,On={sort(e,t){return e.__.zIndex===t.__.zIndex?e.__tempNumber-t.__tempNumber:e.__.zIndex-t.__.zIndex},pushAllChildBranch(e,t){if(e.__tempNumber=1,e.__.__childBranchNumber){const{children:i}=e;for(let s=0,n=i.length;s<n;s++)e=i[s],e.isBranch&&(e.__tempNumber=1,t.add(e),zm(e,t))}},pushAllParent(e,t){const{keys:i}=t;if(i)for(;e.parent&&i[e.parent.innerId]===void 0;)t.add(e.parent),e=e.parent;else for(;e.parent;)t.add(e.parent),e=e.parent},pushAllBranchStack(e,t){let i=t.length;const{children:s}=e;for(let n=0,r=s.length;n<r;n++)s[n].isBranch&&t.push(s[n]);for(let n=i,r=t.length;n<r;n++)ac(t[n],t)},updateBounds(e,t){const i=[e];ac(e,i),jm(i,t)},updateBoundsByBranchStack(e,t){let i,s;for(let n=e.length-1;n>-1;n--){i=e[n],s=i.children;for(let r=0,o=s.length;r<o;r++)oc(s[r]);t&&t===i||oc(i)}}},{pushAllChildBranch:zm,pushAllBranchStack:ac,updateBoundsByBranchStack:jm}=On,Ji={run(e){if(e&&e.length){const t=e.length;for(let i=0;i<t;i++)e[i]();e.length===t?e.length=0:e.splice(0,t)}}},{getRelativeWorld:hc}=ti,{toOuterOf:rr,getPoints:Um,copy:Gm}=F,$o="_localContentBounds",Wo="_worldContentBounds",Fo="_worldBoxBounds",Ho="_worldStrokeBounds";class Vm{get contentBounds(){return this._contentBounds||this.boxBounds}set contentBounds(t){this._contentBounds=t}get strokeBounds(){return this._strokeBounds||this.boxBounds}get renderBounds(){return this._renderBounds||this.boxBounds}get localContentBounds(){return rr(this.contentBounds,this.leaf.__localMatrix,this[$o]||(this[$o]={})),this[$o]}get localStrokeBounds(){return this._localStrokeBounds||this}get localRenderBounds(){return this._localRenderBounds||this}get worldContentBounds(){return rr(this.contentBounds,this.leaf.__world,this[Wo]||(this[Wo]={})),this[Wo]}get worldBoxBounds(){return rr(this.boxBounds,this.leaf.__world,this[Fo]||(this[Fo]={})),this[Fo]}get worldStrokeBounds(){return rr(this.strokeBounds,this.leaf.__world,this[Ho]||(this[Ho]={})),this[Ho]}get a(){return 1}get b(){return 0}get c(){return 0}get d(){return 1}get e(){return this.leaf.__.x}get f(){return this.leaf.__.y}get x(){return this.e+this.boxBounds.x}get y(){return this.f+this.boxBounds.y}get width(){return this.boxBounds.width}get height(){return this.boxBounds.height}constructor(t){this.leaf=t,this.boxBounds={x:0,y:0,width:0,height:0},this.leaf.__local&&(this._localRenderBounds=this._localStrokeBounds=this.leaf.__local),this.boxChange(),this.matrixChange()}createLocal(){const t=this.leaf.__local={a:1,b:0,c:0,d:1,e:0,f:0,x:0,y:0,width:0,height:0};this._localStrokeBounds||(this._localStrokeBounds=t),this._localRenderBounds||(this._localRenderBounds=t)}update(){const{leafer:t}=this.leaf;if(t)t.ready?t.watcher.changed&&t.layouter.layout():t.start();else{let i=this.leaf;for(;i.parent&&!i.parent.leafer;)i=i.parent;I.layout(i)}}getTransform(t="world"){this.update();const{leaf:i}=this;switch(t){case"world":return i.__world;case"local":return i.__localMatrix;case"inner":return X.defaultMatrix;case"page":t=i.zoomLayer;default:return hc(i,t)}}getBounds(t,i="world"){switch(this.update(),i){case"world":return this.getWorldBounds(t);case"local":return this.getLocalBounds(t);case"inner":return this.getInnerBounds(t);case"page":i=this.leaf.zoomLayer;default:return new Pt(this.getInnerBounds(t)).toOuterOf(this.getTransform(i))}}getInnerBounds(t="box"){switch(t){case"render":return this.renderBounds;case"content":if(this.contentBounds)return this.contentBounds;case"box":return this.boxBounds;case"stroke":return this.strokeBounds}}getLocalBounds(t="box"){switch(t){case"render":return this.localRenderBounds;case"stroke":return this.localStrokeBounds;case"content":if(this.contentBounds)return this.localContentBounds;case"box":return this.leaf.__localBoxBounds}}getWorldBounds(t="box"){switch(t){case"render":return this.leaf.__world;case"stroke":return this.worldStrokeBounds;case"content":if(this.contentBounds)return this.worldContentBounds;case"box":return this.worldBoxBounds}}getLayoutBounds(t,i="world",s){const{leaf:n}=this;let r,o,a=this.getInnerBounds(t);switch(i){case"world":r=n.getWorldPoint(a),o=n.__world;break;case"local":r=n.getLocalPointByInner(a),o=n.__localMatrix;break;case"inner":r=a,o=X.defaultMatrix;break;case"page":i=n.zoomLayer;default:r=n.getWorldPoint(a,i),o=hc(n,i,!0)}const h=X.getLayout(o);if(Gm(h,a),Y.copy(h,r),s){const{scaleX:l,scaleY:c}=h,_=Math.abs(l),f=Math.abs(c);(_!==1||f!==1)&&(h.scaleX/=_,h.scaleY/=f,h.width*=_,h.height*=f)}return h}getLayoutPoints(t,i="world"){const{leaf:s}=this,n=Um(this.getInnerBounds(t));let r;switch(i){case"world":r=null;break;case"local":r=s.parent;break;case"inner":break;case"page":i=s.zoomLayer;default:r=i}return r!==void 0&&n.forEach(o=>s.innerToWorld(o,null,!1,r)),n}shrinkContent(){const{x:t,y:i,width:s,height:n}=this.boxBounds;this._contentBounds={x:t,y:i,width:s,height:n}}spreadStroke(){const{x:t,y:i,width:s,height:n}=this.strokeBounds;this._strokeBounds={x:t,y:i,width:s,height:n},this._localStrokeBounds={x:t,y:i,width:s,height:n},this.renderSpread||this.spreadRenderCancel()}spreadRender(){const{x:t,y:i,width:s,height:n}=this.renderBounds;this._renderBounds={x:t,y:i,width:s,height:n},this._localRenderBounds={x:t,y:i,width:s,height:n}}shrinkContentCancel(){this._contentBounds=void 0}spreadStrokeCancel(){const t=this.renderBounds===this.strokeBounds;this._strokeBounds=this.boxBounds,this._localStrokeBounds=this.leaf.__localBoxBounds,t&&this.spreadRenderCancel()}spreadRenderCancel(){this._renderBounds=this._strokeBounds,this._localRenderBounds=this._localStrokeBounds}boxChange(){this.boxChanged=!0,this.localBoxChanged||this.localBoxChange(),this.hitCanvasChanged=!0}localBoxChange(){this.localBoxChanged=!0,this.boundsChanged=!0}strokeChange(){this.strokeChanged=!0,this.strokeSpread||(this.strokeSpread=1),this.boundsChanged=!0,this.hitCanvasChanged=!0}renderChange(){this.renderChanged=!0,this.renderSpread||(this.renderSpread=1),this.boundsChanged=!0}scaleChange(){this.scaleChanged=!0,this._scaleOrRotationChange()}rotationChange(){this.rotationChanged=!0,this.affectRotation=!0,this._scaleOrRotationChange()}_scaleOrRotationChange(){this.affectScaleOrRotation=!0,this.matrixChange(),this.leaf.__local||this.createLocal()}matrixChange(){this.matrixChanged=!0,this.localBoxChanged||this.localBoxChange()}surfaceChange(){this.surfaceChanged=!0}opacityChange(){this.opacityChanged=!0,this.surfaceChanged||this.surfaceChange()}childrenSortChange(){this.childrenSortChanged||(this.childrenSortChanged=!0,this.leaf.forceUpdate("surface"))}destroy(){}}const lc={},Ym={on(e,t,i){let s,n;i&&(typeof i=="boolean"?s=i:(s=i.capture,n=i.once));let r;const o=No(this,s,!0),a=typeof e=="string"?e.split(" "):e,h=n?{listener:t,once:n}:{listener:t};a.forEach(l=>{l&&(r=o[l],r?r.findIndex(c=>c.listener===t)===-1&&r.push(h):o[l]=[h])})},off(e,t,i){if(e){const s=typeof e=="string"?e.split(" "):e;if(t){let n;i&&(n=typeof i=="boolean"?i:i.capture);let r,o;const a=No(this,n);s.forEach(h=>{h&&(r=a[h],r&&(o=r.findIndex(l=>l.listener===t),o>-1&&r.splice(o,1),r.length||delete a[h]))})}else{const{__bubbleMap:n,__captureMap:r}=this;s.forEach(o=>{n&&delete n[o],r&&delete r[o]})}}else this.__bubbleMap=this.__captureMap=void 0},on_(e,t,i,s){return i&&(t=t.bind(i)),this.on(e,t,s),{type:e,current:this,listener:t,options:s}},off_(e){if(!e)return;const t=e instanceof Array?e:[e];t.forEach(i=>i.current.off(i.type,i.listener,i.options)),t.length=0},once(e,t,i){this.on(e,t,{once:!0,capture:i})},emit(e,t,i){!t&&Ms.has(e)&&(t=Ms.get(e,{type:e,target:this,current:this}));const n=No(this,i)[e];if(n){let r;for(let o=0,a=n.length;o<a&&(r=n[o],r.listener(t),r.once&&(this.off(e,r.listener,i),o--,a--),!(t&&t.isStopNow));o++);}this.syncEventer&&this.syncEventer.emitEvent(t,i)},emitEvent(e,t){e.current=this,this.emit(e.type,e,t)},hasEvent(e,t){if(this.syncEventer&&this.syncEventer.hasEvent(e,t))return!0;const{__bubbleMap:i,__captureMap:s}=this,n=i&&i[e],r=s&&s[e];return!!(t===void 0?n||r:t?r:n)}};function No(e,t,i){if(t){const{__captureMap:s}=e;return s||(i?e.__captureMap={}:lc)}else{const{__bubbleMap:s}=e;return s||(i?e.__bubbleMap={}:lc)}}class ei{constructor(t,i){this.bubbles=!1,this.type=t,i&&(this.target=i)}stopDefault(){this.isStopDefault=!0,this.origin&&I.event.stopDefault(this.origin)}stopNow(){this.isStopNow=!0,this.isStop=!0,this.origin&&I.event.stopNow(this.origin)}stop(){this.isStop=!0,this.origin&&I.event.stop(this.origin)}}class de extends ei{constructor(t,i,s){super(t,i),this.parent=s,this.child=i}}de.ADD="child.add";de.REMOVE="child.remove";de.DESTROY="child.destroy";class ui extends ei{constructor(t,i,s,n,r){super(t,i),this.attrName=s,this.oldValue=n,this.newValue=r}}ui.CHANGE="property.change";ui.LEAFER_CHANGE="property.leafer_change";class Wi extends ei{constructor(t,i){super(t),Object.assign(this,i)}}Wi.LOAD="image.load";Wi.LOADED="image.loaded";Wi.ERROR="image.error";class cs extends ei{get bigger(){if(!this.old)return!0;const{width:t,height:i}=this.old;return this.width>=t&&this.height>=i}get smaller(){return!this.bigger}get samePixelRatio(){return this.old?this.pixelRatio===this.old.pixelRatio:!0}constructor(t,i){typeof t=="object"?(super(cs.RESIZE),Object.assign(this,t)):super(t),this.old=i}}cs.RESIZE="resize";class Oi extends ei{constructor(t,i){super(t),this.data=i}}Oi.REQUEST="watch.request";Oi.DATA="watch.data";class gt extends ei{constructor(t,i,s){super(t),i&&(this.data=i,this.times=s)}}gt.CHECK_UPDATE="layout.check_update";gt.REQUEST="layout.request";gt.START="layout.start";gt.BEFORE="layout.before";gt.LAYOUT="layout";gt.AFTER="layout.after";gt.AGAIN="layout.again";gt.END="layout.end";class Ud extends ei{}Ud.FRAME="animate.frame";class bt extends ei{constructor(t,i,s,n){super(t),i&&(this.times=i),s&&(this.renderBounds=s,this.renderOptions=n)}}bt.REQUEST="render.request";bt.START="render.start";bt.BEFORE="render.before";bt.RENDER="render";bt.AFTER="render.after";bt.AGAIN="render.again";bt.END="render.end";bt.NEXT="render.next";class kt extends ei{}kt.START="leafer.start";kt.BEFORE_READY="leafer.before_ready";kt.READY="leafer.ready";kt.AFTER_READY="leafer.after_ready";kt.VIEW_READY="leafer.view_ready";kt.VIEW_COMPLETED="leafer.view_completed";kt.STOP="leafer.stop";kt.RESTART="leafer.restart";kt.END="leafer.end";const{isFinite:Km}=Number,Xm=ft.get("setAttr"),qm={__setAttr(e,t,i){if(this.leafer&&this.leafer.created){const s=this.__.__getInput(e);if(i&&!Km(t)&&t!==void 0&&(Xm.warn(this.innerName,e,t),t=void 0),typeof t=="object"||s!==t){this.__[e]=t,this.__proxyData&&this.setProxyAttr(e,t);const{CHANGE:n}=ui,r=new ui(n,this,e,s,t);return this.isLeafer?this.emitEvent(new ui(ui.LEAFER_CHANGE,this,e,s,t)):this.hasEvent(n)&&this.emitEvent(r),this.leafer.emitEvent(r),!0}else return!1}else return this.__[e]=t,this.__proxyData&&this.setProxyAttr(e,t),!0},__getAttr(e){return this.__proxyData?this.getProxyAttr(e):this.__.__get(e)}},{setLayout:Zm,multiplyParent:Jm,translateInner:Qm,defaultWorld:t0}=X,{toPoint:e0,tempPoint:zo}=Ws,i0={__updateWorldMatrix(){Jm(this.__local||this.__layout,this.parent?this.parent.__world:t0,this.__world,!!this.__layout.affectScaleOrRotation,this.__,this.parent&&this.parent.__)},__updateLocalMatrix(){if(this.__local){const e=this.__layout,t=this.__local,i=this.__;e.affectScaleOrRotation&&(e.scaleChanged||e.rotationChanged)&&(Zm(t,i,null,e.affectRotation),e.scaleChanged=e.rotationChanged=!1),t.e=i.x+i.offsetX,t.f=i.y+i.offsetY,(i.around||i.origin)&&(e0(i.around||i.origin,e.boxBounds,zo),Qm(t,-zo.x,-zo.y,i.origin))}this.__layout.matrixChanged=!1}},{updateMatrix:s0,updateAllMatrix:cc}=ti,{updateBounds:uc}=On,{toOuterOf:or,copyAndSpread:dc,copy:n0}=F,{toBounds:r0}=Rh,o0={__updateWorldBounds(){or(this.__layout.renderBounds,this.__world,this.__world),this.__layout.resized&&(this.__onUpdateSize(),this.__layout.resized=!1)},__updateLocalBounds(){const e=this.__layout;e.boxChanged&&(this.__.__pathInputed||this.__updatePath(),this.__updateRenderPath(),this.__updateBoxBounds(),e.resized=!0),e.localBoxChanged&&(this.__local&&this.__updateLocalBoxBounds(),e.localBoxChanged=!1,e.strokeSpread&&(e.strokeChanged=!0),e.renderSpread&&(e.renderChanged=!0),this.parent&&this.parent.__layout.boxChange()),e.boxChanged=!1,e.strokeChanged&&(e.strokeSpread=this.__updateStrokeSpread(),e.strokeSpread?(e.strokeBounds===e.boxBounds&&e.spreadStroke(),this.__updateStrokeBounds(),this.__updateLocalStrokeBounds()):e.spreadStrokeCancel(),e.strokeChanged=!1,(e.renderSpread||e.strokeSpread!==e.strokeBoxSpread)&&(e.renderChanged=!0),this.parent&&this.parent.__layout.strokeChange(),e.resized=!0),e.renderChanged&&(e.renderSpread=this.__updateRenderSpread(),e.renderSpread?((e.renderBounds===e.boxBounds||e.renderBounds===e.strokeBounds)&&e.spreadRender(),this.__updateRenderBounds(),this.__updateLocalRenderBounds()):e.spreadRenderCancel(),e.renderChanged=!1,this.parent&&this.parent.__layout.renderChange()),e.boundsChanged=!1},__updateLocalBoxBounds(){this.__hasAutoLayout&&this.__updateAutoLayout(),or(this.__layout.boxBounds,this.__local,this.__local)},__updateLocalStrokeBounds(){or(this.__layout.strokeBounds,this.__localMatrix,this.__layout.localStrokeBounds)},__updateLocalRenderBounds(){or(this.__layout.renderBounds,this.__localMatrix,this.__layout.localRenderBounds)},__updateBoxBounds(){const e=this.__layout.boxBounds,t=this.__;t.__pathInputed?r0(t.__pathForRender,e):(e.x=0,e.y=0,e.width=t.width,e.height=t.height)},__updateAutoLayout(){this.__layout.matrixChanged=!0,this.isBranch?(this.leafer&&this.leafer.ready&&this.leafer.layouter.addExtra(this),this.__.flow?(this.__layout.boxChanged&&this.__updateFlowLayout(),cc(this),uc(this,this),this.__.__autoSide&&this.__updateBoxBounds()):(cc(this),uc(this,this))):s0(this)},__updateNaturalSize(){const{__:e,__layout:t}=this;e.__naturalWidth=t.boxBounds.width,e.__naturalHeight=t.boxBounds.height},__updateStrokeBounds(){const e=this.__layout;dc(e.strokeBounds,e.boxBounds,e.strokeBoxSpread)},__updateRenderBounds(){const e=this.__layout;e.renderSpread>0?dc(e.renderBounds,e.boxBounds,e.renderSpread):n0(e.renderBounds,e.strokeBounds)}},a0={__render(e,t){if(this.__worldOpacity)if(e.setWorld(this.__nowWorld=this.__getNowWorld(t)),e.opacity=this.__.opacity,this.__.__single){if(this.__.eraser==="path")return this.__renderEraser(e,t);const i=e.getSameCanvas(!0,!0);this.__draw(i,t),this.__worldFlipped?e.copyWorldByReset(i,this.__nowWorld,null,this.__.__blendMode,!0):e.copyWorldToInner(i,this.__nowWorld,this.__layout.renderBounds,this.__.__blendMode),i.recycle(this.__nowWorld)}else this.__draw(e,t)},__clip(e,t){this.__worldOpacity&&(e.setWorld(this.__nowWorld=this.__getNowWorld(t)),this.__drawRenderPath(e),this.__.windingRule?e.clip(this.__.windingRule):e.clip())},__updateWorldOpacity(){this.__worldOpacity=this.__.visible?this.parent?this.parent.__worldOpacity*this.__.opacity:this.__.opacity:0,this.__layout.opacityChanged&&(this.__layout.opacityChanged=!1)}},{excludeRenderBounds:fc}=Vr,h0={__updateChange(){const{__layout:e}=this;e.childrenSortChanged&&(this.__updateSortChildren(),e.childrenSortChanged=!1),this.__.__checkSingle()},__render(e,t){if(this.__worldOpacity)if(this.__.__single){if(this.__.eraser==="path")return this.__renderEraser(e,t);const i=e.getSameCanvas(!1,!0);this.__renderBranch(i,t);const s=this.__getNowWorld(t);e.opacity=this.__.opacity,e.copyWorldByReset(i,s,s,this.__.__blendMode,!0),i.recycle(s)}else this.__renderBranch(e,t)},__renderBranch(e,t){if(this.__hasMask)this.__renderMask(e,t);else{const{children:i}=this;for(let s=0,n=i.length;s<n;s++)fc(i[s],t)||i[s].__render(e,t)}},__clip(e,t){if(this.__worldOpacity){const{children:i}=this;for(let s=0,n=i.length;s<n;s++)fc(i[s],t)||i[s].__clip(e,t)}}},{LEAF:l0,create:c0}=_i,{toInnerPoint:u0,toOuterPoint:d0,multiplyParent:f0}=X,{toOuterOf:_c}=F,{copy:pc}=Y,{moveLocal:_0,zoomOfLocal:p0,rotateOfLocal:g0,skewOfLocal:y0,moveWorld:m0,zoomOfWorld:w0,rotateOfWorld:x0,skewOfWorld:b0,transform:v0,transformWorld:R0,setTransform:C0,getLocalOrigin:jo,getRelativeWorld:E0,drop:S0}=ti;let rs=class{get tag(){return this.__tag}set tag(t){}get __tag(){return"Leaf"}get innerName(){return this.__.name||this.tag+this.innerId}get __DataProcessor(){return Pd}get __LayoutProcessor(){return Vm}get isLeafer(){return!1}get isBranch(){return!1}get isBranchLeaf(){return!1}get __localMatrix(){return this.__local||this.__layout}get __localBoxBounds(){return this.__local||this.__layout}get worldTransform(){return this.__layout.getTransform("world")}get localTransform(){return this.__layout.getTransform("local")}get boxBounds(){return this.getBounds("box","inner")}get renderBounds(){return this.getBounds("render","inner")}get worldBoxBounds(){return this.getBounds("box")}get worldStrokeBounds(){return this.getBounds("stroke")}get worldRenderBounds(){return this.getBounds("render")}get worldOpacity(){return this.__layout.update(),this.__worldOpacity}get __worldFlipped(){return this.__world.scaleX<0||this.__world.scaleY<0}get __onlyHitMask(){return this.__hasMask&&!this.__.hitChildren}get __ignoreHitWorld(){return(this.__hasMask||this.__hasEraser)&&this.__.hitChildren}get __inLazyBounds(){const{leafer:t}=this;return t&&t.created&&t.lazyBounds.hit(this.__world)}get pathInputed(){return this.__.__pathInputed}constructor(t){this.innerId=c0(l0),this.reset(t)}reset(t){this.__world={a:1,b:0,c:0,d:1,e:0,f:0,x:0,y:0,width:0,height:0,scaleX:1,scaleY:1},t!==null&&(this.__local={a:1,b:0,c:0,d:1,e:0,f:0,x:0,y:0,width:0,height:0}),this.__worldOpacity=1,this.__=new this.__DataProcessor(this),this.__layout=new this.__LayoutProcessor(this),this.__level&&this.resetCustom(),t&&(t.__&&(t=t.toJSON()),t.children?this.set(t):Object.assign(this,t))}resetCustom(){this.__hasMask=this.__hasEraser=null,this.forceUpdate()}waitParent(t,i){i&&(t=t.bind(i)),this.parent?t():this.__parentWait?this.__parentWait.push(t):this.__parentWait=[t]}waitLeafer(t,i){i&&(t=t.bind(i)),this.leafer?t():this.__leaferWait?this.__leaferWait.push(t):this.__leaferWait=[t]}nextRender(t,i,s){this.leafer?this.leafer.nextRender(t,i,s):this.waitLeafer(()=>this.leafer.nextRender(t,i,s))}removeNextRender(t){this.nextRender(t,null,"off")}__bindLeafer(t){if(this.isLeafer&&t!==null&&(t=this),this.leafer&&!t&&this.leafer.leafs--,this.leafer=t,t&&(t.leafs++,this.__level=this.parent?this.parent.__level+1:1,this.__leaferWait&&Ji.run(this.__leaferWait)),this.isBranch){const{children:i}=this;for(let s=0,n=i.length;s<n;s++)i[s].__bindLeafer(t)}}set(t){}get(t){}setAttr(t,i){this[t]=i}getAttr(t){return this[t]}getComputedAttr(t){return this.__[t]}toJSON(t){return t&&this.__layout.update(),this.__.__getInputData(null,t)}toString(t){return JSON.stringify(this.toJSON(t))}toSVG(){}__SVG(t){}toHTML(){}__setAttr(t,i){return!0}__getAttr(t){}setProxyAttr(t,i){}getProxyAttr(t){}find(t,i){}findTag(t){}findOne(t,i){}findId(t){}focus(t){}updateLayout(){this.__layout.update()}forceUpdate(t){t===void 0?t="width":t==="surface"&&(t="blendMode");const i=this.__.__getInput(t);this.__[t]=i===void 0?null:void 0,this[t]=i}forceRender(t){this.forceUpdate("surface")}__updateWorldMatrix(){}__updateLocalMatrix(){}__updateWorldBounds(){}__updateLocalBounds(){}__updateLocalBoxBounds(){}__updateLocalStrokeBounds(){}__updateLocalRenderBounds(){}__updateBoxBounds(){}__updateContentBounds(){}__updateStrokeBounds(){}__updateRenderBounds(){}__updateAutoLayout(){}__updateFlowLayout(){}__updateNaturalSize(){}__updateStrokeSpread(){return 0}__updateRenderSpread(){return 0}__onUpdateSize(){}__updateEraser(t){this.__hasEraser=t?!0:this.children.some(i=>i.__.eraser)}__renderEraser(t,i){t.save(),this.__clip(t,i);const{renderBounds:s}=this.__layout;t.clearRect(s.x,s.y,s.width,s.height),t.restore()}__updateMask(t){this.__hasMask=t?!0:this.children.some(i=>i.__.mask)}__renderMask(t,i){}__getNowWorld(t){if(t.matrix){this.__cameraWorld||(this.__cameraWorld={});const i=this.__cameraWorld;return f0(this.__world,t.matrix,i,void 0,this.__world),_c(this.__layout.renderBounds,i,i),i}else return this.__world}getTransform(t){return this.__layout.getTransform(t||"local")}getBounds(t,i){return this.__layout.getBounds(t,i)}getLayoutBounds(t,i,s){return this.__layout.getLayoutBounds(t,i,s)}getLayoutPoints(t,i){return this.__layout.getLayoutPoints(t,i)}getWorldBounds(t,i,s){const n=i?E0(this,i):this.worldTransform,r=s?t:{};return _c(t,n,r),r}worldToLocal(t,i,s,n){this.parent?this.parent.worldToInner(t,i,s,n):i&&pc(i,t)}localToWorld(t,i,s,n){this.parent?this.parent.innerToWorld(t,i,s,n):i&&pc(i,t)}worldToInner(t,i,s,n){n&&(n.innerToWorld(t,i,s),t=i||t),u0(this.worldTransform,t,i,s)}innerToWorld(t,i,s,n){d0(this.worldTransform,t,i,s),n&&n.worldToInner(i||t,null,s)}getInnerPoint(t,i,s,n){const r=n?t:{};return this.worldToInner(t,r,s,i),r}getInnerPointByLocal(t,i,s,n){return this.getInnerPoint(t,this.parent,s,n)}getLocalPoint(t,i,s,n){const r=n?t:{};return this.worldToLocal(t,r,s,i),r}getLocalPointByInner(t,i,s,n){return this.getWorldPoint(t,this.parent,s,n)}getWorldPoint(t,i,s,n){const r=n?t:{};return this.innerToWorld(t,r,s,i),r}getWorldPointByLocal(t,i,s,n){const r=n?t:{};return this.localToWorld(t,r,s,i),r}getPagePoint(t,i,s,n){return(this.leafer?this.leafer.zoomLayer:this).getInnerPoint(t,i,s,n)}getWorldPointByPage(t,i,s,n){return(this.leafer?this.leafer.zoomLayer:this).getWorldPoint(t,i,s,n)}setTransform(t,i){C0(this,t,i)}transform(t,i){v0(this,t,i)}move(t,i){_0(this,t,i)}scaleOf(t,i,s,n){p0(this,jo(this,t),i,s,n)}rotateOf(t,i){g0(this,jo(this,t),i)}skewOf(t,i,s,n){y0(this,jo(this,t),i,s,n)}transformWorld(t,i){R0(this,t,i)}moveWorld(t,i){m0(this,t,i)}scaleOfWorld(t,i,s,n){w0(this,t,i,s,n)}rotateOfWorld(t,i){x0(this,t,i)}skewOfWorld(t,i,s,n){b0(this,t,i,s,n)}scaleResize(t,i=t,s){this.scaleX*=t,this.scaleY*=i}__scaleResize(t,i){}resizeWidth(t){}resizeHeight(t){}__hitWorld(t){return!0}__hit(t){return!0}__hitFill(t){return!0}__hitStroke(t,i){return!0}__hitPixel(t){return!0}__drawHitPath(t){}__updateHitCanvas(){}__render(t,i){}__drawFast(t,i){}__draw(t,i){}__clip(t,i){}__renderShape(t,i,s,n){}__updateWorldOpacity(){}__updateChange(){}__drawPath(t){}__drawRenderPath(t){}__updatePath(){}__updateRenderPath(){}__updateSortChildren(){}add(t,i){}remove(t,i){this.parent&&this.parent.remove(this,i)}dropTo(t,i,s){S0(this,t,i,s)}on(t,i,s){}off(t,i,s){}on_(t,i,s,n){}off_(t){}once(t,i,s){}emit(t,i,s){}emitEvent(t,i){}hasEvent(t,i){return!1}static changeAttr(t,i,s){s?this.addAttr(t,i,s):zd(this.prototype,t,i)}static addAttr(t,i,s){s||(s=et),s(i)(this.prototype,t)}destroy(){if(!this.destroyed){const{parent:t}=this;t&&this.remove(),this.children&&this.removeAll(!0),this.hasEvent(de.DESTROY)&&this.emitEvent(new de(de.DESTROY,this,t)),this.__.destroy(),this.__layout.destroy(),this.__captureMap=this.__bubbleMap=this.__parentWait=this.__leaferWait=null,this.destroyed=!0}}};rs=D([Oe(qm),Oe(i0),Oe(o0),Oe(Ym),Oe(a0)],rs);const{setListWithFn:Uo}=F,{sort:B0}=On,{localBoxBounds:P0,localStrokeBounds:T0,localRenderBounds:k0,maskLocalBoxBounds:O0,maskLocalStrokeBounds:M0,maskLocalRenderBounds:L0}=Vr;let Ia=class extends rs{__updateStrokeSpread(){const{children:t}=this;for(let i=0,s=t.length;i<s;i++)if(t[i].__layout.strokeSpread)return 1;return 0}__updateRenderSpread(){const{children:t}=this;for(let i=0,s=t.length;i<s;i++)if(t[i].__layout.renderSpread)return 1;return 0}__updateBoxBounds(){Uo(this.__layout.boxBounds,this.children,this.__hasMask?O0:P0)}__updateStrokeBounds(){Uo(this.__layout.strokeBounds,this.children,this.__hasMask?M0:T0)}__updateRenderBounds(){Uo(this.__layout.renderBounds,this.children,this.__hasMask?L0:k0)}__updateSortChildren(){let t;const{children:i}=this;if(i.length>1){for(let s=0,n=i.length;s<n;s++)i[s].__tempNumber=s,i[s].__.zIndex&&(t=!0);i.sort(B0),this.__layout.affectChildrenSort=t}}add(t,i){t!==this&&(t.parent&&t.parent.remove(t),t.parent=this,i===void 0?this.children.push(t):this.children.splice(i,0,t),t.isBranch&&(this.__.__childBranchNumber=(this.__.__childBranchNumber||0)+1),t.__layout.boxChanged||t.__layout.boxChange(),t.__layout.matrixChanged||t.__layout.matrixChange(),t.__parentWait&&Ji.run(t.__parentWait),this.leafer&&(t.__bindLeafer(this.leafer),this.leafer.created&&this.__emitChildEvent(de.ADD,t)),this.__layout.affectChildrenSort&&this.__layout.childrenSortChange())}addMany(...t){t.forEach(i=>this.add(i))}remove(t,i){if(t){const s=this.children.indexOf(t);s>-1&&(this.children.splice(s,1),t.isBranch&&(this.__.__childBranchNumber=(this.__.__childBranchNumber||1)-1),this.__preRemove(),this.__realRemoveChild(t),i&&t.destroy())}else t===void 0&&super.remove(null,i)}removeAll(t){const{children:i}=this;i.length&&(this.children=[],this.__preRemove(),this.__.__childBranchNumber=0,i.forEach(s=>{this.__realRemoveChild(s),t&&s.destroy()}))}clear(){this.removeAll(!0)}__preRemove(){this.__hasMask&&this.__updateMask(),this.__hasEraser&&this.__updateEraser(),this.__layout.boxChange(),this.__layout.affectChildrenSort&&this.__layout.childrenSortChange()}__realRemoveChild(t){t.parent=null,this.leafer&&(t.__bindLeafer(null),this.leafer.created&&(this.__emitChildEvent(de.REMOVE,t),this.leafer.hitCanvasManager&&this.leafer.hitCanvasManager.clear()))}__emitChildEvent(t,i){const s=new de(t,i,this);i.hasEvent(t)&&i.emitEvent(s),this.hasEvent(t)&&!this.isLeafer&&this.emitEvent(s),this.leafer.emitEvent(s)}};Ia=D([Oe(h0)],Ia);class Lt{get length(){return this.list.length}constructor(t){this.reset(),t&&(t instanceof Array?this.addList(t):this.add(t))}has(t){return t&&this.keys[t.innerId]!==void 0}indexAt(t){return this.list[t]}indexOf(t){const i=this.keys[t.innerId];return i===void 0?-1:i}add(t){const{list:i,keys:s}=this;s[t.innerId]===void 0&&(i.push(t),s[t.innerId]=i.length-1)}addAt(t,i=0){const{keys:s}=this;if(s[t.innerId]===void 0){const{list:n}=this;for(let r=i,o=n.length;r<o;r++)s[n[r].innerId]++;i===0?n.unshift(t):(i>n.length&&(i=n.length),n.splice(i,0,t)),s[t.innerId]=i}}addList(t){for(let i=0;i<t.length;i++)this.add(t[i])}remove(t){const{list:i}=this;let s;for(let n=0,r=i.length;n<r;n++)s!==void 0?this.keys[i[n].innerId]=n-1:i[n].innerId===t.innerId&&(s=n,delete this.keys[t.innerId]);s!==void 0&&i.splice(s,1)}sort(t){const{list:i}=this;t?i.sort((s,n)=>n.__level-s.__level):i.sort((s,n)=>s.__level-n.__level)}forEach(t){this.list.forEach(t)}clone(){const t=new Lt;return t.list=[...this.list],t.keys=Object.assign({},this.keys),t}update(){this.keys={};const{list:t,keys:i}=this;for(let s=0,n=t.length;s<n;s++)i[t[s].innerId]=s}reset(){this.list=[],this.keys={}}destroy(){this.reset()}}class A0{get length(){return this._length}constructor(t){this._length=0,this.reset(),t&&(t instanceof Array?this.addList(t):this.add(t))}has(t){return this.keys[t.innerId]!==void 0}without(t){return this.keys[t.innerId]===void 0}sort(t){const{levels:i}=this;t?i.sort((s,n)=>n-s):i.sort((s,n)=>s-n)}addList(t){t.forEach(i=>{this.add(i)})}add(t){const{keys:i,levelMap:s}=this;i[t.innerId]||(i[t.innerId]=1,s[t.__level]?s[t.__level].push(t):(s[t.__level]=[t],this.levels.push(t.__level)),this._length++)}forEach(t){let i;this.levels.forEach(s=>{i=this.levelMap[s];for(let n=0,r=i.length;n<r;n++)t(i[n])})}reset(){this.levelMap={},this.keys={},this.levels=[],this._length=0}destroy(){this.levelMap=null}}function y(e,t,i,s){var n=arguments.length,r=n<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,i):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r}const Gd={},xn={},Vd={},zt={},os={},xr={},Da={},bn={},qt={};function Yd(e){return Tt(e,t=>({set(i){this.__setAttr(t,i),this.waitLeafer(()=>{qt.setStyle&&qt.setStyle(this,t+"Style",i)})}}))}function Kd(e){return Tt(e,t=>({set(i){if(this.__setAttr(t,i)){const s=this.__;s.__useArrow=s.startArrow!=="none"||s.endArrow!=="none",Hd(this)}}}))}function Mn(e){return Tt(e,t=>({set(i){this.__setAttr(t,i),i&&(this.__.__useEffect=!0),this.__layout.renderChanged||this.__layout.renderChange()}}))}function Ln(e){return Tt(e,t=>({set(i){this.__setAttr(t,i),this.__layout.boxChanged||this.__layout.boxChange(),this.__updateSize()}}))}function I0(){return(e,t)=>{const i="_"+t;Tn(e,t,{set(s){this.isLeafer&&(this[i]=s)},get(){return this.isApp?this.tree.zoomLayer:this.isLeafer?this[i]||this:this.leafer&&this.leafer.zoomLayer}})}}const{parse:D0}=ns,gc={},yc=ft.get("UIData");class mi extends Pd{get __strokeWidth(){const{strokeWidth:t,strokeWidthFixed:i}=this;if(i){const s=this.__leaf;let{scaleX:n}=s.__nowWorld||s.__world;return n<0&&(n=-n),n>1?t/n:t}else return t}get __autoWidth(){return!this._width}get __autoHeight(){return!this._height}get __autoSide(){return!this._width||!this._height}get __autoSize(){return!this._width&&!this._height}setVisible(t){this.__leaf.leafer&&(this.__leaf.leafer.watcher.hasVisible=!0),this._visible=t}setWidth(t){t<0?(this._width=-t,this.__leaf.scaleX*=-1,yc.warn("width < 0, instead -scaleX ",this)):this._width=t}setHeight(t){t<0?(this._height=-t,this.__leaf.scaleY*=-1,yc.warn("height < 0, instead -scaleY",this)):this._height=t}setFill(t){this.__naturalWidth&&this.__removeNaturalSize(),typeof t=="string"||!t?(this.__isFills&&(this.__removeInput("fill"),os.recycleImage("fill",this),this.__isFills=!1,this.__pixelFill&&(this.__pixelFill=!1)),this._fill=t):typeof t=="object"&&(this.__setInput("fill",t),this.__leaf.__layout.boxChanged||this.__leaf.__layout.boxChange(),this.__isFills=!0,this._fill||(this._fill=gc))}setStroke(t){typeof t=="string"||!t?(this.__isStrokes&&(this.__removeInput("stroke"),os.recycleImage("stroke",this),this.__isStrokes=!1,this.__pixelStroke&&(this.__pixelStroke=!1)),this._stroke=t):typeof t=="object"&&(this.__setInput("stroke",t),this.__leaf.__layout.boxChanged||this.__leaf.__layout.boxChange(),this.__isStrokes=!0,this._stroke||(this._stroke=gc))}setPath(t){typeof t=="string"?(this.__setInput("path",t),this._path=D0(t)):(this.__input&&this.__removeInput("path"),this._path=t)}setShadow(t){this.__setInput("shadow",t),t instanceof Array?(t.some(i=>i.visible===!1)&&(t=t.filter(i=>i.visible!==!1)),this._shadow=t.length?t:null):t?this._shadow=t.visible===!1?null:[t]:this._shadow=null}setInnerShadow(t){this.__setInput("innerShadow",t),t instanceof Array?(t.some(i=>i.visible===!1)&&(t=t.filter(i=>i.visible!==!1)),this._innerShadow=t.length?t:null):t?this._innerShadow=t.visible===!1?null:[t]:this._innerShadow=null}__computePaint(){const{fill:t,stroke:i}=this.__input;t&&zt.compute("fill",this.__leaf),i&&zt.compute("stroke",this.__leaf),this.__needComputePaint=!1}}const mc={number(e,t){return typeof e=="object"?e.type==="percent"?e.value*t:e.value:e}};class Yr extends mi{}class Eh extends Yr{get __boxStroke(){return!this.__pathInputed}}class $0 extends Yr{}class W0 extends Eh{}class F0 extends mi{}class Sh extends mi{get __boxStroke(){return!this.__pathInputed}}class H0 extends mi{get __boxStroke(){return!this.__pathInputed}}class N0 extends mi{}class z0 extends mi{}class j0 extends mi{}class U0 extends Yr{}const G0={thin:100,"extra-light":200,light:300,normal:400,medium:500,"semi-bold":600,bold:700,"extra-bold":800,black:900};class V0 extends mi{get __useNaturalRatio(){return!1}setFontWeight(t){typeof t=="string"?(this.__setInput("fontWeight",t),this._fontWeight=G0[t]||400):(this.__input&&this.__removeInput("fontWeight"),this._fontWeight=t)}}class Y0 extends Sh{setUrl(t){this.__setImageFill(t),this._url=t}__setImageFill(t){this.__leaf.image&&(this.__leaf.image=null),this.fill=t?{type:"image",mode:"strench",url:t}:void 0}__getData(){const t=super.__getData();return delete t.fill,t}__getInputData(){const t=super.__getInputData();return delete t.fill,t}}class K0 extends Sh{}const X0={__updateStrokeSpread(){let e=0,t=0;const i=this.__,{strokeAlign:s,strokeWidth:n}=i;if((i.stroke||i.hitStroke==="all")&&n&&s!=="inside"&&(t=e=s==="center"?n/2:n,!i.__boxStroke)){const r=i.__isLinePath?0:10*e,o=i.strokeCap==="none"?0:n;e+=Math.max(r,o)}return i.__useArrow&&(e+=n*5),this.__layout.strokeBoxSpread=t,e},__updateRenderSpread(){let e=0;const{shadow:t,innerShadow:i,blur:s,backgroundBlur:n}=this.__;t&&t.forEach(o=>{e=Math.max(e,Math.max(Math.abs(o.y),Math.abs(o.x))+(o.spread>0?o.spread:0)+o.blur*1.5)}),s&&(e=Math.max(e,s));let r=e=Math.ceil(e);return i&&i.forEach(o=>{r=Math.max(r,Math.max(Math.abs(o.y),Math.abs(o.x))+(o.spread<0?-o.spread:0)+o.blur*1.5)}),n&&(r=Math.max(r,n)),this.__layout.renderShapeSpread=r,e+(this.__layout.strokeSpread||0)}},q0={__updateChange(){const e=this.__;if(e.__useEffect){const{shadow:i,innerShadow:s,blur:n,backgroundBlur:r}=this.__;e.__useEffect=!!(i||s||n||r)}e.__checkSingle(),e.__isFills||e.__isStrokes||e.cornerRadius||e.__useEffect?e.__complex=!0:e.__complex&&(e.__complex=!1)},__drawFast(e,t){wc(this,e,t)},__draw(e,t){const i=this.__;if(i.__complex){i.__needComputePaint&&i.__computePaint();const{fill:s,stroke:n,__drawAfterFill:r}=i;if(this.__drawRenderPath(e),i.__useEffect){const o=zt.shape(this,e,t);this.__nowWorld=this.__getNowWorld(t);const{shadow:a,innerShadow:h}=i;a&&Da.shadow(this,e,o),s&&(i.__isFills?zt.fills(s,this,e):zt.fill(s,this,e)),r&&this.__drawAfterFill(e,t),h&&Da.innerShadow(this,e,o),n&&(i.__isStrokes?zt.strokes(n,this,e):zt.stroke(n,this,e)),o.worldCanvas&&o.worldCanvas.recycle(),o.canvas.recycle()}else s&&(i.__isFills?zt.fills(s,this,e):zt.fill(s,this,e)),r&&this.__drawAfterFill(e,t),n&&(i.__isStrokes?zt.strokes(n,this,e):zt.stroke(n,this,e))}else i.__pathInputed?wc(this,e,t):this.__drawFast(e,t)},__renderShape(e,t,i,s){if(this.__worldOpacity){e.setWorld(this.__nowWorld=this.__getNowWorld(t));const{fill:n,stroke:r}=this.__;this.__drawRenderPath(e),n&&!i&&(this.__.__pixelFill?zt.fills(n,this,e):zt.fill("#000000",this,e)),this.__.__isCanvas&&this.__drawAfterFill(e,t),r&&!s&&(this.__.__pixelStroke?zt.strokes(r,this,e):zt.stroke("#000000",this,e))}}};function wc(e,t,i){const{fill:s,stroke:n,__drawAfterFill:r}=e.__;e.__drawRenderPath(t),s&&zt.fill(s,e,t),r&&e.__drawAfterFill(t,i),n&&zt.stroke(n,e,t)}const Z0={__drawFast(e,t){let{width:i,height:s,fill:n,stroke:r,__drawAfterFill:o}=this.__;if(n&&(e.fillStyle=n,e.fillRect(0,0,i,s)),o&&this.__drawAfterFill(e,t),r){const{strokeAlign:a,__strokeWidth:h}=this.__;if(!h)return;e.setStroke(r,h,this.__);const l=h/2;switch(a){case"center":e.strokeRect(0,0,i,s);break;case"inside":i-=h,s-=h,i<0||s<0?(e.save(),this.__clip(e,t),e.strokeRect(l,l,i,s),e.restore()):e.strokeRect(l,l,i,s);break;case"outside":e.strokeRect(-l,-l,i+h,s+h);break}}}};var $a;let C=$a=class extends rs{get app(){return this.leafer&&this.leafer.app}get isFrame(){return!1}set scale(t){typeof t=="number"?this.scaleX=this.scaleY=t:(this.scaleX=t.x,this.scaleY=t.y)}get scale(){const{scaleX:t,scaleY:i}=this;return t!==i?{x:t,y:i}:t}get pen(){const{path:t}=this.__;return Xs.set(this.path=t||[]),t||this.__drawPathByBox(Xs),Xs}get editConfig(){}get editOuter(){return this.__.__isLinePath?"LineEditTool":"EditTool"}get editInner(){return"PathEditor"}constructor(t){super(t)}reset(t){}set(t){Object.assign(this,t)}get(t){return typeof t=="string"?this.__.__getInput(t):this.__.__getInputData(t)}createProxyData(){}find(t,i){}findTag(t){return this.find({tag:t})}findOne(t,i){}findId(t){return this.findOne({id:t})}getPath(t,i){this.__layout.update();let s=i?this.__.__pathForRender:this.__.path;return s||(Xs.set(s=[]),this.__drawPathByBox(Xs)),t?ns.toCanvasData(s,!0):s}getPathString(t,i){return ns.stringify(this.getPath(t,i))}load(){this.__.__computePaint()}__onUpdateSize(){if(this.__.__input){const t=this.__;t.lazy&&!this.__inLazyBounds&&!bn.running?t.__needComputePaint=!0:t.__computePaint()}}__updateRenderPath(){if(this.__.path){const t=this.__;t.__pathForRender=t.cornerRadius?fm.smooth(t.path,t.cornerRadius,t.cornerSmoothing):t.path,t.__useArrow&&Vd.addArrows(this,!t.cornerRadius)}}__drawRenderPath(t){t.beginPath(),this.__drawPathByData(t,this.__.__pathForRender)}__drawPath(t){t.beginPath(),this.__drawPathByData(t,this.__.path)}__drawPathByData(t,i){i?Yy.drawPathByData(t,i):this.__drawPathByBox(t)}__drawPathByBox(t){const{x:i,y:s,width:n,height:r}=this.__layout.boxBounds;if(this.__.cornerRadius){const{cornerRadius:o}=this.__;t.roundRect(i,s,n,r,typeof o=="number"?[o]:o)}else t.rect(i,s,n,r)}export(t,i){return bn.export(this,t,i)}clone(){return $a.one(this.toJSON())}static one(t,i,s,n,r){return zr.get(t.tag||this.prototype.__tag,t,i,s,n,r)}static registerUI(){Kt()(this)}static registerData(t){Yt(t)(this.prototype)}static setEditConfig(t){}static setEditOuter(t){}static setEditInner(t){}destroy(){this.fill=this.stroke=null,super.destroy()}};y([Yt(mi)],C.prototype,"__",void 0);y([I0()],C.prototype,"zoomLayer",void 0);y([Zt("")],C.prototype,"id",void 0);y([Zt("")],C.prototype,"name",void 0);y([Zt("")],C.prototype,"className",void 0);y([kn("pass-through")],C.prototype,"blendMode",void 0);y([Em(1)],C.prototype,"opacity",void 0);y([Sm(!0)],C.prototype,"visible",void 0);y([Yd(!1)],C.prototype,"selected",void 0);y([Yd(!1)],C.prototype,"disabled",void 0);y([kn(!1)],C.prototype,"locked",void 0);y([Bm(0)],C.prototype,"zIndex",void 0);y([Pm(!1)],C.prototype,"mask",void 0);y([Tm(!1)],C.prototype,"eraser",void 0);y([Fs(0,!0)],C.prototype,"x",void 0);y([Fs(0,!0)],C.prototype,"y",void 0);y([et(100,!0)],C.prototype,"width",void 0);y([et(100,!0)],C.prototype,"height",void 0);y([Fd(1,!0)],C.prototype,"scaleX",void 0);y([Fd(1,!0)],C.prototype,"scaleY",void 0);y([Ch(0,!0)],C.prototype,"rotation",void 0);y([Ch(0,!0)],C.prototype,"skewX",void 0);y([Ch(0,!0)],C.prototype,"skewY",void 0);y([Fs(0,!0)],C.prototype,"offsetX",void 0);y([Fs(0,!0)],C.prototype,"offsetY",void 0);y([Fs(0,!0)],C.prototype,"scrollX",void 0);y([Fs(0,!0)],C.prototype,"scrollY",void 0);y([jr()],C.prototype,"origin",void 0);y([jr()],C.prototype,"around",void 0);y([Zt(!1)],C.prototype,"lazy",void 0);y([Rm(1)],C.prototype,"pixelRatio",void 0);y([Cm()],C.prototype,"path",void 0);y([ie()],C.prototype,"windingRule",void 0);y([ie(!0)],C.prototype,"closed",void 0);y([jr(!1)],C.prototype,"flow",void 0);y([et(0)],C.prototype,"padding",void 0);y([et(0)],C.prototype,"gap",void 0);y([et("top-left")],C.prototype,"flowAlign",void 0);y([et(!1)],C.prototype,"flowWrap",void 0);y([et("box")],C.prototype,"itemBox",void 0);y([et(!0)],C.prototype,"inFlow",void 0);y([et()],C.prototype,"autoWidth",void 0);y([et()],C.prototype,"autoHeight",void 0);y([et()],C.prototype,"lockRatio",void 0);y([et()],C.prototype,"autoBox",void 0);y([et()],C.prototype,"widthRange",void 0);y([et()],C.prototype,"heightRange",void 0);y([Zt(!1)],C.prototype,"draggable",void 0);y([Zt()],C.prototype,"dragBounds",void 0);y([Zt(!1)],C.prototype,"editable",void 0);y([ls(!0)],C.prototype,"hittable",void 0);y([ls("path")],C.prototype,"hitFill",void 0);y([Qe("path")],C.prototype,"hitStroke",void 0);y([ls(!1)],C.prototype,"hitBox",void 0);y([ls(!0)],C.prototype,"hitChildren",void 0);y([ls(!0)],C.prototype,"hitSelf",void 0);y([ls()],C.prototype,"hitRadius",void 0);y([km("")],C.prototype,"cursor",void 0);y([kn()],C.prototype,"fill",void 0);y([Qe()],C.prototype,"stroke",void 0);y([Qe("inside")],C.prototype,"strokeAlign",void 0);y([Qe(1)],C.prototype,"strokeWidth",void 0);y([Qe(!1)],C.prototype,"strokeWidthFixed",void 0);y([Qe("none")],C.prototype,"strokeCap",void 0);y([Qe("miter")],C.prototype,"strokeJoin",void 0);y([Qe()],C.prototype,"dashPattern",void 0);y([Qe()],C.prototype,"dashOffset",void 0);y([Qe(10)],C.prototype,"miterLimit",void 0);y([Kd("none")],C.prototype,"startArrow",void 0);y([Kd("none")],C.prototype,"endArrow",void 0);y([ie(0)],C.prototype,"cornerRadius",void 0);y([ie()],C.prototype,"cornerSmoothing",void 0);y([Mn()],C.prototype,"shadow",void 0);y([Mn()],C.prototype,"innerShadow",void 0);y([Mn()],C.prototype,"blur",void 0);y([Mn()],C.prototype,"backgroundBlur",void 0);y([Mn()],C.prototype,"grayscale",void 0);y([Zt()],C.prototype,"normalStyle",void 0);y([Zt()],C.prototype,"hoverStyle",void 0);y([Zt()],C.prototype,"pressStyle",void 0);y([Zt()],C.prototype,"focusStyle",void 0);y([Zt()],C.prototype,"selectedStyle",void 0);y([Zt()],C.prototype,"disabledStyle",void 0);y([Zt({})],C.prototype,"data",void 0);y([We(rs.prototype.reset)],C.prototype,"reset",null);C=$a=y([Oe(X0),Oe(q0),Gr()],C);let Ze=class extends C{get __tag(){return"Group"}get isBranch(){return!0}constructor(t){super(t)}reset(t){this.__setBranch(),super.reset(t)}__setBranch(){this.children||(this.children=[])}set(t){if(t.children){const{children:i}=t;delete t.children,this.children?this.clear():this.__setBranch(),super.set(t);let s;i.forEach(n=>{s=n.__?n:zr.get(n.tag,n),this.add(s)}),t.children=i}else super.set(t)}toJSON(t){const i=super.toJSON(t);return i.children=this.children.map(s=>s.toJSON(t)),i}pick(t,i){}addAt(t,i){this.add(t,i)}addAfter(t,i){this.add(t,this.children.indexOf(i)+1)}addBefore(t,i){this.add(t,this.children.indexOf(i))}add(t,i){}addMany(...t){}remove(t,i){}removeAll(t){}clear(){}};y([Yt(Yr)],Ze.prototype,"__",void 0);Ze=y([Oe(Ia),Kt()],Ze);var br;const Go=ft.get("Leafer");let pi=br=class extends Ze{get __tag(){return"Leafer"}get isApp(){return!1}get app(){return this.parent||this}get isLeafer(){return!0}get imageReady(){return this.viewReady&&oe.isComplete}get layoutLocked(){return!this.layouter.running}get FPS(){return this.renderer?this.renderer.FPS:60}get cursorPoint(){return this.interaction&&this.interaction.hoverData||{x:this.width/2,y:this.height/2}}get clientBounds(){return this.canvas&&this.canvas.getClientBounds()}constructor(t,i){super(i),this.config={type:"design",start:!0,hittable:!0,smooth:!0,lazySpeard:100,zoom:{min:.01,max:256},move:{holdSpaceKey:!0,holdMiddleKey:!0,autoDistance:2}},this.leafs=0,this.__eventIds=[],this.__controllers=[],this.__readyWait=[],this.__viewReadyWait=[],this.__viewCompletedWait=[],this.__nextRenderWait=[],this.userConfig=t,t&&(t.view||t.width)&&this.init(t),br.list.add(this)}init(t,i){if(this.canvas)return;this.__setLeafer(this),t&&Ut.assign(this.config,t);let s;const{config:n}=this;this.initType(n.type);const r=this.canvas=It.canvas(n);this.__controllers.push(this.renderer=It.renderer(this,r,n),this.watcher=It.watcher(this,n),this.layouter=It.layouter(this,n)),this.isApp&&this.__setApp(),this.__checkAutoLayout(n),this.view=r.view,i?(this.__bindApp(i),s=i.running):(this.selector=It.selector(this),this.interaction=It.interaction(this,r,this.selector,n),this.interaction&&(this.__controllers.unshift(this.interaction),this.hitCanvasManager=It.hitCanvasManager()),this.canvasManager=new Bd,s=n.start),this.hittable=n.hittable,this.fill=n.fill,this.canvasManager.add(r),this.__listenEvents(),s&&(this.__startTimer=setTimeout(this.start.bind(this))),Ji.run(this.__initWait),this.onInit()}onInit(){}initType(t){}set(t){this.waitInit(()=>{super.set(t)})}start(){clearTimeout(this.__startTimer),!this.running&&this.canvas&&(this.ready?this.emitLeafer(kt.RESTART):this.emitLeafer(kt.START),this.__controllers.forEach(t=>t.start()),this.isApp||this.renderer.render(),this.running=!0)}stop(){clearTimeout(this.__startTimer),this.running&&this.canvas&&(this.__controllers.forEach(t=>t.stop()),this.running=!1,this.emitLeafer(kt.STOP))}unlockLayout(){this.layouter.start(),this.updateLayout()}lockLayout(){this.updateLayout(),this.layouter.stop()}resize(t){const i=Ut.copyAttrs({},t,ci);Object.keys(i).forEach(s=>this[s]=i[s])}forceRender(t){this.renderer.addBlock(t?new Pt(t):this.canvas.bounds),this.viewReady&&this.renderer.update()}updateCursor(t){const i=this.interaction;i&&(t?i.setCursor(t):i.updateCursor())}updateLazyBounds(){this.lazyBounds=this.canvas.bounds.clone().spread(this.config.lazySpeard)}__doResize(t){const{canvas:i}=this;if(!i||i.isSameSize(t))return;const s=Ut.copyAttrs({},this.canvas,ci);i.resize(t),this.updateLazyBounds(),this.__onResize(new cs(t,s))}__onResize(t){this.emitEvent(t),Ut.copyAttrs(this.__,t,ci),(!t.width||!t.height)&&Go.warn("w = 0 or h = 0"),setTimeout(()=>{this.canvasManager&&this.canvasManager.clearRecycled()},0)}__setApp(){}__bindApp(t){this.selector=t.selector,this.interaction=t.interaction,this.canvasManager=t.canvasManager,this.hitCanvasManager=t.hitCanvasManager}__setLeafer(t){this.leafer=t,this.__level=1}__checkAutoLayout(t){(!t.width||!t.height)&&(this.autoLayout=new _g(t),this.canvas.startAutoLayout(this.autoLayout,this.__onResize.bind(this)))}__setAttr(t,i){return this.canvas&&(ci.includes(t)?(i||Go.warn(t+" is 0"),this.__changeCanvasSize(t,i)):t==="fill"?this.__changeFill(i):t==="hittable"?this.parent||(this.canvas.hittable=i):t==="zIndex"&&(this.canvas.zIndex=i,setTimeout(()=>this.parent&&this.parent.__updateSortChildren()))),super.__setAttr(t,i)}__getAttr(t){return this.canvas&&ci.includes(t)?this.canvas[t]:super.__getAttr(t)}__changeCanvasSize(t,i){const s=Ut.copyAttrs({},this.canvas,ci);s[t]=this.config[t]=i,i&&this.canvas.stopAutoLayout(),this.__doResize(s)}__changeFill(t){this.config.fill=t,this.canvas.allowBackgroundColor?this.canvas.backgroundColor=t:this.forceRender()}__onCreated(){this.created=!0}__onReady(){this.ready||(this.ready=!0,this.emitLeafer(kt.BEFORE_READY),this.emitLeafer(kt.READY),this.emitLeafer(kt.AFTER_READY),Ji.run(this.__readyWait))}__onViewReady(){this.viewReady||(this.viewReady=!0,this.emitLeafer(kt.VIEW_READY),Ji.run(this.__viewReadyWait))}__onNextRender(){if(this.viewReady){Ji.run(this.__nextRenderWait);const{imageReady:t}=this;t&&!this.viewCompleted&&this.__checkViewCompleted(),t||(this.viewCompleted=!1)}}__checkViewCompleted(t=!0){this.nextRender(()=>{this.imageReady&&(t&&this.emitLeafer(kt.VIEW_COMPLETED),Ji.run(this.__viewCompletedWait),this.viewCompleted=!0)})}__onWatchData(){this.watcher.childrenChanged&&this.interaction&&this.nextRender(()=>this.interaction.updateCursor())}waitInit(t,i){i&&(t=t.bind(i)),this.__initWait||(this.__initWait=[]),this.canvas?t():this.__initWait.push(t)}waitReady(t,i){i&&(t=t.bind(i)),this.ready?t():this.__readyWait.push(t)}waitViewReady(t,i){i&&(t=t.bind(i)),this.viewReady?t():this.__viewReadyWait.push(t)}waitViewCompleted(t,i){i&&(t=t.bind(i)),this.__viewCompletedWait.push(t),this.viewCompleted?this.__checkViewCompleted(!1):this.running||this.start()}nextRender(t,i,s){i&&(t=t.bind(i));const n=this.__nextRenderWait;if(s){for(let r=0;r<n.length;r++)if(n[r]===t){n.splice(r,1);break}}else n.push(t)}zoom(t,i,s){}getValidMove(t,i){return{x:t,y:i}}getValidScale(t){return t}getWorldPointByClient(t,i){return this.interaction&&this.interaction.getLocal(t,i)}__checkUpdateLayout(){this.__layout.update()}emitLeafer(t){this.emitEvent(new kt(t,this))}__listenEvents(){const t=Le.start("FirstCreate "+this.innerName);this.once(kt.START,()=>Le.end(t)),this.once(gt.START,()=>this.updateLazyBounds()),this.once(gt.END,()=>this.__onReady()),this.once(bt.START,()=>this.__onCreated()),this.once(bt.END,()=>this.__onViewReady()),this.__eventIds.push(this.on_(Oi.DATA,this.__onWatchData,this),this.on_(bt.NEXT,this.__onNextRender,this),this.on_(gt.CHECK_UPDATE,this.__checkUpdateLayout,this))}__removeListenEvents(){this.off_(this.__eventIds),this.__eventIds.length=0}destroy(t){const i=()=>{if(!this.destroyed){br.list.remove(this);try{this.stop(),this.emitEvent(new kt(kt.END,this)),this.__removeListenEvents(),this.__controllers.forEach(s=>{this.parent&&s===this.interaction||s.destroy()}),this.__controllers.length=0,this.parent||(this.selector&&this.selector.destroy(),this.hitCanvasManager&&this.hitCanvasManager.destroy(),this.canvasManager.destroy()),this.canvas.destroy(),this.config.view=this.view=null,this.userConfig&&(this.userConfig.view=null),super.destroy(),setTimeout(()=>{oe.clearRecycled()},100)}catch(s){Go.error(s)}}};t?i():setTimeout(i)}};pi.list=new Lt;y([Yt($0)],pi.prototype,"__",void 0);y([et()],pi.prototype,"pixelRatio",void 0);pi=br=y([Kt()],pi);let as=class extends C{get __tag(){return"Rect"}constructor(t){super(t)}};y([Yt(Sh)],as.prototype,"__",void 0);as=y([Oe(Z0),Gr(),Kt()],as);const us=as.prototype,J0=Ze.prototype,Vo={},{copy:Q0,add:tw,includes:ew}=F;let Ft=class extends Ze{get __tag(){return"Box"}get isBranchLeaf(){return!0}constructor(t){super(t),this.__layout.renderChanged||this.__layout.renderChange()}__updateStrokeSpread(){return 0}__updateRectRenderSpread(){return 0}__updateRenderSpread(){return this.__updateRectRenderSpread()||-1}__updateRectBoxBounds(){}__updateBoxBounds(){const t=this.__;if(this.children.length){if(t.__autoSide){if(this.leafer&&this.leafer.ready&&this.leafer.layouter.addExtra(this),super.__updateBoxBounds(),!t.__autoSize){const i=this.__layout.boxBounds;t.__autoWidth||(i.height+=i.y,i.width=t.width,i.x=i.y=0),t.__autoHeight||(i.width+=i.x,i.height=t.height,i.y=i.x=0)}}else this.__updateRectBoxBounds();t.flow&&this.__updateContentBounds()}else this.__updateRectBoxBounds()}__updateStrokeBounds(){}__updateRenderBounds(){let t;const{renderBounds:i}=this.__layout;this.children.length?(super.__updateRenderBounds(),Q0(Vo,i),this.__updateRectRenderBounds(),t=!ew(i,Vo)||void 0):this.__updateRectRenderBounds(),this.isOverflow!==t&&(this.isOverflow=t),t&&!(this.__.__drawAfterFill=this.__.overflow==="hide")&&tw(i,Vo)}__updateRectRenderBounds(){}__updateRectChange(){}__updateChange(){super.__updateChange(),this.__updateRectChange()}__renderRect(t,i){}__renderGroup(t,i){}__render(t,i){this.__.__drawAfterFill?this.__renderRect(t,i):(this.__renderRect(t,i),this.children.length&&this.__renderGroup(t,i))}__drawAfterFill(t,i){const{length:s}=this.children;this.isOverflow?(t.save(),t.clip(),s&&this.__renderGroup(t,i),t.restore()):s&&this.__renderGroup(t,i),this.__.stroke&&s&&(t.setWorld(this.__nowWorld),this.__drawRenderPath(t))}};y([Yt(Eh)],Ft.prototype,"__",void 0);y([Zt(!1)],Ft.prototype,"resizeChildren",void 0);y([Nd("show")],Ft.prototype,"overflow",void 0);y([We(us.__updateStrokeSpread)],Ft.prototype,"__updateStrokeSpread",null);y([We(us.__updateRenderSpread)],Ft.prototype,"__updateRectRenderSpread",null);y([We(us.__updateBoxBounds)],Ft.prototype,"__updateRectBoxBounds",null);y([We(us.__updateStrokeBounds)],Ft.prototype,"__updateStrokeBounds",null);y([We(us.__updateRenderBounds)],Ft.prototype,"__updateRectRenderBounds",null);y([We(us.__updateChange)],Ft.prototype,"__updateRectChange",null);y([We(us.__render)],Ft.prototype,"__renderRect",null);y([We(J0.__render)],Ft.prototype,"__renderGroup",null);Ft=y([Gr(),Kt()],Ft);let vn=class extends Ft{get __tag(){return"Frame"}get isFrame(){return!0}constructor(t){super(t)}};y([Yt(W0)],vn.prototype,"__",void 0);y([kn("#FFFFFF")],vn.prototype,"fill",void 0);y([Nd("hide")],vn.prototype,"overflow",void 0);vn=y([Kt()],vn);const{moveTo:xc,closePath:bc,ellipse:xs}=hs;let Ls=class extends C{get __tag(){return"Ellipse"}constructor(t){super(t)}__updatePath(){const{width:t,height:i,innerRadius:s,startAngle:n,endAngle:r}=this.__,o=t/2,a=i/2,h=this.__.path=[];s?(n||r?(s<1&&xs(h,o,a,o*s,a*s,0,n,r,!1),xs(h,o,a,o,a,0,r,n,!0),s<1&&bc(h)):(s<1&&(xs(h,o,a,o*s,a*s),xc(h,t,a)),xs(h,o,a,o,a,0,360,0,!0)),I.ellipseToCurve&&(this.__.path=this.getPath(!0))):n||r?(xc(h,o,a),xs(h,o,a,o,a,0,n,r,!1),bc(h)):xs(h,o,a,o,a)}};y([Yt(H0)],Ls.prototype,"__",void 0);y([ie(0)],Ls.prototype,"innerRadius",void 0);y([ie(0)],Ls.prototype,"startAngle",void 0);y([ie(0)],Ls.prototype,"endAngle",void 0);Ls=y([Kt()],Ls);const{moveTo:iw,lineTo:sw,drawPoints:vc}=hs,{rotate:nw,getAngle:rw,getDistance:ow,defaultPoint:Rc}=Y,{toBounds:aw}=Rh;let Je=class extends C{get __tag(){return"Line"}get toPoint(){const{width:t,rotation:i}=this.__,s=Cd();return t&&(s.x=t),i&&nw(s,i),s}set toPoint(t){this.width=ow(Rc,t),this.rotation=rw(Rc,t),this.height&&(this.height=0)}constructor(t){super(t)}__updatePath(){const t=this.__,i=t.path=[];t.points?vc(i,t.points,!1,t.closed):(iw(i,0,0),sw(i,this.width,0))}__updateRenderPath(){const t=this.__;!this.pathInputed&&t.points&&t.curve?(vc(t.__pathForRender=[],t.points,t.curve,t.closed),t.__useArrow&&Vd.addArrows(this,!1)):super.__updateRenderPath()}__updateBoxBounds(){this.points?aw(this.__.__pathForRender,this.__layout.boxBounds):super.__updateBoxBounds()}};y([Yt(F0)],Je.prototype,"__",void 0);y([Ur("center")],Je.prototype,"strokeAlign",void 0);y([et(0)],Je.prototype,"height",void 0);y([ie()],Je.prototype,"points",void 0);y([ie(0)],Je.prototype,"curve",void 0);y([ie(!1)],Je.prototype,"closed",void 0);Je=y([Kt()],Je);const{sin:hw,cos:lw,PI:Cc}=Math,{moveTo:cw,lineTo:uw,closePath:dw,drawPoints:fw}=hs,Xd=Je.prototype;let gi=class extends C{get __tag(){return"Polygon"}constructor(t){super(t)}__updatePath(){const t=this.__.path=[];if(this.__.points)fw(t,this.__.points,!1,!0);else{const{width:i,height:s,sides:n}=this.__,r=i/2,o=s/2;cw(t,r,0);for(let a=1;a<n;a++)uw(t,r+r*hw(a*2*Cc/n),o-o*lw(a*2*Cc/n))}dw(t)}__updateRenderPath(){}__updateBoxBounds(){}};y([Yt(N0)],gi.prototype,"__",void 0);y([ie(3)],gi.prototype,"sides",void 0);y([ie()],gi.prototype,"points",void 0);y([ie(0)],gi.prototype,"curve",void 0);y([We(Xd.__updateRenderPath)],gi.prototype,"__updateRenderPath",null);y([We(Xd.__updateBoxBounds)],gi.prototype,"__updateBoxBounds",null);gi=y([Gr(),Kt()],gi);const{sin:_w,cos:pw,PI:Ec}=Math,{moveTo:gw,lineTo:yw,closePath:mw}=hs;let Rn=class extends C{get __tag(){return"Star"}constructor(t){super(t)}__updatePath(){const{width:t,height:i,corners:s,innerRadius:n}=this.__,r=t/2,o=i/2,a=this.__.path=[];gw(a,r,0);for(let h=1;h<s*2;h++)yw(a,r+(h%2===0?r:r*n)*_w(h*Ec/s),o-(h%2===0?o:o*n)*pw(h*Ec/s));mw(a)}};y([Yt(z0)],Rn.prototype,"__",void 0);y([ie(5)],Rn.prototype,"corners",void 0);y([ie(.382)],Rn.prototype,"innerRadius",void 0);Rn=y([Kt()],Rn);let Br=class extends as{get __tag(){return"Image"}get ready(){return this.image?this.image.ready:!1}constructor(t){super(t),this.on(Wi.LOADED,i=>{i.attrName==="fill"&&i.attrValue.url===this.url&&(this.image=i.image)})}destroy(){this.image=null,super.destroy()}};y([Yt(Y0)],Br.prototype,"__",void 0);y([et("")],Br.prototype,"url",void 0);Br=y([Kt()],Br);let Ai=class extends as{get __tag(){return"Canvas"}constructor(t){super(t),this.canvas=It.canvas(this.__),this.context=this.canvas.context,this.__.__isCanvas=this.__.__drawAfterFill=!0}draw(t,i,s,n){t.__layout.update();const r=new Li(t.__world).invert(),o=new Li;i&&o.translate(i.x,i.y),s&&(typeof s=="number"?o.scale(s):o.scale(s.x,s.y)),n&&o.rotate(n),r.multiplyParent(o),t.__render(this.canvas,{matrix:r.withScale()}),this.paint()}paint(){this.forceUpdate("fill")}__drawAfterFill(t,i){const s=this.canvas.view,{width:n,height:r}=this;this.__.cornerRadius||this.pathInputed?(t.save(),t.clip(),t.drawImage(this.canvas.view,0,0,s.width,s.height,0,0,n,r),t.restore()):t.drawImage(this.canvas.view,0,0,s.width,s.height,0,0,n,r)}__updateSize(){const{canvas:t}=this;if(t){const{smooth:i}=this.__;t.smooth!==i&&(t.smooth=i),t.resize(this.__)}}destroy(){this.canvas&&(this.canvas.destroy(),this.canvas=null,this.context=null),super.destroy()}};y([Yt(K0)],Ai.prototype,"__",void 0);y([Ln(100)],Ai.prototype,"width",void 0);y([Ln(100)],Ai.prototype,"height",void 0);y([Ln(I.devicePixelRatio)],Ai.prototype,"pixelRatio",void 0);y([Ln(!0)],Ai.prototype,"smooth",void 0);y([Ln()],Ai.prototype,"contextSettings",void 0);Ai=y([Kt()],Ai);const{copyAndSpread:ww,includes:xw,isSame:bw,spread:vw,setList:Rw}=F;let vt=class extends C{get __tag(){return"Text"}get editInner(){return"TextEditor"}get textDrawData(){return this.__layout.update(),this.__.__textDrawData}constructor(t){super(t)}__drawHitPath(t){const{__lineHeight:i,__baseLine:s,__textDrawData:n}=this.__;t.beginPath(),this.__.__letterSpacing<0?this.__drawPathByData(t):n.rows.forEach(r=>t.rect(r.x,r.y-s,r.width,i))}__drawPathByData(t,i){const{x:s,y:n,width:r,height:o}=this.__layout.boxBounds;t.rect(s,n,r,o)}__drawRenderPath(t){t.font=this.__.__font}__updateTextDrawData(){const t=this.__;t.__textDrawData=Gd.getDrawData(t.text,this.__)}__updateBoxBounds(){const t=this.__,i=this.__layout,{lineHeight:s,letterSpacing:n,fontFamily:r,fontSize:o,fontWeight:a,italic:h,textCase:l,textOverflow:c,padding:_}=t,f=t.__autoWidth,u=t.__autoHeight;t.__lineHeight=mc.number(s,o),t.__letterSpacing=mc.number(n,o),t.__padding=_?Ee.fourNumber(_):void 0,t.__baseLine=t.__lineHeight-(t.__lineHeight-o*.7)/2,t.__font=`${h?"italic ":""}${l==="small-caps"?"small-caps ":""}${a!=="normal"?a+" ":""}${o}px ${r}`,t.__clipText=c!=="show"&&!t.__autoSize,this.__updateTextDrawData();const{bounds:g}=t.__textDrawData,m=i.boxBounds;if(t.__lineHeight<o&&vw(g,o/2),f||u){if(m.x=f?g.x:0,m.y=u?g.y:0,m.width=f?g.width:t.width,m.height=u?g.height:t.height,_){const[b,x,v,k]=t.__padding;f&&(m.x-=k,m.width+=x+k),u&&(m.y-=b,m.height+=v+b)}this.__updateNaturalSize()}else super.__updateBoxBounds();h&&(m.width+=o*.16);const B=xw(m,g)?m:g;bw(B,i.contentBounds)?t.__textBoxBounds=B:(i.contentBounds=B,i.renderChanged=!0,Rw(t.__textBoxBounds={},[m,g]))}__updateRenderSpread(){let t=super.__updateRenderSpread();return t||(t=this.__layout.boxBounds===this.__layout.contentBounds?0:1),t}__updateRenderBounds(){ww(this.__layout.renderBounds,this.__.__textBoxBounds,this.__layout.renderSpread)}};y([Yt(V0)],vt.prototype,"__",void 0);y([et(0)],vt.prototype,"width",void 0);y([et(0)],vt.prototype,"height",void 0);y([Zt(!1)],vt.prototype,"resizeFontSize",void 0);y([kn("#000000")],vt.prototype,"fill",void 0);y([Ur("outside")],vt.prototype,"strokeAlign",void 0);y([ls("all")],vt.prototype,"hitFill",void 0);y([et("")],vt.prototype,"text",void 0);y([et("L")],vt.prototype,"fontFamily",void 0);y([et(12)],vt.prototype,"fontSize",void 0);y([et("normal")],vt.prototype,"fontWeight",void 0);y([et(!1)],vt.prototype,"italic",void 0);y([et("none")],vt.prototype,"textCase",void 0);y([et("none")],vt.prototype,"textDecoration",void 0);y([et(0)],vt.prototype,"letterSpacing",void 0);y([et({type:"percent",value:1.5})],vt.prototype,"lineHeight",void 0);y([et(0)],vt.prototype,"paraIndent",void 0);y([et(0)],vt.prototype,"paraSpacing",void 0);y([et("left")],vt.prototype,"textAlign",void 0);y([et("top")],vt.prototype,"verticalAlign",void 0);y([et("normal")],vt.prototype,"textWrap",void 0);y([et("show")],vt.prototype,"textOverflow",void 0);vt=y([Kt()],vt);let As=class extends C{get __tag(){return"Path"}constructor(t){super(t),this.__.__pathInputed=2}};y([Yt(j0)],As.prototype,"__",void 0);y([Ur("center")],As.prototype,"strokeAlign",void 0);As=y([Kt()],As);let Pr=class extends Ze{get __tag(){return"Pen"}constructor(t){super(t)}setStyle(t){const i=this.pathElement=new As(t);return this.pathStyle=t,this.__path=i.path||(i.path=[]),this.add(i),this}beginPath(){return this.__path.length=0,this.paint(),this}moveTo(t,i){return this}lineTo(t,i){return this}bezierCurveTo(t,i,s,n,r,o){return this}quadraticCurveTo(t,i,s,n){return this}closePath(){return this}rect(t,i,s,n){return this}roundRect(t,i,s,n,r){return this}ellipse(t,i,s,n,r,o,a,h){return this}arc(t,i,s,n,r,o){return this}arcTo(t,i,s,n,r){return this}drawEllipse(t,i,s,n,r,o,a,h){return this}drawArc(t,i,s,n,r,o){return this}drawPoints(t,i,s){return this}clearPath(){return this}paint(){this.pathElement.forceUpdate("path")}};y([Yt(U0)],Pr.prototype,"__",void 0);y([Cw()],Pr.prototype,"path",void 0);Pr=y([Oe(vh,["set","beginPath","path"]),Kt()],Pr);function Cw(){return(e,t)=>{Tn(e,t,{get(){return this.__path}})}}function wi(e,t,i,s){var n=arguments.length,r=n<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,i):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r}let Sc=class extends pi{get __tag(){return"App"}get isApp(){return!0}constructor(t,i){super(t,i)}init(t,i){if(super.init(t,i),t){const{ground:s,tree:n,sky:r,editor:o}=t;s&&(this.ground=this.addLeafer(s)),(n||o)&&(this.tree=this.addLeafer(n)),(r||o)&&(this.sky=this.addLeafer(r||{type:"draw",usePartRender:!1})),o&&(this.editor=It.editor(o),this.sky.add(this.editor))}}__setApp(){const{canvas:t}=this,{realCanvas:i,view:s}=this.config;i||s===this.canvas.view||!t.parentView?this.realCanvas=!0:t.unrealCanvas(),this.leafer=this,this.watcher.disable(),this.layouter.disable(),this.__eventIds.push(this.on_(ui.CHANGE,this.__onPropertyChange,this))}start(){super.start(),this.children.forEach(t=>t.start())}stop(){this.children.forEach(t=>t.stop()),super.stop()}unlockLayout(){super.unlockLayout(),this.children.forEach(t=>t.unlockLayout())}lockLayout(){super.lockLayout(),this.children.forEach(t=>t.lockLayout())}forceRender(t){this.children.forEach(i=>i.forceRender(t))}addLeafer(t){const i=new pi(t);return this.add(i),i}add(t,i){if(!t.view){if(this.realCanvas&&!this.canvas.bounds){setTimeout(()=>this.add(t,i),10);return}t.init(this.__getChildConfig(t.userConfig),this)}super.add(t,i),i!==void 0&&(t.canvas.childIndex=i),this.__listenChildEvents(t)}__onPropertyChange(){ft.showHitView&&this.children.forEach(t=>t.forceUpdate("surface"))}__onCreated(){this.created=this.children.every(t=>t.created)}__onReady(){this.children.every(t=>t.ready)&&super.__onReady()}__onViewReady(){this.children.every(t=>t.viewReady)&&super.__onViewReady()}__onChildRenderEnd(t){this.renderer.addBlock(t.renderBounds),this.viewReady&&this.renderer.update()}__render(t,i){if(i.matrix){const{a:s,b:n,c:r,d:o,e:a,f:h}=i.matrix;t.setTransform(s,n,r,o,a,h)}this.children.forEach(s=>t.copyWorld(s.canvas))}__onResize(t){this.children.forEach(i=>i.resize(t)),super.__onResize(t)}__checkUpdateLayout(){this.children.forEach(t=>t.__layout.update())}__getChildConfig(t){let i=Object.assign({},this.config);return i.hittable=i.realCanvas=void 0,t&&Ut.assign(i,t),this.autoLayout&&Ut.copyAttrs(i,this,ci),i.view=this.realCanvas?void 0:this.view,i.fill=void 0,i}__listenChildEvents(t){t.once(gt.END,()=>this.__onReady()),t.once(bt.START,()=>this.__onCreated()),t.once(bt.END,()=>this.__onViewReady()),this.realCanvas&&this.__eventIds.push(t.on_(bt.END,this.__onChildRenderEnd,this))}};Sc=wi([Kt()],Sc);const ar={},dn={isHoldSpaceKey(){return dn.isHold("Space")},isHold(e){return ar[e]},setDownCode(e){ar[e]||(ar[e]=!0)},setUpCode(e){ar[e]=!1}},ke={LEFT:1,RIGHT:2,MIDDLE:4,defaultLeft(e){e.buttons||(e.buttons=1)},left(e){return e.buttons===1},right(e){return e.buttons===2},middle(e){return e.buttons===4}};class Kr extends ei{get spaceKey(){return dn.isHoldSpaceKey()}get left(){return ke.left(this)}get right(){return ke.right(this)}get middle(){return ke.middle(this)}constructor(t){super(t.type),this.bubbles=!0,Object.assign(this,t)}getPage(){return this.current.getPagePoint(this)}getInner(t){return t||(t=this.current),t.getInnerPoint(this)}getLocal(t){return t||(t=this.current),t.getLocalPoint(this)}static changeName(t,i){Ms.changeName(t,i)}}let z=class extends Kr{};z.POINTER="pointer";z.BEFORE_DOWN="pointer.before_down";z.BEFORE_MOVE="pointer.before_move";z.BEFORE_UP="pointer.before_up";z.DOWN="pointer.down";z.MOVE="pointer.move";z.UP="pointer.up";z.OVER="pointer.over";z.OUT="pointer.out";z.ENTER="pointer.enter";z.LEAVE="pointer.leave";z.TAP="tap";z.DOUBLE_TAP="double_tap";z.CLICK="click";z.DOUBLE_CLICK="double_click";z.LONG_PRESS="long_press";z.LONG_TAP="long_tap";z.MENU="pointer.menu";z.MENU_TAP="pointer.menu_tap";z=wi([$i()],z);const qs={};let ut=class extends z{static setList(t){this.list=t instanceof Lt?t:new Lt(t)}static setData(t){this.data=t}static getValidMove(t,i,s){const{draggable:n,dragBounds:r,x:o,y:a}=t,h=t.getLocalPoint(s,null,!0);return h.x+=i.x-o,h.y+=i.y-a,r&&this.getMoveInDragBounds(t.__local,r==="parent"?t.parent.boxBounds:r,h,!0),n==="x"&&(h.y=0),n==="y"&&(h.x=0),h}static getMoveInDragBounds(t,i,s,n){const r=t.x+s.x,o=t.y+s.y,a=r+t.width,h=o+t.height,l=i.x+i.width,c=i.y+i.height;return n||(s=Object.assign({},s)),F.includes(t,i)?(r>i.x?s.x+=i.x-r:a<l&&(s.x+=l-a),o>i.y?s.y+=i.y-o:h<c&&(s.y+=c-h)):(r<i.x?s.x+=i.x-r:a>l&&(s.x+=l-a),o<i.y?s.y+=i.y-o:h>c&&(s.y+=c-h)),s}getPageMove(t){return this.assignMove(t),this.current.getPagePoint(qs,null,!0)}getInnerMove(t,i){return t||(t=this.current),this.assignMove(i),t.getInnerPoint(qs,null,!0)}getLocalMove(t,i){return t||(t=this.current),this.assignMove(i),t.getLocalPoint(qs,null,!0)}getPageTotal(){return this.getPageMove(!0)}getInnerTotal(t){return this.getInnerMove(t,!0)}getLocalTotal(t){return this.getLocalMove(t,!0)}getPageBounds(){const t=this.getPageTotal(),i=this.getPage(),s={};return F.set(s,i.x-t.x,i.y-t.y,t.x,t.y),F.unsign(s),s}assignMove(t){qs.x=t?this.totalX:this.moveX,qs.y=t?this.totalY:this.moveY}};ut.BEFORE_DRAG="drag.before_drag";ut.START="drag.start";ut.DRAG="drag";ut.END="drag.end";ut.OVER="drag.over";ut.OUT="drag.out";ut.ENTER="drag.enter";ut.LEAVE="drag.leave";ut=wi([$i()],ut);let Cn=class extends z{static setList(t){ut.setList(t)}static setData(t){ut.setData(t)}};Cn.DROP="drop";Cn=wi([$i()],Cn);let ee=class extends ut{};ee.BEFORE_MOVE="move.before_move";ee.START="move.start";ee.MOVE="move";ee.END="move.end";ee=wi([$i()],ee);let qe=class extends Kr{};qe.BEFORE_ROTATE="rotate.before_rotate";qe.START="rotate.start";qe.ROTATE="rotate";qe.END="rotate.end";qe=wi([$i()],qe);let Ae=class extends ut{};Ae.SWIPE="swipe";Ae.LEFT="swipe.left";Ae.RIGHT="swipe.right";Ae.UP="swipe.up";Ae.DOWN="swipe.down";Ae=wi([$i()],Ae);let Ie=class extends Kr{};Ie.BEFORE_ZOOM="zoom.before_zoom";Ie.START="zoom.start";Ie.ZOOM="zoom";Ie.END="zoom.end";Ie=wi([$i()],Ie);let Mi=class extends Kr{};Mi.DOWN="key.down";Mi.HOLD="key.hold";Mi.UP="key.up";Mi=wi([$i()],Mi);function qd(e){e.isApp||e.__eventIds.push(e.on_(ee.BEFORE_MOVE,t=>{e.zoomLayer.move(e.getValidMove(t.moveX,t.moveY))}),e.on_(Ie.BEFORE_ZOOM,t=>{const{zoomLayer:i}=e,s=e.getValidScale(t.scale);s!==1&&(Y.scaleOf(i,t,s),i.scale=i.__.scaleX*s)}))}function Ew(e){qd(e),e.config.move.scroll="limit",e.config.zoom.min=1}const Bc=ft.get("LeaferTypeCreator"),Zd={list:{},register(e,t){Yo[e]?Bc.repeat(e):Yo[e]=t},run(e,t){const i=Yo[e];i?i(t):Bc.error("no",e)}},{list:Yo,register:Xr}=Zd;Xr("draw",()=>{});Xr("custom",()=>{});Xr("design",qd);Xr("document",Ew);const Bh=pi.prototype;Bh.initType=function(e){Zd.run(e,this)};Bh.getValidMove=function(e,t){const{scroll:i,disabled:s}=this.app.config.move;if(i&&(Math.abs(e)>Math.abs(t)?t=0:e=0,i==="limit")){const{x:n,y:r,width:o,height:a}=new Pt(this.__world).addPoint(this.zoomLayer),h=n+o-this.width,l=r+a-this.height;n>=0&&h<=0?e=0:e>0?n+e>0&&(e=-n):e<0&&h+e<0&&(e=-h),r>=0&&l<=0?t=0:t>0?r+t>0&&(t=-r):t<0&&l+t<0&&(t=-l)}return{x:s?0:e,y:s?0:t}};Bh.getValidScale=function(e){const{scaleX:t}=this.zoomLayer.__,{min:i,max:s,disabled:n}=this.app.config.zoom,r=Math.abs(t*e);return r<i?e=i/t:r>s&&(e=s/t),n?1:e};class Sw{constructor(t){this.interaction=t}move(t){const{interaction:i}=this;if(!this.moveData){const{path:s}=i.selector.getByPoint(t,i.hitRadius);t.path=s,this.moveData=Object.assign(Object.assign({},t),{moveX:0,moveY:0}),i.cancelHover(),i.emit(ee.START,this.moveData)}t.path=this.moveData.path,i.emit(ee.BEFORE_MOVE,t),i.emit(ee.MOVE,t),this.transformEndWait()}zoom(t){const{interaction:i}=this;if(!this.zoomData){const{path:s}=i.selector.getByPoint(t,i.hitRadius);t.path=s,this.zoomData=Object.assign(Object.assign({},t),{scale:1}),i.cancelHover(),i.emit(Ie.START,this.zoomData)}t.path=this.zoomData.path,i.emit(Ie.BEFORE_ZOOM,t),i.emit(Ie.ZOOM,t),this.transformEndWait()}rotate(t){const{interaction:i}=this;if(!this.rotateData){const{path:s}=i.selector.getByPoint(t,i.hitRadius);t.path=s,this.rotateData=Object.assign(Object.assign({},t),{rotation:0}),i.cancelHover(),i.emit(qe.START,this.rotateData)}t.path=this.rotateData.path,i.emit(qe.BEFORE_ROTATE,t),i.emit(qe.ROTATE,t),this.transformEndWait()}transformEndWait(){clearTimeout(this.transformTimer),this.transformTimer=setTimeout(()=>{this.transformEnd()},this.interaction.config.pointer.transformTime)}transformEnd(){this.moveEnd(),this.zoomEnd(),this.rotateEnd()}moveEnd(){this.moveData&&(this.interaction.emit(ee.END,this.moveData),this.moveData=null)}zoomEnd(){this.zoomData&&(this.interaction.emit(Ie.END,this.zoomData),this.zoomData=null)}rotateEnd(){this.rotateData&&(this.interaction.emit(qe.END,this.rotateData),this.rotateData=null)}destroy(){this.zoomData=this.moveData=this.rotateData=null}}const $e={getMoveEventData(e,t,i){return Object.assign(Object.assign({},i),{x:e.x,y:e.y,moveX:t.x,moveY:t.y})},getRotateEventData(e,t,i){return Object.assign(Object.assign({},i),{x:e.x,y:e.y,rotation:t})},getZoomEventData(e,t,i){return Object.assign(Object.assign({},i),{x:e.x,y:e.y,scale:t})},getDragEventData(e,t,i){return Object.assign(Object.assign({},i),{x:i.x,y:i.y,moveX:i.x-t.x,moveY:i.y-t.y,totalX:i.x-e.x,totalY:i.y-e.y})},getDropEventData(e,t,i){return Object.assign(Object.assign({},e),{list:t,data:i})},getSwipeDirection(e){return e<-45&&e>-135?Ae.UP:e>45&&e<135?Ae.DOWN:e<=45&&e>=-45?Ae.RIGHT:Ae.LEFT},getSwipeEventData(e,t,i){return Object.assign(Object.assign({},i),{moveX:t.moveX,moveY:t.moveY,totalX:i.x-e.x,totalY:i.y-e.y,type:Bw.getSwipeDirection(Y.getAngle(e,i))})},getBase(e){const t=e.button===1?4:e.button;return{altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,buttons:e.buttons===void 0?1:e.buttons===0?t:e.buttons,origin:e}},pathHasEventType(e,t){const{list:i}=e;for(let s=0,n=i.length;s<n;s++)if(i[s].hasEvent(t))return!0;return!1},filterPathByEventType(e,t){const i=new Lt,{list:s}=e;for(let n=0,r=s.length;n<r;n++)s[n].hasEvent(t)&&i.add(s[n]);return i}},Bw=$e,Pc=new Lt,{getDragEventData:Ko,getDropEventData:Pw,getSwipeEventData:Tw}=$e;class kw{constructor(t){this.interaction=t}setDragData(t){this.animateWait&&this.dragEndReal(),this.downData=this.interaction.downData,this.dragData=Ko(t,t,t),this.canAnimate=this.canDragOut=!0}getList(){const{proxy:t}=this.interaction.selector;return this.dragging&&(!t||!t.list.length)&&(ut.list||this.dragableList)||Pc}checkDrag(t,i){const{interaction:s}=this;if(this.moving&&t.buttons<1){this.canAnimate=!1,s.pointerCancel();return}!this.moving&&i&&(this.moving=s.canMove(this.downData)||s.isHoldRightKey||s.isMobileDragEmpty)&&s.emit(ee.START,this.dragData),this.moving||this.dragStart(t,i),this.drag(t)}dragStart(t,i){this.dragging||(this.dragging=i&&ke.left(t),this.dragging&&(this.interaction.emit(ut.START,this.dragData),this.getDragableList(this.dragData.path),this.setDragStartPoints(this.realDragableList=this.getList())))}setDragStartPoints(t){this.dragStartPoints={},t.forEach(i=>this.dragStartPoints[i.innerId]={x:i.x,y:i.y})}getDragableList(t){let i;for(let s=0,n=t.length;s<n;s++)if(i=t.list[s],(i.__.draggable||i.__.editable)&&i.__.hitSelf&&!i.__.locked){this.dragableList=new Lt(i);break}}drag(t){const{interaction:i,dragData:s,downData:n}=this,{path:r,throughPath:o}=n;this.dragData=Ko(n,s,t),o&&(this.dragData.throughPath=o),this.dragData.path=r,this.moving?(i.emit(ee.BEFORE_MOVE,this.dragData),i.emit(ee.MOVE,this.dragData)):this.dragging&&(this.dragReal(),i.emit(ut.BEFORE_DRAG,this.dragData),i.emit(ut.DRAG,this.dragData))}dragReal(){const{running:t}=this.interaction,i=this.realDragableList;if(i.length&&t){const{totalX:s,totalY:n}=this.dragData;i.forEach(r=>r.draggable&&r.move(ut.getValidMove(r,this.dragStartPoints[r.innerId],{x:s,y:n})))}}dragOverOrOut(t){const{interaction:i}=this,{dragOverPath:s}=this,{path:n}=t;this.dragOverPath=n,s?n.indexAt(0)!==s.indexAt(0)&&(i.emit(ut.OUT,t,s),i.emit(ut.OVER,t,n)):i.emit(ut.OVER,t,n)}dragEnterOrLeave(t){const{interaction:i}=this,{dragEnterPath:s}=this,{path:n}=t;i.emit(ut.LEAVE,t,s,n),i.emit(ut.ENTER,t,n,s),this.dragEnterPath=n}dragEnd(t,i){if(!this.dragging&&!this.moving)return;const{moveX:s,moveY:n}=this.dragData;this.interaction.config.move.dragAnimate&&this.canAnimate&&this.moving&&(Math.abs(s)>1||Math.abs(n)>1)?(t=Object.assign({},t),i=(i||(t.pointerType==="touch"?2:1))*.9,Y.move(t,s*i,n*i),this.drag(t),this.animate(()=>{this.dragEnd(t,1)})):this.dragEndReal(t)}dragEndReal(t){const{interaction:i,downData:s,dragData:n}=this;t||(t=n);const{path:r,throughPath:o}=s,a=Ko(s,t,t);if(o&&(a.throughPath=o),a.path=r,this.moving&&(this.moving=!1,i.emit(ee.END,a)),this.dragging){const h=this.getList();this.dragging=!1,i.emit(ut.END,a),this.swipe(t,s,n,a),this.drop(t,h,this.dragEnterPath)}this.autoMoveCancel(),this.dragReset(),this.animate(null,"off")}animate(t,i){const s=t||this.animateWait;s&&this.interaction.target.nextRender(s,null,i),this.animateWait=t}swipe(t,i,s,n){const{interaction:r}=this;if(Y.getDistance(i,t)>r.config.pointer.swipeDistance){const o=Tw(i,s,n);this.interaction.emit(o.type,o)}}drop(t,i,s){const n=Pw(t,i,ut.data);n.path=s,this.interaction.emit(Cn.DROP,n),this.interaction.emit(ut.LEAVE,t,s)}dragReset(){ut.list=ut.data=this.dragableList=this.dragData=this.downData=this.dragOverPath=this.dragEnterPath=null}checkDragOut(t){const{interaction:i}=this;this.autoMoveCancel(),this.dragging&&!i.shrinkCanvasBounds.hitPoint(t)&&this.autoMoveOnDragOut(t)}autoMoveOnDragOut(t){const{interaction:i,downData:s,canDragOut:n}=this,{autoDistance:r,dragOut:o}=i.config.move;if(!o||!n||!r)return;const a=i.shrinkCanvasBounds,{x:h,y:l}=a,c=F.maxX(a),_=F.maxY(a),f=t.x<h?r:c<t.x?-r:0,u=t.y<l?r:_<t.y?-r:0;let g=0,m=0;this.autoMoveTimer=setInterval(()=>{g+=f,m+=u,Y.move(s,f,u),Y.move(this.dragData,f,u),i.move(Object.assign(Object.assign({},t),{moveX:f,moveY:u,totalX:g,totalY:m})),i.pointerMoveReal(t)},10)}autoMoveCancel(){this.autoMoveTimer&&(clearInterval(this.autoMoveTimer),this.autoMoveTimer=0)}destroy(){this.dragReset()}}const Ow=ft.get("emit");function Mw(e,t,i,s){if(!i&&!t.path)return;let n;t.type=e,i?t=Object.assign(Object.assign({},t),{path:i}):i=t.path,t.target=i.indexAt(0);try{for(let r=i.length-1;r>-1;r--){if(n=i.list[r],Wa(n,e,t,!0,s))return;n.isApp&&Tc(n,e,t,!0,s)}for(let r=0,o=i.length;r<o;r++)if(n=i.list[r],n.isApp&&Tc(n,e,t,!1,s),Wa(n,e,t,!1,s))return}catch(r){Ow.error(r)}}const Lw=["move","zoom","rotate","key"];function Tc(e,t,i,s,n){if(Lw.some(r=>t.startsWith(r))&&e.__.hitChildren&&!Jd(e,n)){let r;for(let o=0,a=e.children.length;o<a;o++)r=e.children[o],!i.path.has(r)&&r.__.hittable&&Wa(r,t,i,s,n)}}function Wa(e,t,i,s,n){if(e.destroyed)return!1;if(e.__.hitSelf&&!Jd(e,n)&&(qt.updateEventStyle&&qt.updateEventStyle(e,t),e.hasEvent(t,s))){i.phase=s?1:e===i.target?2:3;const r=Ms.get(t,i);if(e.emitEvent(r,s),r.isStop)return!0}return!1}function Jd(e,t){return t&&t.has(e)}const Aw={getData(e){const t=e[0],i=e[1],s=Y.getCenter(t.from,i.from),n=Y.getCenter(t.to,i.to),r={x:n.x-s.x,y:n.y-s.y},o=Y.getDistance(t.from,i.from),h=Y.getDistance(t.to,i.to)/o,l=Y.getRotation(t.from,i.from,t.to,i.to);return{move:r,scale:h,angle:l,center:n}}},Iw={wheel:{zoomSpeed:.5,moveSpeed:.5,rotateSpeed:.5,delta:{x:80/4,y:8},preventDefault:!0},pointer:{hitRadius:5,tapTime:120,longPressTime:800,transformTime:500,hover:!0,dragHover:!0,dragDistance:2,swipeDistance:20,preventDefaultMenu:!0},cursor:!0,keyEvent:!0},{pathHasEventType:Xo,getMoveEventData:Dw,getZoomEventData:$w,getRotateEventData:Ww}=$e;class Fw{get dragging(){return this.dragger.dragging}get moveMode(){return this.config.move.drag||this.isHoldSpaceKey||this.isHoldMiddleKey||this.isHoldRightKey&&this.dragger.moving||this.isDragEmpty}get isDragEmpty(){return this.config.move.dragEmpty&&this.isRootPath(this.hoverData)&&(!this.downData||this.isRootPath(this.downData))}get isMobileDragEmpty(){return this.config.move.dragEmpty&&!this.config.pointer.hover&&this.downData&&this.isTreePath(this.downData)}get isHoldMiddleKey(){return this.config.move.holdMiddleKey&&this.downData&&ke.middle(this.downData)}get isHoldRightKey(){return this.config.move.holdRightKey&&this.downData&&ke.right(this.downData)}get isHoldSpaceKey(){return this.config.move.holdSpaceKey&&dn.isHoldSpaceKey()}get hitRadius(){return this.config.pointer.hitRadius}constructor(t,i,s,n){this.config=Iw,this.tapCount=0,this.downKeyMap={},this.target=t,this.canvas=i,this.selector=s,this.defaultPath=new Lt(t),this.transformer=new Sw(this),this.dragger=new kw(this),n&&(this.config=Ut.default(n,this.config)),this.__listenEvents()}start(){this.running=!0}stop(){this.running=!1}receive(t){}pointerDown(t,i){t||(t=this.hoverData),t&&(ke.defaultLeft(t),this.updateDownData(t),this.checkPath(t,i),this.downTime=Date.now(),this.emit(z.BEFORE_DOWN,t),this.emit(z.DOWN,t),ke.left(t)&&(this.tapWait(),this.longPressWait(t)),this.waitMenuTap=ke.right(t),this.dragger.setDragData(t),this.isHoldRightKey||this.updateCursor(t))}pointerMove(t){if(t||(t=this.hoverData),!t)return;const{downData:i}=this;i&&ke.defaultLeft(t),(this.canvas.bounds.hitPoint(t)||i)&&(this.pointerMoveReal(t),i&&this.dragger.checkDragOut(t))}pointerMoveReal(t){const{dragHover:i,dragDistance:s}=this.config.pointer;if(this.emit(z.BEFORE_MOVE,t,this.defaultPath),this.downData){const n=Y.getDistance(this.downData,t)>s;n&&(this.waitTap&&this.pointerWaitCancel(),this.waitMenuTap=!1),this.dragger.checkDrag(t,n)}this.dragger.moving||(this.updateHoverData(t),this.checkPath(t),this.emit(z.MOVE,t),this.dragging&&!i||this.pointerHover(t),this.dragger.dragging&&(this.dragger.dragOverOrOut(t),this.dragger.dragEnterOrLeave(t))),this.updateCursor(this.downData||t)}pointerUp(t){const{downData:i}=this;if(t||(t=i),!i)return;ke.defaultLeft(t),this.findPath(t);const s=Object.assign(Object.assign({},t),{path:t.path.clone()});t.path.addList(i.path.list),this.checkPath(t),this.downData=null,this.emit(z.BEFORE_UP,t),this.emit(z.UP,t),this.touchLeave(t),t.isCancel||(this.tap(t),this.menuTap(t)),this.dragger.dragEnd(t),this.updateCursor(s)}pointerCancel(){const t=Object.assign({},this.dragger.dragData);t.isCancel=!0,this.pointerUp(t)}multiTouch(t,i){const{move:s,angle:n,scale:r,center:o}=Aw.getData(i);this.rotate(Ww(o,n,t)),this.zoom($w(o,r,t)),this.move(Dw(o,s,t))}menu(t){this.findPath(t),this.emit(z.MENU,t)}menuTap(t){this.waitMenuTap&&this.emit(z.MENU_TAP,t)}move(t){this.transformer.move(t)}zoom(t){this.transformer.zoom(t)}rotate(t){this.transformer.rotate(t)}transformEnd(){this.transformer.transformEnd()}keyDown(t){if(!this.config.keyEvent)return;const{code:i}=t;this.downKeyMap[i]||(this.downKeyMap[i]=!0,dn.setDownCode(i),this.emit(Mi.HOLD,t,this.defaultPath),this.moveMode&&(this.cancelHover(),this.updateCursor())),this.emit(Mi.DOWN,t,this.defaultPath)}keyUp(t){if(!this.config.keyEvent)return;const{code:i}=t;this.downKeyMap[i]=!1,dn.setUpCode(i),this.emit(Mi.UP,t,this.defaultPath),this.cursor==="grab"&&this.updateCursor()}pointerHover(t){this.config.pointer.hover&&(this.pointerOverOrOut(t),this.pointerEnterOrLeave(t))}pointerOverOrOut(t){const{path:i}=t,{overPath:s}=this;this.overPath=i,s?i.indexAt(0)!==s.indexAt(0)&&(this.emit(z.OUT,t,s),this.emit(z.OVER,t,i)):this.emit(z.OVER,t,i)}pointerEnterOrLeave(t){let{path:i}=t;this.downData&&!this.moveMode&&(i=i.clone(),this.downData.path.forEach(n=>i.add(n)));const{enterPath:s}=this;this.enterPath=i,this.emit(z.LEAVE,t,s,i),this.emit(z.ENTER,t,i,s)}touchLeave(t){t.pointerType==="touch"&&this.enterPath&&(this.emit(z.LEAVE,t),this.dragger.dragging&&this.emit(Cn.LEAVE,t))}tap(t){const{pointer:i}=this.config,s=this.longTap(t);if(!i.tapMore&&s||!this.waitTap)return;i.tapMore&&this.emitTap(t);const n=Date.now()-this.downTime,r=[z.DOUBLE_TAP,z.DOUBLE_CLICK].some(o=>Xo(t.path,o));n<i.tapTime+50&&r?(this.tapCount++,this.tapCount===2?(this.tapWaitCancel(),this.emitDoubleTap(t)):(clearTimeout(this.tapTimer),this.tapTimer=setTimeout(()=>{i.tapMore||(this.tapWaitCancel(),this.emitTap(t))},i.tapTime))):i.tapMore||(this.tapWaitCancel(),this.emitTap(t))}findPath(t,i){const{hitRadius:s,through:n}=this.config.pointer,{bottomList:r}=this,o=this.selector.getByPoint(t,s,Object.assign({bottomList:r,name:t.type},i||{through:n}));return o.throughPath&&(t.throughPath=o.throughPath),t.path=o.path,o.path}isRootPath(t){return t&&t.path.list[0].isLeafer}isTreePath(t){const i=this.target.app;return!i||!i.isApp?!1:i.editor&&!t.path.has(i.editor)&&t.path.has(i.tree)&&!t.target.syncEventer}checkPath(t,i){(i||this.canMove(t))&&(t.path=this.defaultPath)}canMove(t){return this.moveMode&&t&&t.path.list.every(i=>!i.isOutside)}isDrag(t){return this.dragger.getList().has(t)}isPress(t){return this.downData&&this.downData.path.has(t)}isHover(t){return this.enterPath&&this.enterPath.has(t)}isFocus(t){return this.focusData===t}cancelHover(){const{hoverData:t}=this;t&&(t.path=this.defaultPath,this.pointerHover(t))}updateDownData(t,i,s){const{downData:n}=this;!t&&n&&(t=n),t&&(this.findPath(t,i),s&&n&&t.path.addList(n.path.list),this.downData=t)}updateHoverData(t){t||(t=this.hoverData),t&&(this.findPath(t,{exclude:this.dragger.getList(),name:z.MOVE}),this.hoverData=t)}updateCursor(t){if(!this.config.cursor||!this.config.pointer.hover)return;if(t||(this.updateHoverData(),t=this.downData||this.hoverData),this.dragger.moving)return this.setCursor("grabbing");if(this.canMove(t))return this.setCursor(this.downData?"grabbing":"grab");if(!t)return;let i,s;const{path:n}=t;for(let r=0,o=n.length;r<o&&(i=n.list[r],s=i.syncEventer?i.syncEventer.cursor:i.cursor,!s);r++);this.setCursor(s)}setCursor(t){this.cursor=t}getLocal(t,i){const s=this.canvas.getClientBounds(i);return{x:t.clientX-s.x,y:t.clientY-s.y}}emitTap(t){this.emit(z.TAP,t),this.emit(z.CLICK,t)}emitDoubleTap(t){this.emit(z.DOUBLE_TAP,t),this.emit(z.DOUBLE_CLICK,t)}pointerWaitCancel(){this.tapWaitCancel(),this.longPressWaitCancel()}tapWait(){clearTimeout(this.tapTimer),this.waitTap=!0}tapWaitCancel(){clearTimeout(this.tapTimer),this.waitTap=!1,this.tapCount=0}longPressWait(t){clearTimeout(this.longPressTimer),this.longPressTimer=setTimeout(()=>{this.longPressed=!0,this.emit(z.LONG_PRESS,t)},this.config.pointer.longPressTime)}longTap(t){let i;return this.longPressed&&(this.emit(z.LONG_TAP,t),(Xo(t.path,z.LONG_TAP)||Xo(t.path,z.LONG_PRESS))&&(i=!0)),this.longPressWaitCancel(),i}longPressWaitCancel(){clearTimeout(this.longPressTimer),this.longPressed=!1}__onResize(){this.shrinkCanvasBounds=new Pt(this.canvas.bounds),this.shrinkCanvasBounds.spread(-2)}__listenEvents(){const{target:t}=this;this.__eventIds=[t.on_(cs.RESIZE,this.__onResize,this)],t.once(kt.READY,()=>this.__onResize())}__removeListenEvents(){this.target.off_(this.__eventIds),this.__eventIds.length=0}emit(t,i,s,n){this.running&&Mw(t,i,s,n)}destroy(){this.__eventIds.length&&(this.stop(),this.__removeListenEvents(),this.dragger.destroy(),this.transformer.destroy(),this.downData=this.overPath=this.enterPath=null)}}class Qd{static set(t,i){this.custom[t]=i}static get(t){return this.custom[t]}}Qd.custom={};class Hw extends Bd{constructor(){super(...arguments),this.maxTotal=1e3,this.pathList=new Lt,this.pixelList=new Lt}getPixelType(t,i){return this.__autoClear(),this.pixelList.add(t),It.hitCanvas(i)}getPathType(t){return this.__autoClear(),this.pathList.add(t),It.hitCanvas()}clearImageType(){this.__clearLeafList(this.pixelList)}clearPathType(){this.__clearLeafList(this.pathList)}__clearLeafList(t){t.length&&(t.forEach(i=>{i.__hitCanvas&&(i.__hitCanvas.destroy(),i.__hitCanvas=null)}),t.reset())}__autoClear(){this.pathList.length+this.pixelList.length>this.maxTotal&&this.clear()}clear(){this.clearPathType(),this.clearImageType()}}const{toInnerRadiusPointOf:Nw,copy:zw,setRadius:jw}=Y,Zs={},An=rs.prototype;An.__hitWorld=function(e){if(!this.__.hitSelf)return!1;this.__.hitRadius&&(zw(Zs,e),e=Zs,jw(e,this.__.hitRadius)),Nw(e,this.__world,Zs);const{width:t,height:i}=this.__world,s=t<10&&i<10;if(this.__.hitBox||s){if(F.hitRadiusPoint(this.__layout.boxBounds,Zs))return!0;if(s)return!1}return(this.__layout.hitCanvasChanged||!this.__hitCanvas)&&(this.__updateHitCanvas(),this.__layout.boundsChanged||(this.__layout.hitCanvasChanged=!1)),this.__hit(Zs)};An.__hitFill=function(e){var t;return(t=this.__hitCanvas)===null||t===void 0?void 0:t.hitFill(e,this.__.windingRule)};An.__hitStroke=function(e,t){var i;return(i=this.__hitCanvas)===null||i===void 0?void 0:i.hitStroke(e,t)};An.__hitPixel=function(e){var t;return(t=this.__hitCanvas)===null||t===void 0?void 0:t.hitPixel(e,this.__layout.renderBounds,this.__hitCanvas.hitScale)};An.__drawHitPath=function(e){e&&this.__drawRenderPath(e)};const Uw=new Li,tf=C.prototype;tf.__updateHitCanvas=function(){const e=this.__,{hitCanvasManager:t}=this.leafer,i=(e.__pixelFill||e.__isCanvas)&&e.hitFill==="pixel",s=e.__pixelStroke&&e.hitStroke==="pixel",n=i||s;this.__hitCanvas||(this.__hitCanvas=n?t.getPixelType(this,{contextSettings:{willReadFrequently:!0}}):t.getPathType(this));const r=this.__hitCanvas;if(n){const{renderBounds:o}=this.__layout,a=I.image.hitCanvasSize,h=r.hitScale=ct.set(0,0,a,a).getFitMatrix(o,.5).a,{x:l,y:c,width:_,height:f}=ct.set(o).scale(h);r.resize({width:_,height:f,pixelRatio:1}),r.clear(),oe.patternLocked=!0,this.__renderShape(r,{matrix:Uw.setWith(this.__world).scaleWith(1/h).invertWith().translate(-l,-c)},!i,!s),oe.patternLocked=!1,r.resetTransform(),e.__isHitPixel=!0}else e.__isHitPixel&&(e.__isHitPixel=!1);this.__drawHitPath(r),r.setStrokeOptions(e)};tf.__hit=function(e){I.name==="miniapp"&&this.__drawHitPath(this.__hitCanvas);const t=this.__;if(t.__isHitPixel&&this.__hitPixel(e))return!0;const{hitFill:i}=t,s=(t.fill||t.__isCanvas)&&(i==="path"||i==="pixel"&&!(t.__pixelFill||t.__isCanvas))||i==="all";if(s&&this.__hitFill(e))return!0;const{hitStroke:n,__strokeWidth:r}=t,o=t.stroke&&(n==="path"||n==="pixel"&&!t.__pixelStroke)||n==="all";if(!s&&!o)return!1;const a=e.radiusX*2;let h=a;if(o)switch(t.strokeAlign){case"inside":if(h+=r*2,!s&&this.__hitFill(e)&&this.__hitStroke(e,h))return!0;h=a;break;case"center":h+=r;break;case"outside":if(h+=r*2,!s){if(!this.__hitFill(e)&&this.__hitStroke(e,h))return!0;h=a}break}return h?this.__hitStroke(e,h):!1};const ef=new C,sf=as.prototype;sf.__updateHitCanvas=function(){this.stroke||this.cornerRadius||(this.fill||this.__.__isCanvas)&&this.hitFill==="pixel"||this.hitStroke==="all"?ef.__updateHitCanvas.call(this):this.__hitCanvas&&(this.__hitCanvas=null)};sf.__hitFill=function(e){return this.__hitCanvas?ef.__hitFill.call(this,e):F.hitRadiusPoint(this.__layout.boxBounds,e)};const nf=C.prototype,Gw=Ze.prototype;nf.find=function(e,t){return this.leafer?this.leafer.selector.getBy(e,this,!1,t):[]};nf.findOne=function(e,t){return this.leafer?this.leafer.selector.getBy(e,this,!0,t):null};Gw.pick=function(e,t){return this.__layout.update(),t||(t={}),this.leafer?this.leafer.selector.getByPoint(e,t.hitRadius||0,Object.assign(Object.assign({},t),{target:this})):null};const Ph=bh.prototype;Ph.hitFill=function(e,t){return t?this.context.isPointInPath(e.x,e.y,t):this.context.isPointInPath(e.x,e.y)};Ph.hitStroke=function(e,t){return this.strokeWidth=t,this.context.isPointInStroke(e.x,e.y)};Ph.hitPixel=function(e,t,i=1){let{x:s,y:n,radiusX:r,radiusY:o}=e;t&&(s-=t.x,n-=t.y),ct.set(s-r,n-o,r*2,o*2).scale(i).ceil();const{data:a}=this.context.getImageData(ct.x,ct.y,ct.width||1,ct.height||1);for(let h=0,l=a.length;h<l;h+=4)if(a[h+3]>0)return!0;return a[3]>0};const kc=ft.get("LeaferCanvas");class rf extends bh{set zIndex(t){const{style:i}=this.view;i.zIndex=t,this.setAbsolute(this.view)}set childIndex(t){const{view:i,parentView:s}=this;if(i&&s){const n=s.children[t];n?(this.setAbsolute(n),s.insertBefore(i,n)):s.appendChild(n)}}init(){const{view:t}=this.config;t?this.__createViewFrom(t):this.__createView();const{style:i}=this.view;if(i.display||(i.display="block"),this.parentView=this.view.parentElement,this.parentView){const s=this.parentView.style;s.webkitUserSelect=s.userSelect="none"}I.syncDomFont&&!this.parentView&&(i.display="none",document.body.appendChild(this.view)),this.__createContext(),this.autoLayout||this.resize(this.config)}set backgroundColor(t){this.view.style.backgroundColor=t}get backgroundColor(){return this.view.style.backgroundColor}set hittable(t){this.view.style.pointerEvents=t?"auto":"none"}get hittable(){return this.view.style.pointerEvents!=="none"}__createView(){this.view=document.createElement("canvas")}__createViewFrom(t){let i=typeof t=="string"?document.getElementById(t):t;if(i)if(i instanceof HTMLCanvasElement)this.view=i;else{let s=i;if(i===window||i===document){const r=document.createElement("div"),{style:o}=r;o.position="absolute",o.top=o.bottom=o.left=o.right="0px",document.body.appendChild(r),s=r}this.__createView();const n=this.view;s.hasChildNodes()&&(this.setAbsolute(n),s.style.position||(s.style.position="relative")),s.appendChild(n)}else kc.error(`no id: ${t}`),this.__createView()}setAbsolute(t){const{style:i}=t;i.position="absolute",i.top=i.left="0px"}updateViewSize(){const{width:t,height:i,pixelRatio:s}=this,{style:n}=this.view;n.width=t+"px",n.height=i+"px",this.view.width=Math.ceil(t*s),this.view.height=Math.ceil(i*s)}updateClientBounds(){this.clientBounds=this.view.getBoundingClientRect()}startAutoLayout(t,i){this.autoBounds=t,this.resizeListener=i;try{this.resizeObserver=new ResizeObserver(n=>{this.updateClientBounds();for(const r of n)this.checkAutoBounds(r.contentRect)});const s=this.parentView;s?(this.resizeObserver.observe(s),this.checkAutoBounds(s.getBoundingClientRect())):(this.checkAutoBounds(this.view),kc.warn("no parent"))}catch{this.imitateResizeObserver()}}imitateResizeObserver(){this.autoLayout&&(this.parentView&&this.checkAutoBounds(this.parentView.getBoundingClientRect()),I.requestRender(this.imitateResizeObserver.bind(this)))}checkAutoBounds(t){const i=this.view,{x:s,y:n,width:r,height:o}=this.autoBounds.getBoundsFrom(t);if(r!==this.width||o!==this.height){const{style:a}=i,{pixelRatio:h}=this;a.marginLeft=s+"px",a.marginTop=n+"px";const l={width:r,height:o,pixelRatio:h},c={};Ut.copyAttrs(c,this,ci),this.resize(l),this.width!==void 0&&this.resizeListener(new cs(l,c))}}stopAutoLayout(){this.autoLayout=!1,this.resizeListener=null,this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unrealCanvas(){if(!this.unreal&&this.parentView){const t=this.view;t&&t.remove(),this.view=this.parentView,this.unreal=!0}}destroy(){if(this.view){if(this.stopAutoLayout(),!this.unreal){const t=this.view;t.parentElement&&t.remove()}super.destroy()}}}$d(CanvasRenderingContext2D.prototype);$d(Path2D.prototype);const{mineType:qo,fileType:Vw}=fi;Object.assign(It,{canvas:(e,t)=>new rf(e,t),image:e=>new xm(e)});function Yw(e,t){I.origin={createCanvas(i,s){const n=document.createElement("canvas");return n.width=i,n.height=s,n},canvasToDataURL:(i,s,n)=>i.toDataURL(qo(s),n),canvasToBolb:(i,s,n)=>new Promise(r=>i.toBlob(r,qo(s),n)),canvasSaveAs:(i,s,n)=>{const r=i.toDataURL(qo(Vw(s)),n);return I.origin.download(r,s)},download(i,s){return new Promise(n=>{let r=document.createElement("a");r.href=i,r.download=s,document.body.appendChild(r),r.click(),document.body.removeChild(r),n()})},loadImage(i){return new Promise((s,n)=>{const r=new Image,{crossOrigin:o}=I.image;o&&(r.setAttribute("crossOrigin",o),r.crossOrigin=o),r.onload=()=>{s(r)},r.onerror=a=>{n(a)},r.src=I.image.getRealURL(i)})}},I.event={stopDefault(i){i.preventDefault()},stopNow(i){i.stopImmediatePropagation()},stop(i){i.stopPropagation()}},I.canvas=It.canvas(),I.conicGradientSupport=!!I.canvas.context.createConicGradient}I.name="web";I.isMobile="ontouchstart"in window;I.requestRender=function(e){window.requestAnimationFrame(e)};I.devicePixelRatio=Math.max(1,devicePixelRatio);const{userAgent:Bs}=navigator;Bs.indexOf("Firefox")>-1?(I.conicGradientRotate90=!0,I.intWheelDeltaY=!0,I.syncDomFont=!0):Bs.indexOf("Safari")>-1&&Bs.indexOf("Chrome")===-1&&(I.fullImageShadow=!0);Bs.indexOf("Windows")>-1?(I.os="Windows",I.intWheelDeltaY=!0):Bs.indexOf("Mac")>-1?I.os="Mac":Bs.indexOf("Linux")>-1&&(I.os="Linux");class Kw{get childrenChanged(){return this.hasAdd||this.hasRemove||this.hasVisible}get updatedList(){if(this.hasRemove){const t=new Lt;return this.__updatedList.list.forEach(i=>{i.leafer&&t.add(i)}),t}else return this.__updatedList}constructor(t,i){this.totalTimes=0,this.config={},this.__updatedList=new Lt,this.target=t,i&&(this.config=Ut.default(i,this.config)),this.__listenEvents()}start(){this.disabled||(this.running=!0)}stop(){this.running=!1}disable(){this.stop(),this.__removeListenEvents(),this.disabled=!0}update(){this.changed=!0,this.running&&this.target.emit(bt.REQUEST)}__onAttrChange(t){this.__updatedList.add(t.target),this.update()}__onChildEvent(t){t.type===de.ADD?(this.hasAdd=!0,this.__pushChild(t.child)):(this.hasRemove=!0,this.__updatedList.add(t.parent)),this.update()}__pushChild(t){this.__updatedList.add(t),t.isBranch&&this.__loopChildren(t)}__loopChildren(t){const{children:i}=t;for(let s=0,n=i.length;s<n;s++)this.__pushChild(i[s])}__onRquestData(){this.target.emitEvent(new Oi(Oi.DATA,{updatedList:this.updatedList})),this.__updatedList=new Lt,this.totalTimes++,this.changed=!1,this.hasVisible=!1,this.hasRemove=!1,this.hasAdd=!1}__listenEvents(){const{target:t}=this;this.__eventIds=[t.on_(ui.CHANGE,this.__onAttrChange,this),t.on_([de.ADD,de.REMOVE],this.__onChildEvent,this),t.on_(Oi.REQUEST,this.__onRquestData,this)]}__removeListenEvents(){this.target.off_(this.__eventIds)}destroy(){this.target&&(this.stop(),this.__removeListenEvents(),this.target=null,this.__updatedList=null)}}const{updateAllMatrix:Xw,updateBounds:Oc,updateAllWorldOpacity:qw}=ti,{pushAllChildBranch:Zw,pushAllParent:Mc}=On;function Jw(e,t){let i;e.list.forEach(s=>{i=s.__layout,t.without(s)&&!i.proxyZoom&&(i.matrixChanged?(Xw(s,!0),t.add(s),s.isBranch&&Zw(s,t),Mc(s,t)):i.boundsChanged&&(t.add(s),s.isBranch&&(s.__tempNumber=0),Mc(s,t)))})}function Qw(e){let t,i,s;e.sort(!0),e.levels.forEach(n=>{t=e.levelMap[n];for(let r=0,o=t.length;r<o;r++){if(i=t[r],i.isBranch&&i.__tempNumber){s=i.children;for(let a=0,h=s.length;a<h;a++)s[a].isBranch||Oc(s[a])}Oc(i)}})}function tx(e){e.list.forEach(t=>{t.__layout.opacityChanged&&qw(t),t.__updateChange()})}const{worldBounds:Lc}=Vr,ex={x:0,y:0,width:1e5,height:1e5};class Ac{constructor(t){this.updatedBounds=new Pt,this.beforeBounds=new Pt,this.afterBounds=new Pt,t instanceof Array&&(t=new Lt(t)),this.updatedList=t}setBefore(){this.beforeBounds.setListWithFn(this.updatedList.list,Lc)}setAfter(){const{list:t}=this.updatedList;t.some(i=>i.noBounds)?this.afterBounds.set(ex):this.afterBounds.setListWithFn(t,Lc),this.updatedBounds.setList([this.beforeBounds,this.afterBounds])}merge(t){this.updatedList.addList(t.updatedList.list),this.beforeBounds.add(t.beforeBounds),this.afterBounds.add(t.afterBounds),this.updatedBounds.add(t.updatedBounds)}destroy(){this.updatedList=null}}const{updateAllMatrix:ix,updateAllChange:sx}=ti,Zo=ft.get("Layouter");class qr{constructor(t,i){this.totalTimes=0,this.config={},this.__levelList=new A0,this.target=t,i&&(this.config=Ut.default(i,this.config)),this.__listenEvents()}start(){this.disabled||(this.running=!0)}stop(){this.running=!1}disable(){this.stop(),this.__removeListenEvents(),this.disabled=!0}layout(){if(!this.running)return;const{target:t}=this;this.times=0;try{t.emit(gt.START),this.layoutOnce(),t.emitEvent(new gt(gt.END,this.layoutedBlocks,this.times))}catch(i){Zo.error(i)}this.layoutedBlocks=null}layoutAgain(){this.layouting?this.waitAgain=!0:this.layoutOnce()}layoutOnce(){if(this.layouting)return Zo.warn("layouting");if(this.times>3)return Zo.warn("layout max times");this.times++,this.totalTimes++,this.layouting=!0,this.target.emit(Oi.REQUEST),this.totalTimes>1?this.partLayout():this.fullLayout(),this.layouting=!1,this.waitAgain&&(this.waitAgain=!1,this.layoutOnce())}partLayout(){var t;if(!(!((t=this.__updatedList)===null||t===void 0)&&t.length))return;const i=Le.start("PartLayout"),{target:s,__updatedList:n}=this,{BEFORE:r,LAYOUT:o,AFTER:a}=gt,h=this.getBlocks(n);h.forEach(l=>l.setBefore()),s.emitEvent(new gt(r,h,this.times)),this.extraBlock=null,n.sort(),Jw(n,this.__levelList),Qw(this.__levelList),tx(n),this.extraBlock&&h.push(this.extraBlock),h.forEach(l=>l.setAfter()),s.emitEvent(new gt(o,h,this.times)),s.emitEvent(new gt(a,h,this.times)),this.addBlocks(h),this.__levelList.reset(),this.__updatedList=null,Le.end(i)}fullLayout(){const t=Le.start("FullLayout"),{target:i}=this,{BEFORE:s,LAYOUT:n,AFTER:r}=gt,o=this.getBlocks(new Lt(i));i.emitEvent(new gt(s,o,this.times)),qr.fullLayout(i),o.forEach(a=>{a.setAfter()}),i.emitEvent(new gt(n,o,this.times)),i.emitEvent(new gt(r,o,this.times)),this.addBlocks(o),Le.end(t)}static fullLayout(t){ix(t,!0),t.isBranch?On.updateBounds(t):ti.updateBounds(t),sx(t)}addExtra(t){if(!this.__updatedList.has(t)){const{updatedList:i,beforeBounds:s}=this.extraBlock||(this.extraBlock=new Ac([]));i.length?s.add(t.__world):s.set(t.__world),i.add(t)}}createBlock(t){return new Ac(t)}getBlocks(t){return[this.createBlock(t)]}addBlocks(t){this.layoutedBlocks?this.layoutedBlocks.push(...t):this.layoutedBlocks=t}__onReceiveWatchData(t){this.__updatedList=t.data.updatedList}__listenEvents(){const{target:t}=this;this.__eventIds=[t.on_(gt.REQUEST,this.layout,this),t.on_(gt.AGAIN,this.layoutAgain,this),t.on_(Oi.DATA,this.__onReceiveWatchData,this)]}__removeListenEvents(){this.target.off_(this.__eventIds)}destroy(){this.target&&(this.stop(),this.__removeListenEvents(),this.target=this.config=null)}}const Vi=ft.get("Renderer");class nx{get needFill(){return!!(!this.canvas.allowBackgroundColor&&this.config.fill)}constructor(t,i,s){this.FPS=60,this.totalTimes=0,this.times=0,this.config={usePartRender:!0,maxFPS:60},this.target=t,this.canvas=i,s&&(this.config=Ut.default(s,this.config)),this.__listenEvents(),this.__requestRender()}start(){this.running=!0}stop(){this.running=!1}update(){this.changed=!0}requestLayout(){this.target.emit(gt.REQUEST)}render(t){if(!(this.running&&this.canvas.view)){this.changed=!0;return}const{target:i}=this;this.times=0,this.totalBounds=new Pt,Vi.log(i.innerName,"--->");try{this.emitRender(bt.START),this.renderOnce(t),this.emitRender(bt.END,this.totalBounds),oe.clearRecycled()}catch(s){this.rendering=!1,Vi.error(s)}Vi.log("-------------|")}renderAgain(){this.rendering?this.waitAgain=!0:this.renderOnce()}renderOnce(t){if(this.rendering)return Vi.warn("rendering");if(this.times>3)return Vi.warn("render max times");if(this.times++,this.totalTimes++,this.rendering=!0,this.changed=!1,this.renderBounds=new Pt,this.renderOptions={},t)this.emitRender(bt.BEFORE),t();else{if(this.requestLayout(),this.ignore){this.ignore=this.rendering=!1;return}this.emitRender(bt.BEFORE),this.config.usePartRender&&this.totalTimes>1?this.partRender():this.fullRender()}this.emitRender(bt.RENDER,this.renderBounds,this.renderOptions),this.emitRender(bt.AFTER,this.renderBounds,this.renderOptions),this.updateBlocks=null,this.rendering=!1,this.waitAgain&&(this.waitAgain=!1,this.renderOnce())}partRender(){const{canvas:t,updateBlocks:i}=this;if(!i)return Vi.warn("PartRender: need update attr");this.mergeBlocks(),i.forEach(s=>{t.bounds.hit(s)&&!s.isEmpty()&&this.clipRender(s)})}clipRender(t){const i=Le.start("PartRender"),{canvas:s}=this,n=t.getIntersect(s.bounds),r=t.includes(this.target.__world),o=new Pt(n);s.save(),r&&!ft.showRepaint?s.clear():(n.spread(10+1/this.canvas.pixelRatio).ceil(),s.clearWorld(n,!0),s.clipWorld(n,!0)),this.__render(n,r,o),s.restore(),Le.end(i)}fullRender(){const t=Le.start("FullRender"),{canvas:i}=this;i.save(),i.clear(),this.__render(i.bounds,!0),i.restore(),Le.end(t)}__render(t,i,s){const n=t.includes(this.target.__world)?{includes:i}:{bounds:t,includes:i};this.needFill&&this.canvas.fillWorld(t,this.config.fill),ft.showRepaint&&this.canvas.strokeWorld(t,"red"),this.target.__render(this.canvas,n),this.renderBounds=s||t,this.renderOptions=n,this.totalBounds.isEmpty()?this.totalBounds=this.renderBounds:this.totalBounds.add(this.renderBounds),ft.showHitView&&this.renderHitView(n),ft.showBoundsView&&this.renderBoundsView(n),this.canvas.updateRender()}renderHitView(t){}renderBoundsView(t){}addBlock(t){this.updateBlocks||(this.updateBlocks=[]),this.updateBlocks.push(t)}mergeBlocks(){const{updateBlocks:t}=this;if(t){const i=new Pt;i.setList(t),t.length=0,t.push(i)}}__requestRender(){const t=Date.now();I.requestRender(()=>{this.FPS=Math.min(60,Math.ceil(1e3/(Date.now()-t))),this.running&&(this.target.emit(Ud.FRAME),this.changed&&this.canvas.view&&this.render(),this.target.emit(bt.NEXT)),this.target&&this.__requestRender()})}__onResize(t){if(!this.canvas.unreal){if(t.bigger||!t.samePixelRatio){const{width:i,height:s}=t.old;if(!new Pt(0,0,i,s).includes(this.target.__world)||this.needFill||!t.samePixelRatio){this.addBlock(this.canvas.bounds),this.target.forceUpdate("surface");return}}this.addBlock(new Pt(0,0,1,1)),this.changed=!0}}__onLayoutEnd(t){t.data&&t.data.map(i=>{let s;i.updatedList&&i.updatedList.list.some(n=>(s=!n.__world.width||!n.__world.height,s&&(n.isLeafer||Vi.tip(n.innerName,": empty"),s=!n.isBranch||n.isBranchLeaf),s)),this.addBlock(s?this.canvas.bounds:i.updatedBounds)})}emitRender(t,i,s){this.target.emitEvent(new bt(t,this.times,i,s))}__listenEvents(){const{target:t}=this;this.__eventIds=[t.on_(bt.REQUEST,this.update,this),t.on_(gt.END,this.__onLayoutEnd,this),t.on_(bt.AGAIN,this.renderAgain,this),t.on_(cs.RESIZE,this.__onResize,this)]}__removeListenEvents(){this.target.off_(this.__eventIds)}destroy(){this.target&&(this.stop(),this.__removeListenEvents(),this.target=this.canvas=this.config=null)}}const{hitRadiusPoint:rx}=F;class ox{constructor(t,i){this.target=t,this.selector=i}getByPoint(t,i,s){i||(i=0),s||(s={});const n=s.through||!1,r=s.ignoreHittable||!1,o=s.target||this.target;this.exclude=s.exclude||null,this.point={x:t.x,y:t.y,radiusX:i,radiusY:i},this.findList=new Lt(s.findList),s.findList||this.hitBranch(o);const{list:a}=this.findList,h=this.getBestMatchLeaf(a,s.bottomList,r),l=r?this.getPath(h):this.getHitablePath(h);return this.clear(),n?{path:l,target:h,throughPath:a.length?this.getThroughPath(a):l}:{path:l,target:h}}getBestMatchLeaf(t,i,s){if(t.length){let n;this.findList=new Lt;const{x:r,y:o}=this.point,a={x:r,y:o,radiusX:0,radiusY:0};for(let h=0,l=t.length;h<l;h++)if(n=t[h],(s||ti.worldHittable(n))&&(this.hitChild(n,a),this.findList.length))return this.findList.list[0]}if(i){for(let n=0,r=i.length;n<r;n++)if(this.hitChild(i[n].target,this.point,i[n].proxy),this.findList.length)return this.findList.list[0]}return t[0]}getPath(t){const i=new Lt;for(;t;)i.add(t),t=t.parent;return i.add(this.target),i}getHitablePath(t){const i=this.getPath(t&&t.hittable?t:null);let s,n=new Lt;for(let r=i.list.length-1;r>-1&&(s=i.list[r],!(!s.__.hittable||(n.addAt(s,0),!s.__.hitChildren)));r--);return n}getThroughPath(t){const i=new Lt,s=[];for(let a=t.length-1;a>-1;a--)s.push(this.getPath(t[a]));let n,r,o;for(let a=0,h=s.length;a<h;a++){n=s[a],r=s[a+1];for(let l=0,c=n.length;l<c&&(o=n.list[l],!(r&&r.has(o)));l++)i.add(o)}return i}hitBranch(t){this.eachFind(t.children,t.__onlyHitMask)}eachFind(t,i){let s,n;const{point:r}=this,o=t.length;for(let a=o-1;a>-1;a--)s=t[a],!(!s.__.visible||i&&!s.__.mask)&&(n=s.__.hitRadius?!0:rx(s.__world,r),s.isBranch?(n||s.__ignoreHitWorld)&&(this.eachFind(s.children,s.__onlyHitMask),s.isBranchLeaf&&!this.findList.length&&this.hitChild(s,r)):n&&this.hitChild(s,r))}hitChild(t,i,s){if(!(this.exclude&&this.exclude.has(t))&&t.__hitWorld(i)){const{parent:n}=t;if(n&&n.__hasMask&&!t.__.mask&&!n.children.some(r=>r.__.mask&&r.__hitWorld(i)))return;this.findList.add(s||t)}}clear(){this.point=null,this.findList=null,this.exclude=null}destroy(){this.clear()}}const{Yes:ax,NoAndSkip:hx,YesAndSkip:lx}=Ma,Ic={},Dc={},$c={};class cx{constructor(t,i){this.config={},this.innerIdMap={},this.idMap={},this.methods={id:(s,n)=>s.id===n?(this.idMap[n]=s,1):0,innerId:(s,n)=>s.innerId===n?(this.innerIdMap[n]=s,1):0,className:(s,n)=>s.className===n?1:0,tag:(s,n)=>s.__tag===n?1:0,tags:(s,n)=>n[s.__tag]?1:0},this.target=t,i&&(this.config=Ut.default(i,this.config)),this.picker=new ox(t,this),this.__listenEvents()}getBy(t,i,s,n){switch(typeof t){case"number":const r=this.getByInnerId(t,i);return s?r:r?[r]:[];case"string":switch(t[0]){case"#":Ic.id=t.substring(1),t=Ic;break;case".":Dc.className=t.substring(1),t=Dc;break;default:$c.tag=t,t=$c}case"object":if(t.id!==void 0){const o=this.getById(t.id,i);return s?o:o?[o]:[]}else if(t.tag){const{tag:o}=t,a=o instanceof Array;return this.getByMethod(a?this.methods.tags:this.methods.tag,i,s,a?Ut.toMap(o):o)}else return this.getByMethod(this.methods.className,i,s,t.className);case"function":return this.getByMethod(t,i,s,n)}}getByPoint(t,i,s){return I.name==="node"&&this.target.emit(gt.CHECK_UPDATE),this.picker.getByPoint(t,i,s)}getByInnerId(t,i){const s=this.innerIdMap[t];return s||(this.eachFind(this.toChildren(i),this.methods.innerId,null,t),this.findLeaf)}getById(t,i){const s=this.idMap[t];return s&&ti.hasParent(s,i||this.target)?s:(this.eachFind(this.toChildren(i),this.methods.id,null,t),this.findLeaf)}getByClassName(t,i){return this.getByMethod(this.methods.className,i,!1,t)}getByTag(t,i){return this.getByMethod(this.methods.tag,i,!1,t)}getByMethod(t,i,s,n){const r=s?null:[];return this.eachFind(this.toChildren(i),t,r,n),r||this.findLeaf}eachFind(t,i,s,n){let r,o;for(let a=0,h=t.length;a<h;a++){if(r=t[a],o=i(r,n),o===ax||o===lx)if(s)s.push(r);else{this.findLeaf=r;return}r.isBranch&&o<hx&&this.eachFind(r.children,i,s,n)}}toChildren(t){return this.findLeaf=null,[t||this.target]}__onRemoveChild(t){const{id:i,innerId:s}=t.child;this.idMap[i]&&delete this.idMap[i],this.innerIdMap[s]&&delete this.innerIdMap[s]}__checkIdChange(t){if(t.attrName==="id"){const i=t.oldValue;this.idMap[i]&&delete this.idMap[i]}}__listenEvents(){this.__eventIds=[this.target.on_(de.REMOVE,this.__onRemoveChild,this),this.target.on_(ui.CHANGE,this.__checkIdChange,this)]}__removeListenEvents(){this.target.off_(this.__eventIds),this.__eventIds.length=0}destroy(){this.__eventIds.length&&(this.__removeListenEvents(),this.picker.destroy(),this.findLeaf=null,this.innerIdMap={},this.idMap={})}}Object.assign(It,{watcher:(e,t)=>new Kw(e,t),layouter:(e,t)=>new qr(e,t),renderer:(e,t,i)=>new nx(e,t,i),selector:(e,t)=>new cx(e,t)});I.layout=qr.fullLayout;const ne={convert(e,t){const i=$e.getBase(e),s=Object.assign(Object.assign({},i),{x:t.x,y:t.y,width:e.width,height:e.height,pointerType:e.pointerType,pressure:e.pressure});return s.pointerType==="pen"&&(s.tangentialPressure=e.tangentialPressure,s.tiltX=e.tiltX,s.tiltY=e.tiltY,s.twist=e.twist),s},convertMouse(e,t){const i=$e.getBase(e);return Object.assign(Object.assign({},i),{x:t.x,y:t.y,width:1,height:1,pointerType:"mouse",pressure:.5})},convertTouch(e,t){const i=ne.getTouch(e),s=$e.getBase(e);return Object.assign(Object.assign({},s),{x:t.x,y:t.y,width:1,height:1,pointerType:"touch",pressure:i.force})},getTouch(e){return e.targetTouches[0]||e.changedTouches[0]}},Wc={getMove(e,t){let{moveSpeed:i}=t,{deltaX:s,deltaY:n}=e;return e.shiftKey&&!s&&(s=n,n=0),s>50&&(s=Math.max(50,s/3)),n>50&&(n=Math.max(50,n/3)),{x:-s*i*2,y:-n*i*2}},getScale(e,t){let i,s=1,{zoomMode:n,zoomSpeed:r}=t;const o=e.deltaY||e.deltaX;if(n?(i=n==="mouse"?!0:!e.deltaX&&(I.intWheelDeltaY?Math.abs(o)>17:Math.ceil(o)!==o),(e.shiftKey||e.metaKey||e.ctrlKey)&&(i=!0)):i=!e.shiftKey&&(e.metaKey||e.ctrlKey),i){r=Ee.within(r,0,1);const a=e.deltaY?t.delta.y:t.delta.x;s=1-o/(a*4)*r,s<.5&&(s=.5),s>=1.5&&(s=1.5)}return s}},Fc={convert(e){const t=$e.getBase(e);return Object.assign(Object.assign({},t),{code:e.code,key:e.key})}},{getMoveEventData:ux,getZoomEventData:Hc,getRotateEventData:dx}=$e;class fx extends Fw{__listenEvents(){super.__listenEvents();const t=this.view=this.canvas.view;this.viewEvents={pointerdown:this.onPointerDown,mousedown:this.onMouseDown,touchstart:this.onTouchStart,contextmenu:this.onContextMenu,wheel:this.onWheel,gesturestart:this.onGesturestart,gesturechange:this.onGesturechange,gestureend:this.onGestureend},this.windowEvents={pointermove:this.onPointerMove,pointerup:this.onPointerUp,pointercancel:this.onPointerCancel,mousemove:this.onMouseMove,mouseup:this.onMouseUp,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchCancel,keydown:this.onKeyDown,keyup:this.onKeyUp,scroll:this.onScroll};const{viewEvents:i,windowEvents:s}=this;for(let n in i)i[n]=i[n].bind(this),t.addEventListener(n,i[n]);for(let n in s)s[n]=s[n].bind(this),window.addEventListener(n,s[n])}__removeListenEvents(){super.__removeListenEvents();const{viewEvents:t,windowEvents:i}=this;for(let s in t)this.view.removeEventListener(s,t[s]),this.viewEvents={};for(let s in i)window.removeEventListener(s,i[s]),this.windowEvents={}}getTouches(t){const i=[];for(let s=0,n=t.length;s<n;s++)i.push(t[s]);return i}preventDefaultPointer(t){const{pointer:i}=this.config;i.preventDefault&&t.preventDefault()}preventDefaultWheel(t){const{wheel:i}=this.config;i.preventDefault&&t.preventDefault()}preventWindowPointer(t){return!this.downData&&t.target!==this.view}onKeyDown(t){this.keyDown(Fc.convert(t))}onKeyUp(t){this.keyUp(Fc.convert(t))}onContextMenu(t){this.config.pointer.preventDefaultMenu&&t.preventDefault(),this.menu(ne.convert(t,this.getLocal(t)))}onScroll(){this.canvas.updateClientBounds()}onPointerDown(t){this.preventDefaultPointer(t),this.usePointer||(this.usePointer=!0),!this.useMultiTouch&&this.pointerDown(ne.convert(t,this.getLocal(t)))}onPointerMove(t){this.usePointer||(this.usePointer=!0),!(this.useMultiTouch||this.preventWindowPointer(t))&&this.pointerMove(ne.convert(t,this.getLocal(t,!0)))}onPointerUp(t){this.downData&&this.preventDefaultPointer(t),!(this.useMultiTouch||this.preventWindowPointer(t))&&this.pointerUp(ne.convert(t,this.getLocal(t)))}onPointerCancel(){this.useMultiTouch||this.pointerCancel()}onMouseDown(t){this.preventDefaultPointer(t),!(this.useTouch||this.usePointer)&&this.pointerDown(ne.convertMouse(t,this.getLocal(t)))}onMouseMove(t){this.useTouch||this.usePointer||this.preventWindowPointer(t)||this.pointerMove(ne.convertMouse(t,this.getLocal(t,!0)))}onMouseUp(t){this.downData&&this.preventDefaultPointer(t),!(this.useTouch||this.usePointer||this.preventWindowPointer(t))&&this.pointerUp(ne.convertMouse(t,this.getLocal(t)))}onMouseCancel(){this.useTouch||this.usePointer||this.pointerCancel()}onTouchStart(t){if(t.preventDefault(),this.multiTouchStart(t),this.usePointer)return;this.touchTimer&&(window.clearTimeout(this.touchTimer),this.touchTimer=0),this.useTouch=!0;const i=ne.getTouch(t);this.pointerDown(ne.convertTouch(t,this.getLocal(i,!0)))}onTouchMove(t){if(this.multiTouchMove(t),this.usePointer||this.preventWindowPointer(t))return;const i=ne.getTouch(t);this.pointerMove(ne.convertTouch(t,this.getLocal(i)))}onTouchEnd(t){if(this.multiTouchEnd(),this.usePointer||this.preventWindowPointer(t))return;this.touchTimer&&clearTimeout(this.touchTimer),this.touchTimer=setTimeout(()=>{this.useTouch=!1},500);const i=ne.getTouch(t);this.pointerUp(ne.convertTouch(t,this.getLocal(i)))}onTouchCancel(){this.usePointer||this.pointerCancel()}multiTouchStart(t){this.useMultiTouch=t.touches.length>=2,this.touches=this.useMultiTouch?this.getTouches(t.touches):void 0,this.useMultiTouch&&this.pointerCancel()}multiTouchMove(t){if(this.useMultiTouch&&t.touches.length>1){const i=this.getTouches(t.touches),s=this.getKeepTouchList(this.touches,i);s.length>1&&(this.multiTouch($e.getBase(t),s),this.touches=i)}}multiTouchEnd(){this.touches=null,this.useMultiTouch=!1,this.transformEnd()}getKeepTouchList(t,i){let s;const n=[];return t.forEach(r=>{s=i.find(o=>o.identifier===r.identifier),s&&n.push({from:this.getLocal(r),to:this.getLocal(s)})}),n}getLocalTouchs(t){return t.map(i=>this.getLocal(i))}onWheel(t){this.preventDefaultWheel(t);const{wheel:i}=this.config;if(i.disabled)return;const s=i.getScale?i.getScale(t,i):Wc.getScale(t,i),n=this.getLocal(t),r=$e.getBase(t);s!==1?this.zoom(Hc(n,s,r)):this.move(ux(n,i.getMove?i.getMove(t,i):Wc.getMove(t,i),r))}onGesturestart(t){this.useMultiTouch||(this.preventDefaultWheel(t),this.lastGestureScale=1,this.lastGestureRotation=0)}onGesturechange(t){if(this.useMultiTouch)return;this.preventDefaultWheel(t);const i=this.getLocal(t),s=$e.getBase(t),n=t.scale/this.lastGestureScale,r=t.rotation-this.lastGestureRotation;let{rotateSpeed:o}=this.config.wheel;o=Ee.within(o,0,1),this.zoom(Hc(i,n*n,s)),this.rotate(dx(i,r/Math.PI*180*(o/4+.1),s)),this.lastGestureScale=t.scale,this.lastGestureRotation=t.rotation}onGestureend(t){this.useMultiTouch||(this.preventDefaultWheel(t),this.transformEnd())}setCursor(t){super.setCursor(t);const i=[];this.eachCursor(t,i),typeof i[i.length-1]=="object"&&i.push("default"),this.canvas.view.style.cursor=i.map(s=>typeof s=="object"?`url(${s.url}) ${s.x||0} ${s.y||0}`:s).join(",")}eachCursor(t,i,s=0){if(s++,t instanceof Array)t.forEach(n=>this.eachCursor(n,i,s));else{const n=typeof t=="string"&&Qd.get(t);n&&s<2?this.eachCursor(n,i,s):i.push(t)}}destroy(){this.view&&(super.destroy(),this.view=null,this.touches=null)}}function Ps(e,t){let i;const{rows:s,decorationY:n,decorationHeight:r}=e.__.__textDrawData;for(let o=0,a=s.length;o<a;o++)i=s[o],i.text?t.fillText(i.text,i.x,i.y):i.data&&i.data.forEach(h=>{t.fillText(h.char,h.x,i.y)}),n&&t.fillRect(i.x,i.y+n,i.width,r)}function _x(e,t,i){i.fillStyle=e,t.__.__font?Ps(t,i):t.__.windingRule?i.fill(t.__.windingRule):i.fill()}function px(e,t,i){let s;const{windingRule:n,__font:r}=t.__;for(let o=0,a=e.length;o<a;o++)s=e[o],!(s.image&&os.checkImage(t,i,s,!r))&&s.style&&(i.fillStyle=s.style,s.transform?(i.save(),i.transform(s.transform),s.blendMode&&(i.blendMode=s.blendMode),r?Ps(t,i):n?i.fill(n):i.fill(),i.restore()):s.blendMode?(i.saveBlendMode(s.blendMode),r?Ps(t,i):n?i.fill(n):i.fill(),i.restoreBlendMode()):r?Ps(t,i):n?i.fill(n):i.fill())}function Th(e,t,i){const{strokeAlign:s}=t.__,n=typeof e!="string";switch(s){case"center":i.setStroke(n?void 0:e,t.__.strokeWidth,t.__),n?fn(e,!0,t,i):En(t,i);break;case"inside":Nc("inside",e,n,t,i);break;case"outside":Nc("outside",e,n,t,i);break}}function Nc(e,t,i,s,n){const{__strokeWidth:r,__font:o}=s.__,a=n.getSameCanvas(!0,!0);a.setStroke(i?void 0:t,r*2,s.__),a.font=o,i?fn(t,!0,s,a):En(s,a),a.blendMode=e==="outside"?"destination-out":"destination-in",Ps(s,a),a.blendMode="normal",s.__worldFlipped?n.copyWorldByReset(a,s.__nowWorld):n.copyWorldToInner(a,s.__nowWorld,s.__layout.renderBounds),a.recycle(s.__nowWorld)}function En(e,t){let i;const{rows:s,decorationY:n,decorationHeight:r}=e.__.__textDrawData;for(let o=0,a=s.length;o<a;o++)i=s[o],i.text?t.strokeText(i.text,i.x,i.y):i.data&&i.data.forEach(h=>{t.strokeText(h.char,h.x,i.y)}),n&&t.strokeRect(i.x,i.y+n,i.width,r)}function fn(e,t,i,s){let n;for(let r=0,o=e.length;r<o;r++)n=e[r],!(n.image&&os.checkImage(i,s,n,!1))&&n.style&&(s.strokeStyle=n.style,n.blendMode?(s.saveBlendMode(n.blendMode),t?En(i,s):s.stroke(),s.restoreBlendMode()):t?En(i,s):s.stroke())}function gx(e,t,i){const s=t.__,{__strokeWidth:n,strokeAlign:r,__font:o}=s;if(n)if(o)Th(e,t,i);else switch(r){case"center":i.setStroke(e,n,s),i.stroke();break;case"inside":i.save(),i.setStroke(e,n*2,s),s.windingRule?i.clip(s.windingRule):i.clip(),i.stroke(),i.restore();break;case"outside":const a=i.getSameCanvas(!0,!0);a.setStroke(e,n*2,s),t.__drawRenderPath(a),a.stroke(),s.windingRule?a.clip(s.windingRule):a.clip(),a.clearWorld(t.__layout.renderBounds),t.__worldFlipped?i.copyWorldByReset(a,t.__nowWorld):i.copyWorldToInner(a,t.__nowWorld,t.__layout.renderBounds),a.recycle(t.__nowWorld);break}}function yx(e,t,i){const s=t.__,{__strokeWidth:n,strokeAlign:r,__font:o}=s;if(n)if(o)Th(e,t,i);else switch(r){case"center":i.setStroke(void 0,n,s),fn(e,!1,t,i);break;case"inside":i.save(),i.setStroke(void 0,n*2,s),s.windingRule?i.clip(s.windingRule):i.clip(),fn(e,!1,t,i),i.restore();break;case"outside":const{renderBounds:a}=t.__layout,h=i.getSameCanvas(!0,!0);t.__drawRenderPath(h),h.setStroke(void 0,n*2,s),fn(e,!1,t,h),s.windingRule?h.clip(s.windingRule):h.clip(),h.clearWorld(a),t.__worldFlipped?i.copyWorldByReset(h,t.__nowWorld):i.copyWorldToInner(h,t.__nowWorld,a),h.recycle(t.__nowWorld);break}}const{getSpread:mx,getOuterOf:wx,getByMove:xx,getIntersectData:bx}=F;function vx(e,t,i){const s=t.getSameCanvas(),n=e.__nowWorld;let r,o,a,h,{scaleX:l,scaleY:c}=n;if(l<0&&(l=-l),c<0&&(c=-c),t.bounds.includes(n))h=s,r=a=n;else{const{renderShapeSpread:_}=e.__layout,f=bx(_?mx(t.bounds,l===c?_*l:[_*c,_*l]):t.bounds,n);o=t.bounds.getFitMatrix(f);let{a:u,d:g}=o;if(o.a<1&&(h=t.getSameCanvas(),e.__renderShape(h,i),l*=u,c*=g),a=wx(n,o),r=xx(a,-o.e,-o.f),i.matrix){const{matrix:m}=i;o.multiply(m),u*=m.scaleX,g*=m.scaleY}i=Object.assign(Object.assign({},i),{matrix:o.withScale(u,g)})}return e.__renderShape(s,i),{canvas:s,matrix:o,bounds:r,worldCanvas:h,shapeBounds:a,scaleX:l,scaleY:c}}let Fa;function Rx(e,t){const i=t.__,s=[];let n=i.__input[e],r;n instanceof Array||(n=[n]),Fa=os.recycleImage(e,i);for(let o=0,a=n.length,h;o<a;o++)h=Cx(e,n[o],t),h&&s.push(h);i["_"+e]=s.length?s:void 0,s.length&&s[0].image&&(r=s[0].image.hasOpacityPixel),e==="fill"?i.__pixelFill=r:i.__pixelStroke=r}function Cx(e,t,i){if(typeof t!="object"||t.visible===!1||t.opacity===0)return;const{boxBounds:s}=i.__layout;switch(t.type){case"solid":let{type:n,blendMode:r,color:o,opacity:a}=t;return{type:n,blendMode:r,style:xn.string(o,a)};case"image":return os.image(i,e,t,s,!Fa||!Fa[t.url]);case"linear":return xr.linearGradient(t,s);case"radial":return xr.radialGradient(t,s);case"angular":return xr.conicGradient(t,s);default:return t.r!==void 0?{type:"solid",style:xn.string(t)}:void 0}}const Ex={compute:Rx,fill:_x,fills:px,fillText:Ps,stroke:gx,strokes:yx,strokeText:Th,drawTextStroke:En,shape:vx};let Js={};const{get:kh,rotateOfOuter:of,translate:Rs,scaleOfOuter:Sx,scale:af,rotate:hf}=X;function lf(e,t,i,s,n,r,o){const a=kh();Rs(a,t.x+i,t.y+s),af(a,n,r),o&&of(a,{x:t.x+t.width/2,y:t.y+t.height/2},o),e.transform=a}function cf(e,t,i,s,n,r,o){const a=kh();Rs(a,t.x+i,t.y+s),n&&af(a,n,r),o&&hf(a,o),e.transform=a}function uf(e,t,i,s,n,r,o,a,h,l){const c=kh();if(h)if(l==="center")of(c,{x:i/2,y:s/2},h);else switch(hf(c,h),h){case 90:Rs(c,s,0);break;case 180:Rs(c,i,s);break;case 270:Rs(c,0,i);break}Js.x=t.x+n,Js.y=t.y+r,Rs(c,Js.x,Js.y),o&&Sx(c,Js,o,a),e.transform=c}const{get:Bx,translate:Px}=X,Tx=new Pt,Jo={};function df(e,t,i,s){const{blendMode:n}=i;n&&(e.blendMode=n),e.data=ff(i,s,t)}function ff(e,t,i){let{width:s,height:n}=i;e.padding&&(t=Tx.set(t).shrink(e.padding));const{opacity:r,mode:o,align:a,offset:h,scale:l,size:c,rotation:_,repeat:f}=e,u=t.width===s&&t.height===n,g={mode:o},m=a!=="center"&&(_||0)%180===90,B=m?n:s,b=m?s:n;let x=0,v=0,k,W;if(!o||o==="cover"||o==="fit"){if(!u||_){const L=t.width/B,G=t.height/b;k=W=o==="fit"?Math.min(L,G):Math.max(L,G),x+=(t.width-s*k)/2,v+=(t.height-n*W)/2}}else c?(k=(typeof c=="number"?c:c.width)/s,W=(typeof c=="number"?c:c.height)/n):l&&(k=typeof l=="number"?l:l.x,W=typeof l=="number"?l:l.y);if(a){const L={x,y:v,width:B,height:b};k&&(L.width*=k,L.height*=W),Sd.toPoint(a,L,t,Jo,!0),x+=Jo.x,v+=Jo.y}switch(h&&(x+=h.x,v+=h.y),o){case"strench":u||(s=t.width,n=t.height);break;case"normal":case"clip":(x||v||k||_)&&cf(g,t,x,v,k,W,_);break;case"repeat":(!u||k||_)&&uf(g,t,s,n,x,v,k,W,_,a),f||(g.repeat="repeat");break;case"fit":case"cover":default:k&&lf(g,t,x,v,k,W,_)}return g.transform||(t.x||t.y)&&(g.transform=Bx(),Px(g.transform,t.x,t.y)),k&&o!=="strench"&&(g.scaleX=k,g.scaleY=W),g.width=s,g.height=n,r&&(g.opacity=r),f&&(g.repeat=typeof f=="string"?f==="x"?"repeat-x":"repeat-y":"repeat"),g}let Qs,kx=new Pt;const{isSame:Ox}=F;function Mx(e,t,i,s,n){let r,o;const a=oe.get(i);return Qs&&i===Qs.paint&&Ox(s,Qs.boxBounds)?r=Qs.leafPaint:(r={type:i.type,image:a},Qs=a.use>1?{leafPaint:r,paint:i,boxBounds:kx.set(s)}:null),(n||a.loading)&&(o={image:a,attrName:t,attrValue:i}),a.ready?(zc(e,t,i,a,r,s),n&&(jc(e,o),Uc(e,o))):a.error?n&&Gc(e,o,a.error):(Qo(e,!0),n&&jc(e,o),r.loadId=a.load(()=>{Qo(e,!1),e.destroyed||(zc(e,t,i,a,r,s)&&(a.hasOpacityPixel&&(e.__layout.hitCanvasChanged=!0),e.forceUpdate("surface")),Uc(e,o)),r.loadId=null},h=>{Qo(e,!1),Gc(e,o,h),r.loadId=null})),r}function zc(e,t,i,s,n,r){if(t==="fill"&&!e.__.__naturalWidth){const o=e.__;if(o.__naturalWidth=s.width/o.pixelRatio,o.__naturalHeight=s.height/o.pixelRatio,o.__autoSide)return e.forceUpdate("width"),e.__proxyData&&(e.setProxyAttr("width",o.width),e.setProxyAttr("height",o.height)),!1}return n.data||df(n,s,i,r),!0}function jc(e,t){Oh(e,Wi.LOAD,t)}function Uc(e,t){Oh(e,Wi.LOADED,t)}function Gc(e,t,i){t.error=i,e.forceUpdate("surface"),Oh(e,Wi.ERROR,t)}function Oh(e,t,i){e.hasEvent(t)&&e.emitEvent(new Wi(t,i))}function Qo(e,t){const{leafer:i}=e;i&&i.viewReady&&(i.renderer.ignore=t)}const{get:Vc,scale:Yc,copy:Kc}=X,{ceil:Xc,abs:qc}=Math;function Ha(e,t,i){let{scaleX:s,scaleY:n}=oe.patternLocked?e.__world:e.__nowWorld;const r=s+"-"+n;if(t.patternId!==r&&!e.destroyed){s=qc(s),n=qc(n);const{image:o,data:a}=t;let h,l,{width:c,height:_,scaleX:f,scaleY:u,opacity:g,transform:m,repeat:B}=a;f&&(l=Vc(),Kc(l,m),Yc(l,1/f,1/u),s*=f,n*=u),s*=i,n*=i,c*=s,_*=n;const b=c*_;if(!B&&b>I.image.maxCacheSize)return!1;let x=I.image.maxPatternSize;if(!o.isSVG){const W=o.width*o.height;x>W&&(x=W)}b>x&&(h=Math.sqrt(b/x)),h&&(s/=h,n/=h,c/=h,_/=h),f&&(s/=f,n/=u),(m||s!==1||n!==1)&&(l||(l=Vc(),m&&Kc(l,m)),Yc(l,1/s,1/n));const v=o.getCanvas(Xc(c)||1,Xc(_)||1,g),k=o.getPattern(v,B||I.origin.noRepeat||"no-repeat",l,t);return t.style=k,t.patternId=r,!0}else return!1}function Mh(e,t,i,s){function n(r){return r instanceof i?r:new i(function(o){o(r)})}return new(i||(i=Promise))(function(r,o){function a(c){try{l(s.next(c))}catch(_){o(_)}}function h(c){try{l(s.throw(c))}catch(_){o(_)}}function l(c){c.done?r(c.value):n(c.value).then(a,h)}l((s=s.apply(e,[])).next())})}const{abs:Zc}=Math;function Lx(e,t,i,s){const{scaleX:n,scaleY:r}=oe.patternLocked?e.__world:e.__nowWorld;if(!i.data||i.patternId===n+"-"+r)return!1;{const{data:o}=i;if(s)if(o.repeat)s=!1;else{let{width:a,height:h}=o;a*=Zc(n)*t.pixelRatio,h*=Zc(r)*t.pixelRatio,o.scaleX&&(a*=o.scaleX,h*=o.scaleY),s=a*h>I.image.maxCacheSize||bn.running}return s?(t.save(),t.clip(),i.blendMode&&(t.blendMode=i.blendMode),o.opacity&&(t.opacity*=o.opacity),o.transform&&t.transform(o.transform),t.drawImage(i.image.view,0,0,o.width,o.height),t.restore(),!0):(!i.style||bn.running?Ha(e,i,t.pixelRatio):i.patternTask||(i.patternTask=oe.patternTasker.add(()=>Mh(this,void 0,void 0,function*(){i.patternTask=null,t.bounds.hit(e.__nowWorld)&&Ha(e,i,t.pixelRatio),e.forceUpdate("surface")}),300)),!1)}}function Ax(e,t){const i=t["_"+e];if(i instanceof Array){let s,n,r,o;for(let a=0,h=i.length;a<h;a++)s=i[a].image,o=s&&s.url,o&&(n||(n={}),n[o]=!0,oe.recycle(s),s.loading&&(r||(r=t.__input&&t.__input[e]||[],r instanceof Array||(r=[r])),s.unload(i[a].loadId,!r.some(l=>l.url===o))));return n}return null}const Ix={image:Mx,checkImage:Lx,createPattern:Ha,recycleImage:Ax,createData:df,getPatternData:ff,fillOrFitMode:lf,clipMode:cf,repeatMode:uf},{toPoint:Jc}=Ws,ta={},ea={};function Dx(e,t){let{from:i,to:s,type:n,blendMode:r,opacity:o}=e;Jc(i||"top",t,ta),Jc(s||"bottom",t,ea);const a=I.canvas.createLinearGradient(ta.x,ta.y,ea.x,ea.y);Lh(a,e.stops,o);const h={type:n,style:a};return r&&(h.blendMode=r),h}function Lh(e,t,i){let s;for(let n=0,r=t.length;n<r;n++)s=t[n],typeof s=="string"?e.addColorStop(n/(r-1),xn.string(s,i)):e.addColorStop(s.offset,xn.string(s.color,i))}const{getAngle:$x,getDistance:Wx}=Y,{get:Fx,rotateOfOuter:Qc,scaleOfOuter:tu}=X,{toPoint:eu}=Ws,Yi={},ia={};function Hx(e,t){let{from:i,to:s,type:n,opacity:r,blendMode:o,stretch:a}=e;eu(i||"center",t,Yi),eu(s||"bottom",t,ia);const h=I.canvas.createRadialGradient(Yi.x,Yi.y,0,Yi.x,Yi.y,Wx(Yi,ia));Lh(h,e.stops,r);const l={type:n,style:h},c=Ah(t,Yi,ia,a,!0);return c&&(l.transform=c),o&&(l.blendMode=o),l}function Ah(e,t,i,s,n){let r;const{width:o,height:a}=e;if(o!==a||s){const h=$x(t,i);r=Fx(),n?(tu(r,t,o/a*(s||1),1),Qc(r,t,h+90)):(tu(r,t,1,o/a*(s||1)),Qc(r,t,h))}return r}const{getDistance:Nx}=Y,{toPoint:iu}=Ws,oi={},sa={};function zx(e,t){let{from:i,to:s,type:n,opacity:r,blendMode:o,stretch:a}=e;iu(i||"center",t,oi),iu(s||"bottom",t,sa);const h=I.conicGradientSupport?I.canvas.createConicGradient(0,oi.x,oi.y):I.canvas.createRadialGradient(oi.x,oi.y,0,oi.x,oi.y,Nx(oi,sa));Lh(h,e.stops,r);const l={type:n,style:h},c=Ah(t,oi,sa,a||1,I.conicGradientRotate90);return c&&(l.transform=c),o&&(l.blendMode=o),l}const jx={linearGradient:Dx,radialGradient:Hx,conicGradient:zx,getTransform:Ah},{copy:su,toOffsetOutBounds:Ux}=F,se={},hr={};function Gx(e,t,i){let s,n;const{__nowWorld:r,__layout:o}=e,{shadow:a}=e.__,{worldCanvas:h,bounds:l,shapeBounds:c,scaleX:_,scaleY:f}=i,u=t.getSameCanvas(),g=a.length-1;Ux(l,hr),a.forEach((m,B)=>{u.setWorldShadow(hr.offsetX+m.x*_,hr.offsetY+m.y*f,m.blur*_,m.color),n=m.spread?1+m.spread*2/(o.boxBounds.width+(o.strokeBoxSpread||0)*2):0,_f(u,hr,n,i),s=l,m.box&&(u.restore(),u.save(),h&&(u.copyWorld(u,l,r,"copy"),s=r),h?u.copyWorld(h,r,r,"destination-out"):u.copyWorld(i.canvas,c,l,"destination-out")),e.__worldFlipped?t.copyWorldByReset(u,s,r,m.blendMode):t.copyWorldToInner(u,s,o.renderBounds,m.blendMode),g&&B<g&&u.clearWorld(s,!0)}),u.recycle(s)}function _f(e,t,i,s){const{bounds:n,shapeBounds:r}=s;if(I.fullImageShadow){if(su(se,e.bounds),se.x+=t.x-r.x,se.y+=t.y-r.y,i){const{matrix:o}=s;se.x-=(n.x+(o?o.e:0)+n.width/2)*(i-1),se.y-=(n.y+(o?o.f:0)+n.height/2)*(i-1),se.width*=i,se.height*=i}e.copyWorld(s.canvas,e.bounds,se)}else i&&(su(se,t),se.x-=t.width/2*(i-1),se.y-=t.height/2*(i-1),se.width*=i,se.height*=i),e.copyWorld(s.canvas,r,i?se:t)}const{toOffsetOutBounds:Vx}=F,lr={};function Yx(e,t,i){let s,n;const{__nowWorld:r,__layout:o}=e,{innerShadow:a}=e.__,{worldCanvas:h,bounds:l,shapeBounds:c,scaleX:_,scaleY:f}=i,u=t.getSameCanvas(),g=a.length-1;Vx(l,lr),a.forEach((m,B)=>{u.save(),u.setWorldShadow(lr.offsetX+m.x*_,lr.offsetY+m.y*f,m.blur*_),n=m.spread?1-m.spread*2/(o.boxBounds.width+(o.strokeBoxSpread||0)*2):0,_f(u,lr,n,i),u.restore(),h?(u.copyWorld(u,l,r,"copy"),u.copyWorld(h,r,r,"source-out"),s=r):(u.copyWorld(i.canvas,c,l,"source-out"),s=l),u.fillWorld(s,m.color,"source-in"),e.__worldFlipped?t.copyWorldByReset(u,s,r,m.blendMode):t.copyWorldToInner(u,s,o.renderBounds,m.blendMode),g&&B<g&&u.clearWorld(s,!0)}),u.recycle(s)}function Kx(e,t,i){const{blur:s}=e.__;i.setWorldBlur(s*e.__nowWorld.a),i.copyWorldToInner(t,e.__nowWorld,e.__layout.renderBounds),i.filter="none"}function Xx(e,t,i){}const qx={shadow:Gx,innerShadow:Yx,blur:Kx,backgroundBlur:Xx},{excludeRenderBounds:Zx}=Vr;Ze.prototype.__renderMask=function(e,t){let i,s,n,r,o;const{children:a}=this;for(let h=0,l=a.length;h<l;h++)i=a[h],!(i.__.mask&&(o&&(nu(this,o,e,n,s,r),s=n=null),i.__.mask==="path"?(i.opacity<1?(o="opacity-path",r=i.opacity,n||(n=na(e))):(o="path",e.save()),i.__clip(n||e,t)):(o="alpha",s||(s=na(e)),n||(n=na(e)),i.__render(s,t)),i.__.mask!=="clipping"))&&(Zx(i,t)||i.__render(n||e,t));nu(this,o,e,n,s,r)};function nu(e,t,i,s,n,r){switch(t){case"alpha":Jx(e,i,s,n);break;case"opacity-path":pf(e,i,s,r);break;case"path":i.restore()}}function na(e){return e.getSameCanvas(!1,!0)}function Jx(e,t,i,s){const n=e.__nowWorld;i.resetTransform(),i.opacity=1,i.useMask(s,n),s.recycle(n),pf(e,t,i,1)}function pf(e,t,i,s){const n=e.__nowWorld;t.resetTransform(),t.opacity=s,t.copyWorld(i,n),i.recycle(n)}const Qx="",tb="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz",eb=""+Qx,ib="",sb="",nb="",rb=`{[(<'"`+eb,gf=`>)]}%!?,.:;'"`+ib,ob=gf+"_#~&*+\\=|"+sb,ab="- "+nb,hb=[[19968,40959],[13312,19903],[131072,173791],[173824,177983],[177984,178207],[178208,183983],[183984,191471],[196608,201551],[201552,205743],[11904,12031],[12032,12255],[12272,12287],[12288,12351],[12736,12783],[12800,13055],[13056,13311],[63744,64255],[65072,65103],[127488,127743],[194560,195103]],lb=new RegExp(hb.map(([e,t])=>`[\\u${e.toString(16)}-\\u${t.toString(16)}]`).join("|"));function In(e){const t={};return e.split("").forEach(i=>t[i]=!0),t}const cb=In(tb),ub=In(rb),db=In(gf),fb=In(ob),_b=In(ab);var Tr;(function(e){e[e.Letter=0]="Letter",e[e.Single=1]="Single",e[e.Before=2]="Before",e[e.After=3]="After",e[e.Symbol=4]="Symbol",e[e.Break=5]="Break"})(Tr||(Tr={}));const{Letter:ru,Single:pb,Before:gb,After:yb,Symbol:mb,Break:wb}=Tr;function xb(e){return cb[e]?ru:_b[e]?wb:ub[e]?gb:db[e]?yb:fb[e]?mb:lb.test(e)?pb:ru}const bb={trimRight(e){const{words:t}=e;let i=0,s=t.length,n;for(let r=s-1;r>-1&&(n=t[r].data[0],n.char===" ");r--)i++,e.width-=n.width;i&&t.splice(s-i,i)}};function vb(e,t,i){switch(t){case"title":return i?e.toUpperCase():e;case"upper":return e.toUpperCase();case"lower":return e.toLowerCase();default:return e}}const{trimRight:Rb}=bb,{Letter:ra,Single:tn,Before:ou,After:oa,Symbol:Cb,Break:au}=Tr;let _n,Ue,Qt,Ge,aa,Pe,ai,Sn,Is,ye,Ri,ha,en,Cs,Na,vs=[],za;function Eb(e,t,i){Na=e,vs=e.rows,za=e.bounds;const{__letterSpacing:s,paraIndent:n,textCase:r}=i,{canvas:o}=I,{width:a,height:h}=za;if(a||h||s||r!=="none"){const c=i.textWrap!=="none",_=i.textWrap==="break";Cs=!0,Ri=null,Sn=ai=Is=Qt=Ge=0,_n={data:[]},Ue={words:[]};for(let f=0,u=t.length;f<u;f++)Pe=t[f],Pe===`
`?(Qt&&Ki(),Ue.paraEnd=!0,sn(),Cs=!0):(ye=xb(Pe),ye===ra&&r!=="none"&&(Pe=vb(Pe,r,!Qt)),ai=o.measureText(Pe).width,s&&(s<0&&(Is=ai),ai+=s),ha=ye===tn&&(Ri===tn||Ri===ra)||Ri===tn&&ye!==oa,en=(ye===ou||ye===tn)&&(Ri===Cb||Ri===oa),aa=Cs&&n?a-n:a,c&&a&&Ge+Qt+ai>aa&&(_?(Qt&&Ki(),Ge&&sn()):(en||(en=ye===ra&&Ri==oa),(ha||en||ye===au||ye===ou||ye===tn||Qt+ai>aa)&&Qt&&Ki(),Ge&&sn())),Pe===" "&&Cs!==!0&&Ge+Qt===0||(ye===au?(Pe===" "&&Qt&&Ki(),la(Pe,ai),Ki()):((ha||en)&&Qt&&Ki(),la(Pe,ai))),Ri=ye);Qt&&Ki(),Ge&&sn(),vs.length>0&&(vs[vs.length-1].paraEnd=!0)}else t.split(`
`).forEach(c=>{Na.paraNumber++,vs.push({x:n||0,text:c,width:o.measureText(c).width,paraStart:!0})})}function la(e,t){Is&&!Sn&&(Sn=Is),_n.data.push({char:e,width:t}),Qt+=t}function Ki(){Ge+=Qt,_n.width=Qt,Ue.words.push(_n),_n={data:[]},Qt=0}function sn(){Cs&&(Na.paraNumber++,Ue.paraStart=!0,Cs=!1),Is&&(Ue.startCharSize=Sn,Ue.endCharSize=Is,Sn=0),Ue.width=Ge,za.width&&Rb(Ue),vs.push(Ue),Ue={words:[]},Ge=0}const Sb=0,hu=1,lu=2;function Bb(e,t,i,s){const{rows:n}=e,{textAlign:r,paraIndent:o,letterSpacing:a}=t;let h,l,c,_,f;n.forEach(u=>{u.words&&(c=o&&u.paraStart?o:0,l=i&&r==="justify"&&u.words.length>1?(i-u.width-c)/(u.words.length-1):0,_=a||u.isOverflow?Sb:l>.01?hu:lu,u.isOverflow&&!a&&(u.textMode=!0),_===lu?(u.x+=c,Pb(u)):(u.x+=c,h=u.x,u.data=[],u.words.forEach(g=>{_===hu?(f={char:"",x:h},h=Tb(g.data,h,f),(u.isOverflow||f.char!==" ")&&u.data.push(f)):h=kb(g.data,h,u.data,u.isOverflow),!u.paraEnd&&l&&(h+=l,u.width+=l)})),u.words=null)})}function Pb(e){e.text="",e.words.forEach(t=>{t.data.forEach(i=>{e.text+=i.char})})}function Tb(e,t,i){return e.forEach(s=>{i.char+=s.char,t+=s.width}),t}function kb(e,t,i,s){return e.forEach(n=>{(s||n.char!==" ")&&(n.x=t,i.push(n)),t+=n.width}),t}function Ob(e,t){const{rows:i,bounds:s}=e,{__lineHeight:n,__baseLine:r,__letterSpacing:o,__clipText:a,textAlign:h,verticalAlign:l,paraSpacing:c}=t;let{x:_,y:f,width:u,height:g}=s,m=n*i.length+(c?c*(e.paraNumber-1):0),B=r;if(a&&m>g)m=Math.max(g,n),e.overflow=i.length;else switch(l){case"middle":f+=(g-m)/2;break;case"bottom":f+=g-m}B+=f;let b,x,v;for(let k=0,W=i.length;k<W;k++){if(b=i[k],b.x=_,b.width<u||b.width>u&&!a)switch(h){case"center":b.x+=(u-b.width)/2;break;case"right":b.x+=u-b.width}b.paraStart&&c&&k>0&&(B+=c),b.y=B,B+=n,e.overflow>k&&B>m&&(b.isOverflow=!0,e.overflow=k+1),x=b.x,v=b.width,o<0&&(b.width<0?(v=-b.width+t.fontSize+o,x-=v,v+=t.fontSize):v-=o),x<s.x&&(s.x=x),v>s.width&&(s.width=v),a&&u&&u<v&&(b.isOverflow=!0,e.overflow||(e.overflow=i.length))}s.y=f,s.height=m}function Mb(e,t,i,s){if(!s)return;const{rows:n,overflow:r}=e;let{textOverflow:o}=t;if(n.splice(r),o&&o!=="show"){o==="hide"?o="":o==="ellipsis"&&(o="...");let a,h;const l=o?I.canvas.measureText(o).width:0,c=i+s-l;(t.textWrap==="none"?n:[n[r-1]]).forEach(f=>{if(f.isOverflow&&f.data){let u=f.data.length-1;for(let g=u;g>-1&&(a=f.data[g],h=a.x+a.width,!(g===u&&h<c));g--){if(h<c&&a.char!==" "){f.data.splice(g+1),f.width-=a.width;break}f.width-=a.width}f.width+=l,f.data.push({char:o,x:h}),f.textMode&&Lb(f)}})}}function Lb(e){e.text="",e.data.forEach(t=>{e.text+=t.char}),e.data=null}function Ab(e,t){const{fontSize:i}=t;switch(e.decorationHeight=i/11,t.textDecoration){case"under":e.decorationY=i*.15;break;case"delete":e.decorationY=-i*.35}}const{top:ja,right:yf,bottom:mf,left:Ua}=ka;function Ib(e,t){typeof e!="string"&&(e=String(e));let i=0,s=0,n=t.__getInput("width")||0,r=t.__getInput("height")||0;const{textDecoration:o,__font:a,__padding:h}=t;h&&(n&&(i=h[Ua],n-=h[yf]+h[Ua]),r&&(s=h[ja],r-=h[ja]+h[mf]));const l={bounds:{x:i,y:s,width:n,height:r},rows:[],paraNumber:0,font:I.canvas.font=a};return Eb(l,e,t),h&&Db(h,l,t,n,r),Ob(l,t),Bb(l,t,n),l.overflow&&Mb(l,t,i,n),o!=="none"&&Ab(l,t),l}function Db(e,t,i,s,n){if(!s)switch(i.textAlign){case"left":cr(t,"x",e[Ua]);break;case"right":cr(t,"x",-e[yf])}if(!n)switch(i.verticalAlign){case"top":cr(t,"y",e[ja]);break;case"bottom":cr(t,"y",-e[mf])}}function cr(e,t,i){const{bounds:s,rows:n}=e;s[t]+=i;for(let r=0;r<n.length;r++)n[r][t]+=i}const $b={getDrawData:Ib};function Wb(e,t){if(typeof e=="string")return e;let i=e.a===void 0?1:e.a;t&&(i*=t);const s=e.r+","+e.g+","+e.b;return i===1?"rgb("+s+")":"rgba("+s+","+i+")"}const Fb={string:Wb},{setPoint:Hb,addPoint:Nb,toBounds:zb}=Pn;function jb(e){const{width:t,height:i}=e.view,{data:s}=e.context.getImageData(0,0,t,i);let n,r,o,a=0;for(let l=0;l<s.length;l+=4)s[l+3]!==0&&(n=a%t,r=(a-n)/t,o?Nb(o,n,r):Hb(o={},n,r)),a++;const h=new Pt;return zb(o,h),h.scale(1/e.pixelRatio).ceil()}const Ub={export(e,t,i){this.running=!0;const s=fi.fileType(t);return i=fi.getExportOptions(i),Gb(n=>new Promise(r=>{const o=c=>{n(c),r(),this.running=!1},{toURL:a}=I,{download:h}=I.origin;if(t==="json")return o({data:e.toJSON(i.json)});if(s==="json")return h(a(JSON.stringify(e.toJSON(i.json)),"text"),t),o({data:!0});if(t==="svg")return o({data:e.toSVG()});if(s==="svg")return h(a(e.toSVG(),"svg"),t),o({data:!0});const{leafer:l}=e;l?(wf(e),l.waitViewCompleted(()=>Mh(this,void 0,void 0,function*(){let c,_,f=1,u=1;const{worldTransform:g,isLeafer:m,isFrame:B}=e,{slice:b,trim:x,onCanvas:v}=i;let k=i.scale||1,W=i.pixelRatio||1;const L=i.smooth===void 0?l.config.smooth:i.smooth,G=i.contextSettings||l.config.contextSettings;e.isApp&&(k*=W,W=e.app.pixelRatio);const q=i.screenshot||e.isApp,mt=m&&q&&i.fill===void 0?e.fill:i.fill,ht=fi.isOpaqueImage(t)||mt,ot=new Li;if(q)c=q===!0?m?l.canvas.bounds:e.worldRenderBounds:q;else{let nt=i.relative||(m?"inner":"local");switch(f=g.scaleX,u=g.scaleY,nt){case"inner":ot.set(g);break;case"local":ot.set(g).divide(e.localTransform),f/=e.scaleX,u/=e.scaleY;break;case"world":f=1,u=1;break;case"page":nt=e.leafer;default:ot.set(g).divide(e.getTransform(nt));const Wt=nt.worldTransform;f/=f/Wt.scaleX,u/=u/Wt.scaleY}c=e.getBounds("render",nt)}const{x:_t,y:st,width:wt,height:pt}=new Pt(c).scale(k);let H=It.canvas({width:Math.round(wt),height:Math.round(pt),pixelRatio:W,smooth:L,contextSettings:G});const V={matrix:ot.scale(1/k).invert().translate(-_t,-st).withScale(1/f*k,1/u*k)};if(b&&(e=l,V.bounds=H.bounds),H.save(),B&&mt!==void 0){const nt=e.get("fill");e.fill="",e.__render(H,V),e.fill=nt}else e.__render(H,V);if(H.restore(),x){_=jb(H);const nt=H,{width:Wt,height:Ot}=_,Mt={x:0,y:0,width:Wt,height:Ot,pixelRatio:W};H=It.canvas(Mt),H.copyWorld(nt,_,Mt)}ht&&H.fillWorld(H.bounds,mt||"#FFFFFF","destination-over"),v&&v(H);const U=t==="canvas"?H:yield H.export(t,i);o({data:U,width:H.pixelWidth,height:H.pixelHeight,renderBounds:c,trimBounds:_})}))):o({data:!1})}))}};let ca;function Gb(e){return ca||(ca=new Aa),new Promise(t=>{ca.add(()=>Mh(this,void 0,void 0,function*(){return yield e(t)}),{parallel:!1})})}function wf(e){e.__.__needComputePaint&&e.__.__computePaint(),e.isBranch&&e.children.forEach(t=>wf(t))}const Zr=bh.prototype,xf=ft.get("@leafer-ui/export");Zr.export=function(e,t){const{quality:i,blob:s}=fi.getExportOptions(t);return e.includes(".")?this.saveAs(e,i):s?this.toBlob(e,i):this.toDataURL(e,i)};Zr.toBlob=function(e,t){return new Promise(i=>{I.origin.canvasToBolb(this.view,e,t).then(s=>{i(s)}).catch(s=>{xf.error(s),i(null)})})};Zr.toDataURL=function(e,t){return I.origin.canvasToDataURL(this.view,e,t)};Zr.saveAs=function(e,t){return new Promise(i=>{I.origin.canvasSaveAs(this.view,e,t).then(()=>{i(!0)}).catch(s=>{xf.error(s),i(!1)})})};Object.assign(Gd,$b);Object.assign(xn,Fb);Object.assign(zt,Ex);Object.assign(os,Ix);Object.assign(xr,jx);Object.assign(Da,qx);Object.assign(bn,Ub);Object.assign(It,{interaction:(e,t,i,s)=>new fx(e,t,i,s),hitCanvas:(e,t)=>new rf(e,t),hitCanvasManager:()=>new Hw});Yw();const{M:Vb,L:Yb,C:Kb,Q:Xb,Z:qb,N:Zb,D:Jb,X:Qb,G:cu,F:uu,O:tv,P:ev,U:iv}=Ce,Ih={scale(e,t,i){if(!e)return;let s,n=0,r=e.length;for(;n<r;)switch(s=e[n],s){case Vb:me(e,t,i,n,1),n+=3;break;case Yb:me(e,t,i,n,1),n+=3;break;case Kb:me(e,t,i,n,3),n+=7;break;case Xb:me(e,t,i,n,2),n+=5;break;case qb:n+=1;break;case Zb:me(e,t,i,n,2),n+=5;break;case Jb:me(e,t,i,n,2),n+=9;break;case Qb:me(e,t,i,n,2),n+=6;break;case cu:me(e,t,i,n,2),n+=9;break;case uu:me(e,t,i,n,2),n+=5;break;case tv:e[n]=cu,e.splice(n+4,0,e[n+3],0),me(e,t,i,n,2),n+=9,r+=2;break;case ev:e[n]=uu,e.splice(n+4,0,e[n+3]),me(e,t,i,n,2),n+=5,r+=1;break;case iv:me(e,t,i,n,2),n+=6;break}},scalePoints(e,t,i,s,n){for(let r=n?s+1:0,o=n?r+n*2:e.length;r<o;r+=2)e[r]*=t,e[r+1]*=i}},{scalePoints:me}=Ih,ua=X.get();function Jr(e,t,i){e.pathInputed?Qr(e,t,i):(t!==1&&(e.width*=t),i!==1&&(e.height*=i))}function sv(e,t,i){const{width:s,height:n}=e.__localBoxBounds;t!==1?(e.fontSize*=t,e.y-=n*(t-i)/2):i!==1&&(e.fontSize*=i,e.x-=s*(i-t)/2)}function Qr(e,t,i){Ih.scale(e.__.path,t,i),e.path=e.__.path}function bf(e,t,i){Ih.scalePoints(e.__.points,t,i),e.points=e.__.points}function Ga(e,t,i){const{children:s}=e;for(let n=0;n<s.length;n++)ua.a=t,ua.d=i,s[n].transform(ua,!0)}const to=rs.prototype;to.scaleResize=function(e,t=e,i){const s=this;i||s.editConfig&&s.editConfig.editSize==="scale"?(s.scaleX*=e,s.scaleY*=t):(e<0&&(s.scaleX*=-1,e=-e),t<0&&(s.scaleY*=-1,t=-t),this.__scaleResize(e,t))};to.__scaleResize=function(e,t){Jr(this,e,t)};to.resizeWidth=function(e){const t=e/this.getBounds("box","local").width;this.scaleOf(this.__layout.boxBounds,t,this.__.lockRatio?t:1,!0)};to.resizeHeight=function(e){const t=e/this.getBounds("box","local").height;this.scaleOf(this.__layout.boxBounds,this.__.lockRatio?t:1,t,!0)};vt.prototype.__scaleResize=function(e,t){this.__.__autoSize&&(this.__.resizeFontSize||this.editConfig&&this.editConfig.editSize==="font-size")?sv(this,e,t):Jr(this,e,t)};As.prototype.__scaleResize=function(e,t){Qr(this,e,t)};Je.prototype.__scaleResize=function(e,t){this.pathInputed?Qr(this,e,t):this.points?bf(this,e,t):this.width*=e};gi.prototype.__scaleResize=function(e,t){this.pathInputed?Qr(this,e,t):this.points?bf(this,e,t):Jr(this,e,t)};Ze.prototype.__scaleResize=function(e,t){Ga(this,e,t)};Ft.prototype.__scaleResize=function(e,t){this.__.__autoSize&&this.children.length?Ga(this,e,t):(Jr(this,e,t),this.__.resizeChildren&&Ga(this,e,t))};function da(e,t,i,s){var n,r=arguments.length,o=r<3?t:s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o}let ve=class extends Ft{get __tag(){return"Flow"}constructor(e){super(e),this.__hasAutoLayout=!0}};da([Yt(class extends Eh{})],ve.prototype,"__",void 0),da([jr("x")],ve.prototype,"flow",void 0),ve=da([Kt()],ve);const fa={},vf={"top-left":"from",top:"center","top-right":"to",right:"to","bottom-right":"to",bottom:"center","bottom-left":"from",left:"from",center:"center","baseline-left":"from","baseline-center":"center","baseline-right":"to"},Rf={"top-left":"from",top:"from","top-right":"from",right:"center","bottom-right":"to",bottom:"to","bottom-left":"to",left:"center",center:"center","baseline-left":"to","baseline-center":"to","baseline-right":"to"};function kr(e,t,i){Sd.toPoint(i,t,e.__layout.contentBounds,fa);const s=e.__;t.x=s.__autoWidth?0:fa.x,t.y=s.__autoHeight?0:fa.y}const{move:nv}=Y;function du(e,t,i,s,n,r){const{children:o}=e;let a,h,{x:l,start:c}=t,_=s;l+=i;for(let f=0,u=t.count;f<u;f++)a=o[r?c-f:c+f],a.__.inFlow&&a.__.visible!==0?(h=a.__flowBounds,n!=="from"&&(_=s+(t.height-h.height)/(n==="center"?2:1)),nv(a,l-h.x,_-h.y),l+=h.width+t.gap):u++}function Or(e,t,i){const s=i==="width"?"height":"width";e[i]=Math.max(e[i],t[i]),e[s]+=e.count?t[s]+e.gap:t[s],e.list.push(t),e.count++}const Et={};function Cf(e,t){const{gap:i,flowAlign:s,flowWrap:n,__autoWidth:r,__autoHeight:o}=e.__,a=n&&(t?!r:!o);return typeof i=="object"?(Et.xGap=i.x||0,Et.yGap=i.y||0):Et.xGap=Et.yGap=i,Et.isAutoXGap=typeof Et.xGap=="string"&&!r,Et.isAutoYGap=typeof Et.yGap=="string"&&!o,Et.complex=a||s!=="top-left"||e.__hasGrow||Et.isAutoXGap||Et.isAutoYGap,Et.wrap=a,Et.complex&&(Et.isFitXGap=Et.xGap==="fit"&&!r,Et.isFitYGap=Et.yGap==="fit"&&!o,typeof s=="object"?(Et.contentAlign=s.content||"top-left",Et.rowXAlign=s.x||"from",Et.rowYAlign=s.y||"from"):(Et.contentAlign=s,Et.rowXAlign=vf[s],Et.rowYAlign=Rf[s])),Et}function Mr(e,t){return{x:0,y:0,width:0,height:0,gap:t,start:e,count:0,grow:0}}function Ts(e,t,i,s){const{count:n}=e;n>1&&(i>e[t]||s)&&(e.gap=(i-e[t])/(n-1),e[t]=i)}function Ef(e,t){return t==="box"?e.__local:e.__layout.localStrokeBounds}const{within:rv}=Ee;function fu(e,t,i,s){let n,r,o,a=0,h=t.hasRangeSize&&[],{grow:l,start:c}=t;const _=t.width<i?(i-t.width)/l:0,{children:f}=e;_&&(t.width=i);for(let u=0,g=t.count;u<g;u++)n=f[s?c-u:c+u],n.__.inFlow&&n.__.visible!==0?(r=n.__widthGrow)&&(o=Va(n,n.__flowBounds,_*r),o?(a+=o,l-=r):h&&(n.__.widthRange?h.unshift(n):h.push(n))):g++;a&&function(u,g,m){let B,b,x,v;u.forEach(k=>{B=k.__widthGrow,b=g/m*B,v=Va(k,x=k.__flowBounds,x.width+b),g-=b-v,m-=B})}(h,a,l)}function Va(e,t,i){const{widthRange:s,lockRatio:n}=e.__,r=s?rv(i,s.min,s.max):i,o=r/t.width;return e.scaleResize(o,n?o:1),t.width=r,i-r}const{within:ov}=Ee;function _u(e,t,i,s){let n,r,o,a=0,h=t.hasRangeSize&&[],{grow:l,start:c}=t;const _=t.height<i?(i-t.height)/l:0,{children:f}=e;_&&(t.height=i);for(let u=0,g=t.count;u<g;u++)n=f[s?c-u:c+u],n.__.inFlow&&n.__.visible!==0?(r=n.__heightGrow)&&(o=Ya(n,n.__flowBounds,_*r),o?(a+=o,l-=r):h&&(n.__.heightRange?h.unshift(n):h.push(n))):g++;a&&function(u,g,m){let B,b,x,v;u.forEach(k=>{B=k.__heightGrow,b=g/m*B,v=Ya(k,x=k.__flowBounds,x.height+b),g-=b-v,m-=B})}(h,a,l)}function Ya(e,t,i){const{heightRange:s,lockRatio:n}=e.__,r=s?ov(i,s.min,s.max):i,o=r/t.height;return e.scaleResize(n?o:1,o),t.height=r,i-r}const{move:av}=Y,{move:hv}=Y;function pu(e,t,i,s,n,r){const{children:o}=e;let a,h,{y:l,start:c}=t,_=i;l+=s;for(let f=0,u=t.count;f<u;f++)a=o[r?c-f:c+f],a.__.inFlow&&a.__.visible!==0?(h=a.__flowBounds,n!=="from"&&(_=i+(t.width-h.width)/(n==="center"?2:1)),hv(a,_-h.x,l-h.y),l+=h.height+t.gap):u++}const{move:lv}=Y;function gu(e){return Tt(e,t=>({set(i){const s=typeof i=="number"?i:0;t==="autoWidth"?this.__widthGrow=s:this.__heightGrow=s,!s||this.parent&&this.parent.__hasGrow||this.waitParent(()=>{this.parent.__hasGrow=!0}),this.__setAttr(t,i)&&Hs(this)}}))}const{copyAndSpread:cv}=F;let yu=function(e,t){const i="width",{children:s,itemBox:n}=e,r=Cf(e,!0),{complex:o,wrap:a,xGap:h,yGap:l,isAutoXGap:c,isFitXGap:_}=r;if(!s.length)return;const f=a&&{x:0,y:0,width:0,height:0,gap:0,count:0,list:[]},u=c?0:h;let g,m,B,b,x,{x:v,y:k,width:W,height:L}=e.__layout.contentBounds;for(let G=0,q=s.length;G<q;G++)g=s[b=t?q-1-G:G],g.__.inFlow&&g.__.visible!==0&&(m=Ef(g,n),o?(g.__flowBounds=m,x||(x=Mr(b,u)),a&&x.count&&x.width+m.width>W&&(x.grow?fu(e,x,W,t):c&&Ts(x,i,W,_),Or(f,x,i),x=Mr(b,u)),B=m.width,g.__widthGrow&&(x.grow+=g.__widthGrow,B=0,g.__.widthRange&&(x.hasRangeSize=!0)),g.__heightGrow&&Ya(g,m,L),x.width+=x.count?B+u:B,x.height=Math.max(x.height,m.height),x.count++):(av(g,v-m.x,k-m.y),v+=m.width+u));if(o){const{isAutoYGap:G,isFitYGap:q,contentAlign:mt,rowXAlign:ht,rowYAlign:ot}=r;x.count&&(x.grow?fu(e,x,W,t):c&&Ts(x,i,W,_),a&&Or(f,x,i)),a?(G?Ts(f,"height",L,q):f.gap=l,function(_t,st,wt,pt){kr(_t,st,wt);const{list:H}=st;if(H.length>1&&(pt||(pt=vf[wt]),pt!=="from")){let V;for(let U=0,nt=H.length;U<nt;U++)V=H[U],V.x=st.width-V.width,pt==="center"&&(V.x/=2)}}(e,f,mt,ht),function(_t,st,wt,pt){const{list:H}=st,V=_t.__.flowWrap==="reverse";let U,{x:nt,y:Wt}=st;for(let Ot=0,Mt=H.length;Ot<Mt;Ot++)U=H[V?Mt-1-Ot:Ot],du(_t,U,nt,Wt,wt,pt),Wt+=U.height+st.gap}(e,f,ot,t)):(kr(e,x,mt),du(e,x,0,x.y,ot,t))}},mu=function(e,t){const i="height",{children:s,itemBox:n}=e,r=Cf(e,!1),{complex:o,wrap:a,xGap:h,yGap:l,isAutoYGap:c,isFitYGap:_}=r;if(!s.length)return;const f=a&&{x:0,y:0,width:0,height:0,gap:0,count:0,list:[]},u=c?0:l;let g,m,B,b,x,{x:v,y:k,width:W,height:L}=e.__layout.contentBounds;for(let G=0,q=s.length;G<q;G++)g=s[b=t?q-1-G:G],g.__.inFlow&&g.__.visible!==0&&(m=Ef(g,n),o?(g.__flowBounds=m,x||(x=Mr(b,u)),a&&x.count&&x.height+m.height>L&&(x.grow&&_u(e,x,L,t),c&&Ts(x,i,L,_),Or(f,x,i),x=Mr(b,u)),B=m.height,g.__heightGrow&&(x.grow+=g.__heightGrow,B=0,g.__.heightRange&&(x.hasRangeSize=!0)),g.__widthGrow&&Va(g,m,W),x.height+=x.count?B+u:B,x.width=Math.max(x.width,m.width),x.count++):(lv(g,v-m.x,k-m.y),k+=m.height+u));if(o){const{isAutoXGap:G,isFitXGap:q,contentAlign:mt,rowXAlign:ht,rowYAlign:ot}=r;x.count&&(x.grow&&_u(e,x,L,t),c&&Ts(x,i,L,_),a&&Or(f,x,i)),a?(G?Ts(f,"width",W,q):f.gap=h,function(_t,st,wt,pt){kr(_t,st,wt);const{list:H}=st;if(H.length>1&&(pt||(pt=Rf[wt]),pt!=="from")){let V;for(let U=0,nt=H.length;U<nt;U++)V=H[U],V.y=st.height-V.height,pt==="center"&&(V.y/=2)}}(e,f,mt,ot),function(_t,st,wt,pt){const{list:H}=st,V=_t.__.flowWrap==="reverse";let U,{x:nt,y:Wt}=st;for(let Ot=0,Mt=H.length;Ot<Mt;Ot++)U=H[V?Mt-1-Ot:Ot],pu(_t,U,nt,Wt,wt,pt),nt+=U.width+st.gap}(e,f,ht,t)):(kr(e,x,mt),pu(e,x,x.x,0,ht,t))}};C.changeAttr("autoWidth",void 0,gu),C.changeAttr("autoHeight",void 0,gu),Ft.prototype.__updateFlowLayout=function(){this.leafer.created=!1;const{flow:e}=this.__;switch(e){case"x":case!0:yu(this);break;case"y":mu(this);break;case"x-reverse":yu(this,!0);break;case"y-reverse":mu(this,!0)}this.leafer.created=!0},Ft.prototype.__updateContentBounds=function(){const{padding:e}=this.__,t=this.__layout,i=t.contentBounds===t.boxBounds;e?(i&&t.shrinkContent(),cv(t.contentBounds,t.boxBounds,e,!0)):i||t.shrinkContentCancel()};function Sf(e){return e.selected||e.disabled||qt.isFocus(e)}function Ka(e){const t=e.__.normalStyle;t&&(e.set(t),e.__.normalStyle=void 0)}function Si(e,t,i){let s;const n=e.__;if(i)s=!Sf(e)&&n[t];else switch(t){case"disabledStyle":s=n[t];break;case"focusStyle":s=!e.disabled&&n[t];break;case"selectedStyle":s=!e.disabled&&!qt.isFocus(e)&&n[t];break}s&&(Ka(e),e.__.normalStyle=e.get(s),e.set(s))}function Xa(e,t,i){i?Sf(e)||(Ka(e),qt.isPress(e)&&e.pressStyle?Si(e,"pressStyle",!0):qt.isHover(e)&&e.hoverStyle&&Si(e,"hoverStyle",!0)):(Ka(e),e.disabledStyle&&e.disabled?Si(e,"disabledStyle"):e.focusStyle&&qt.isFocus(e)?Si(e,"focusStyle"):e.selectedStyle&&e.selected&&Si(e,"selectedStyle"))}function uv(e,t){switch(t){case z.ENTER:Si(e,"hoverStyle",!0);break;case z.LEAVE:Xa(e,"hoverStyle",!0);break;case z.DOWN:Si(e,"pressStyle",!0);break;case z.UP:Xa(e,"pressStyle",!0);break}}qt.isHover=function(e){return e.leafer&&e.leafer.interaction.isHover(e)};qt.isPress=function(e){return e.leafer&&e.leafer.interaction.isPress(e)};qt.isFocus=function(e){return e.leafer&&e.leafer.interaction.isFocus(e)};qt.isDrag=function(e){return e.leafer&&e.leafer.interaction.isDrag(e)};qt.setStyle=function(e,t,i){i?Si(e,t):Xa(e)};qt.updateEventStyle=uv;C.prototype.focus=function(e=!0){this.waitLeafer(()=>{let{focusData:t}=this.app.interaction;e?(t&&t.focus(!1),t=this):t=null,this.app.interaction.focusData=t,qt.setStyle(this,"focusStyle",e)})};const dv="Inter, Helvetica Neue, Helvetica, PingFang SC, Hiragino Sans GB, Microsoft YaHei, , Arial, sans-serif",_a={large:40,default:32,small:24},pn={base:4,small:2,round:20,circle:100},Dt={white:"#ffffff",black:"#000000",primary:"#409eff",success:"#67c23a",warning:"#e6a23c",danger:"#f56c6c",error:"#f56c6c",info:"#909399"},wu={primary:"#303133",regular:"#606266",secondary:"#909399",placeholder:"#a8abb2",disabled:"#c0c4cc"},qa={"":"#dcdfe6",light:"#e4e7ed",lighter:"#ebeef5","extra-light":"#f2f6fc",dark:"#d4d7de",darker:"#cdd0d6"};function Gt(e,t){fv(e)&&(e="100%");const i=_v(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),i&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function ur(e){return Math.min(1,Math.max(0,e))}function fv(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function _v(e){return typeof e=="string"&&e.indexOf("%")!==-1}function Bf(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function dr(e){return Number(e)<=1?`${Number(e)*100}%`:e}function Qi(e){return e.length===1?"0"+e:String(e)}function pv(e,t,i){return{r:Gt(e,255)*255,g:Gt(t,255)*255,b:Gt(i,255)*255}}function xu(e,t,i){e=Gt(e,255),t=Gt(t,255),i=Gt(i,255);const s=Math.max(e,t,i),n=Math.min(e,t,i);let r=0,o=0;const a=(s+n)/2;if(s===n)o=0,r=0;else{const h=s-n;switch(o=a>.5?h/(2-s-n):h/(s+n),s){case e:r=(t-i)/h+(t<i?6:0);break;case t:r=(i-e)/h+2;break;case i:r=(e-t)/h+4;break}r/=6}return{h:r,s:o,l:a}}function pa(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*(6*i):i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function gv(e,t,i){let s,n,r;if(e=Gt(e,360),t=Gt(t,100),i=Gt(i,100),t===0)n=i,r=i,s=i;else{const o=i<.5?i*(1+t):i+t-i*t,a=2*i-o;s=pa(a,o,e+1/3),n=pa(a,o,e),r=pa(a,o,e-1/3)}return{r:s*255,g:n*255,b:r*255}}function bu(e,t,i){e=Gt(e,255),t=Gt(t,255),i=Gt(i,255);const s=Math.max(e,t,i),n=Math.min(e,t,i);let r=0;const o=s,a=s-n,h=s===0?0:a/s;if(s===n)r=0;else{switch(s){case e:r=(t-i)/a+(t<i?6:0);break;case t:r=(i-e)/a+2;break;case i:r=(e-t)/a+4;break}r/=6}return{h:r,s:h,v:o}}function yv(e,t,i){e=Gt(e,360)*6,t=Gt(t,100),i=Gt(i,100);const s=Math.floor(e),n=e-s,r=i*(1-t),o=i*(1-n*t),a=i*(1-(1-n)*t),h=s%6,l=[i,o,r,r,a,i][h],c=[a,i,i,o,r,r][h],_=[r,r,a,i,i,o][h];return{r:l*255,g:c*255,b:_*255}}function vu(e,t,i,s){const n=[Qi(Math.round(e).toString(16)),Qi(Math.round(t).toString(16)),Qi(Math.round(i).toString(16))];return s&&n[0].startsWith(n[0].charAt(1))&&n[1].startsWith(n[1].charAt(1))&&n[2].startsWith(n[2].charAt(1))?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function mv(e,t,i,s,n){const r=[Qi(Math.round(e).toString(16)),Qi(Math.round(t).toString(16)),Qi(Math.round(i).toString(16)),Qi(xv(s))];return n&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))&&r[3].startsWith(r[3].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}function wv(e,t,i,s){const n=e/100,r=t/100,o=i/100,a=s/100,h=255*(1-n)*(1-a),l=255*(1-r)*(1-a),c=255*(1-o)*(1-a);return{r:h,g:l,b:c}}function Ru(e,t,i){let s=1-e/255,n=1-t/255,r=1-i/255,o=Math.min(s,n,r);return o===1?(s=0,n=0,r=0):(s=(s-o)/(1-o)*100,n=(n-o)/(1-o)*100,r=(r-o)/(1-o)*100),o*=100,{c:Math.round(s),m:Math.round(n),y:Math.round(r),k:Math.round(o)}}function xv(e){return Math.round(parseFloat(e)*255).toString(16)}function Cu(e){return ue(e)/255}function ue(e){return parseInt(e,16)}function bv(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}const Za={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function vv(e){let t={r:0,g:0,b:0},i=1,s=null,n=null,r=null,o=!1,a=!1;return typeof e=="string"&&(e=Ev(e)),typeof e=="object"&&(ce(e.r)&&ce(e.g)&&ce(e.b)?(t=pv(e.r,e.g,e.b),o=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):ce(e.h)&&ce(e.s)&&ce(e.v)?(s=dr(e.s),n=dr(e.v),t=yv(e.h,s,n),o=!0,a="hsv"):ce(e.h)&&ce(e.s)&&ce(e.l)?(s=dr(e.s),r=dr(e.l),t=gv(e.h,s,r),o=!0,a="hsl"):ce(e.c)&&ce(e.m)&&ce(e.y)&&ce(e.k)&&(t=wv(e.c,e.m,e.y,e.k),o=!0,a="cmyk"),Object.prototype.hasOwnProperty.call(e,"a")&&(i=e.a)),i=Bf(i),{ok:o,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:i}}const Rv="[-\\+]?\\d+%?",Cv="[-\\+]?\\d*\\.\\d+%?",Bi="(?:"+Cv+")|(?:"+Rv+")",ga="[\\s|\\(]+("+Bi+")[,|\\s]+("+Bi+")[,|\\s]+("+Bi+")\\s*\\)?",fr="[\\s|\\(]+("+Bi+")[,|\\s]+("+Bi+")[,|\\s]+("+Bi+")[,|\\s]+("+Bi+")\\s*\\)?",xe={CSS_UNIT:new RegExp(Bi),rgb:new RegExp("rgb"+ga),rgba:new RegExp("rgba"+fr),hsl:new RegExp("hsl"+ga),hsla:new RegExp("hsla"+fr),hsv:new RegExp("hsv"+ga),hsva:new RegExp("hsva"+fr),cmyk:new RegExp("cmyk"+fr),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Ev(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;let t=!1;if(Za[e])e=Za[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};let i=xe.rgb.exec(e);return i?{r:i[1],g:i[2],b:i[3]}:(i=xe.rgba.exec(e),i?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=xe.hsl.exec(e),i?{h:i[1],s:i[2],l:i[3]}:(i=xe.hsla.exec(e),i?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=xe.hsv.exec(e),i?{h:i[1],s:i[2],v:i[3]}:(i=xe.hsva.exec(e),i?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=xe.cmyk.exec(e),i?{c:i[1],m:i[2],y:i[3],k:i[4]}:(i=xe.hex8.exec(e),i?{r:ue(i[1]),g:ue(i[2]),b:ue(i[3]),a:Cu(i[4]),format:t?"name":"hex8"}:(i=xe.hex6.exec(e),i?{r:ue(i[1]),g:ue(i[2]),b:ue(i[3]),format:t?"name":"hex"}:(i=xe.hex4.exec(e),i?{r:ue(i[1]+i[1]),g:ue(i[2]+i[2]),b:ue(i[3]+i[3]),a:Cu(i[4]+i[4]),format:t?"name":"hex8"}:(i=xe.hex3.exec(e),i?{r:ue(i[1]+i[1]),g:ue(i[2]+i[2]),b:ue(i[3]+i[3]),format:t?"name":"hex"}:!1))))))))))}function ce(e){return typeof e=="number"?!Number.isNaN(e):xe.CSS_UNIT.test(e)}class St{constructor(t="",i={}){if(t instanceof St)return t;typeof t=="number"&&(t=bv(t)),this.originalInput=t;const s=vv(t);this.originalInput=t,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=i.format??s.format,this.gradientType=i.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}isDark(){return this.getBrightness()<128}isLight(){return!this.isDark()}getBrightness(){const t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3}getLuminance(){const t=this.toRgb();let i,s,n;const r=t.r/255,o=t.g/255,a=t.b/255;return r<=.03928?i=r/12.92:i=Math.pow((r+.055)/1.055,2.4),o<=.03928?s=o/12.92:s=Math.pow((o+.055)/1.055,2.4),a<=.03928?n=a/12.92:n=Math.pow((a+.055)/1.055,2.4),.2126*i+.7152*s+.0722*n}getAlpha(){return this.a}setAlpha(t){return this.a=Bf(t),this.roundA=Math.round(100*this.a)/100,this}isMonochrome(){const{s:t}=this.toHsl();return t===0}toHsv(){const t=bu(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}}toHsvString(){const t=bu(this.r,this.g,this.b),i=Math.round(t.h*360),s=Math.round(t.s*100),n=Math.round(t.v*100);return this.a===1?`hsv(${i}, ${s}%, ${n}%)`:`hsva(${i}, ${s}%, ${n}%, ${this.roundA})`}toHsl(){const t=xu(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}}toHslString(){const t=xu(this.r,this.g,this.b),i=Math.round(t.h*360),s=Math.round(t.s*100),n=Math.round(t.l*100);return this.a===1?`hsl(${i}, ${s}%, ${n}%)`:`hsla(${i}, ${s}%, ${n}%, ${this.roundA})`}toHex(t=!1){return vu(this.r,this.g,this.b,t)}toHexString(t=!1){return"#"+this.toHex(t)}toHex8(t=!1){return mv(this.r,this.g,this.b,this.a,t)}toHex8String(t=!1){return"#"+this.toHex8(t)}toHexShortString(t=!1){return this.a===1?this.toHexString(t):this.toHex8String(t)}toRgb(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}}toRgbString(){const t=Math.round(this.r),i=Math.round(this.g),s=Math.round(this.b);return this.a===1?`rgb(${t}, ${i}, ${s})`:`rgba(${t}, ${i}, ${s}, ${this.roundA})`}toPercentageRgb(){const t=i=>`${Math.round(Gt(i,255)*100)}%`;return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}}toPercentageRgbString(){const t=i=>Math.round(Gt(i,255)*100);return this.a===1?`rgb(${t(this.r)}%, ${t(this.g)}%, ${t(this.b)}%)`:`rgba(${t(this.r)}%, ${t(this.g)}%, ${t(this.b)}%, ${this.roundA})`}toCmyk(){return{...Ru(this.r,this.g,this.b)}}toCmykString(){const{c:t,m:i,y:s,k:n}=Ru(this.r,this.g,this.b);return`cmyk(${t}, ${i}, ${s}, ${n})`}toName(){if(this.a===0)return"transparent";if(this.a<1)return!1;const t="#"+vu(this.r,this.g,this.b,!1);for(const[i,s]of Object.entries(Za))if(t===s)return i;return!1}toString(t){const i=!!t;t=t??this.format;let s=!1;const n=this.a<1&&this.a>=0;return!i&&n&&(t.startsWith("hex")||t==="name")?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(s=this.toRgbString()),t==="prgb"&&(s=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(s=this.toHexString()),t==="hex3"&&(s=this.toHexString(!0)),t==="hex4"&&(s=this.toHex8String(!0)),t==="hex8"&&(s=this.toHex8String()),t==="name"&&(s=this.toName()),t==="hsl"&&(s=this.toHslString()),t==="hsv"&&(s=this.toHsvString()),t==="cmyk"&&(s=this.toCmykString()),s||this.toHexString())}toNumber(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)}clone(){return new St(this.toString())}lighten(t=10){const i=this.toHsl();return i.l+=t/100,i.l=ur(i.l),new St(i)}brighten(t=10){const i=this.toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(255*-(t/100)))),i.g=Math.max(0,Math.min(255,i.g-Math.round(255*-(t/100)))),i.b=Math.max(0,Math.min(255,i.b-Math.round(255*-(t/100)))),new St(i)}darken(t=10){const i=this.toHsl();return i.l-=t/100,i.l=ur(i.l),new St(i)}tint(t=10){return this.mix("white",t)}shade(t=10){return this.mix("black",t)}desaturate(t=10){const i=this.toHsl();return i.s-=t/100,i.s=ur(i.s),new St(i)}saturate(t=10){const i=this.toHsl();return i.s+=t/100,i.s=ur(i.s),new St(i)}greyscale(){return this.desaturate(100)}spin(t){const i=this.toHsl(),s=(i.h+t)%360;return i.h=s<0?360+s:s,new St(i)}mix(t,i=50){const s=this.toRgb(),n=new St(t).toRgb(),r=i/100,o={r:(n.r-s.r)*r+s.r,g:(n.g-s.g)*r+s.g,b:(n.b-s.b)*r+s.b,a:(n.a-s.a)*r+s.a};return new St(o)}analogous(t=6,i=30){const s=this.toHsl(),n=360/i,r=[this];for(s.h=(s.h-(n*t>>1)+720)%360;--t;)s.h=(s.h+n)%360,r.push(new St(s));return r}complement(){const t=this.toHsl();return t.h=(t.h+180)%360,new St(t)}monochromatic(t=6){const i=this.toHsv(),{h:s}=i,{s:n}=i;let{v:r}=i;const o=[],a=1/t;for(;t--;)o.push(new St({h:s,s:n,v:r})),r=(r+a)%1;return o}splitcomplement(){const t=this.toHsl(),{h:i}=t;return[this,new St({h:(i+72)%360,s:t.s,l:t.l}),new St({h:(i+216)%360,s:t.s,l:t.l})]}onBackground(t){const i=this.toRgb(),s=new St(t).toRgb(),n=i.a+s.a*(1-i.a);return new St({r:(i.r*i.a+s.r*s.a*(1-i.a))/n,g:(i.g*i.a+s.g*s.a*(1-i.a))/n,b:(i.b*i.a+s.b*s.a*(1-i.a))/n,a:n})}triad(){return this.polyad(3)}tetrad(){return this.polyad(4)}polyad(t){const i=this.toHsl(),{h:s}=i,n=[this],r=360/t;for(let o=1;o<t;o++)n.push(new St({h:(s+o*r)%360,s:i.s,l:i.l}));return n}equals(t){const i=new St(t);return this.format==="cmyk"||i.format==="cmyk"?this.toCmykString()===i.toCmykString():this.toRgbString()===i.toRgbString()}}function Eu(e,t=20){return new St(e).mix(Dt.black,t).toString()}function we(e,t=20){return new St(e).mix(Dt.white,t).toString()}function _r(e,t){return new St(e).toString("rgb")===new St(t).toString("rgb")}class Pf extends Ft{constructor(i){super();Fh(this,"props");this.props=this.proxyProps(i),this.render()}proxyProps(i){const s=this;return new Proxy(i,{set(n,r,o){return n[r]=o,s.render(),!0}})}setProps(i){Object.assign(this.props,i)}render(){}}function Sv(){}const Su={large:_a.large,default:_a.default,small:_a.small},Nt={"":Dt.white,primary:Dt.primary,success:Dt.success,warning:Dt.warning,danger:Dt.danger,info:Dt.info},Bu={"":qa[""],primary:Dt.primary,success:Dt.success,warning:Dt.warning,danger:Dt.danger,info:Dt.info},Bv={large:pn.base,default:pn.base,small:pn.small},Pu={large:14,default:14,small:12},Pv={large:[13,20],default:[9,16],small:[6,12]};class Tv extends Pf{constructor(t){super(t)}get __tag(){return"ElButton"}render(){const t=this.props.text||"",i=this.props.size||"default",s=this.props.type||"",n=this.props.plain||!1,r=this.props.round||!1,o=this.props.circle||!1,a=this.props.disabled||!1,h=this.props.onClick||Sv,l=n?we(Nt[s],90):Nt[s],c=s?n?we(Dt[s],50):Dt[s]:qa[""],_=s?n?Nt[s]:we(Nt[s],30):n?Dt.white:we(Nt.primary,90),f=s?n?Nt[s]:we(Nt[s],30):n?Nt.primary:we(Nt.primary,70),u=s?Eu(Nt[s]):n?Dt.white:we(Nt.primary,90),g=s?Eu(Nt[s]):Nt.primary,m=n?we(Nt[s],90):we(Nt[s],50),B=s?n?we(Bu[s],80):we(Bu[s],50):qa.light,b=s?n?Nt[s]:Dt.white:wu.regular,x=s?Dt.white:Nt.primary,v=s?n?we(Nt[s],50):Dt.white:wu.placeholder;this.set({height:Su[i],fill:l,stroke:_r(c,l)?void 0:c,strokeWidth:1,strokeAlign:"inside",cornerRadius:r?pn.round:o?pn.circle:Bv[i],cursor:"pointer",disabled:a,hoverStyle:{fill:_,stroke:_r(f,_)?void 0:f},pressStyle:{fill:u,stroke:_r(g,u)?void 0:g},disabledStyle:{fill:m,stroke:_r(B,m)?void 0:B,cursor:"not-allowed"},children:[{tag:"Text",width:o?Su[i]:void 0,textAlign:o?"center":void 0,text:t,fill:b,fontSize:Pu[i],fontWeight:500,fontFamily:dv,lineHeight:Pu[i],padding:Pv[i],hitBox:!0,disabled:a,hoverStyle:{fill:x},disabledStyle:{fill:v}}]}),this.on(z.CLICK,h)}}const J=Tv;function Tu(e){return Array.isArray(e)?e[0]:e}class kv extends Pf{constructor(t){super(t)}get __tag(){return"ElButtonGroup"}render(){const t=this.props.children||[],i=this.props.size||"";t.length>1&&t.forEach((s,n)=>{if(i&&(s.props.size=i),n===0){const r=Tu(s.cornerRadius);s.cornerRadius=[r,0,0,r]}else if(n===t.length-1){const r=Tu(s.cornerRadius);s.cornerRadius=[0,r,r,0]}else s.cornerRadius=0}),this.set({children:[new ve({gap:1,children:t})]})}}const Ov=kv,Mv=sd({__name:"Play",setup(e){const t=new pi({view:window});function i(){alert("click")}const s=new J({text:"Default",onClick:i}),n=new J({text:"Primary",type:"primary"}),r=new J({text:"Success",type:"success"}),o=new J({text:"Info",type:"info"}),a=new J({text:"Warning",type:"warning"}),h=new J({text:"Danger",type:"danger"}),l=new J({text:"Plain",plain:!0}),c=new J({text:"Primary",type:"primary",plain:!0}),_=new J({text:"Success",type:"success",plain:!0}),f=new J({text:"Info",type:"info",plain:!0}),u=new J({text:"Warning",type:"warning",plain:!0}),g=new J({text:"Danger",type:"danger",plain:!0}),m=new J({text:"Round",round:!0}),B=new J({text:"Primary",type:"primary",round:!0}),b=new J({text:"Success",type:"success",round:!0}),x=new J({text:"Info",type:"info",round:!0}),v=new J({text:"Warning",type:"warning",round:!0}),k=new J({text:"Danger",type:"danger",round:!0}),W=new J({text:"Default",disabled:!0}),L=new J({text:"Primary",type:"primary",disabled:!0}),G=new J({text:"Success",type:"success",disabled:!0}),q=new J({text:"Info",type:"info",disabled:!0}),mt=new J({text:"Warning",type:"warning",disabled:!0}),ht=new J({text:"Danger",type:"danger",disabled:!0}),ot=new J({text:"Plain",plain:!0,disabled:!0}),_t=new J({text:"Primary",type:"primary",plain:!0,disabled:!0}),st=new J({text:"Success",type:"success",plain:!0,disabled:!0}),wt=new J({text:"Info",type:"info",plain:!0,disabled:!0}),pt=new J({text:"Warning",type:"warning",plain:!0,disabled:!0}),H=new J({text:"Danger",type:"danger",plain:!0,disabled:!0}),V=new J({text:"A",circle:!0}),U=new J({text:"B",type:"primary",circle:!0}),nt=new J({text:"C",type:"success",circle:!0}),Wt=new J({text:"D",type:"info",circle:!0}),Ot=new J({text:"E",type:"warning",circle:!0}),Mt=new J({text:"F",type:"danger",circle:!0}),Dn=new J({text:"Previous Page",type:"primary"}),eo=new J({text:"Current Page",type:"primary"}),io=new J({text:"Next Page",type:"primary"}),Se=new Ov({children:[Dn,eo,io]}),ds=new ve({gap:10,children:[s,n,r,o,a,h]}),Ns=new ve({gap:10,children:[l,c,_,f,u,g]}),$n=new ve({gap:10,children:[m,B,b,x,v,k]}),Fi=new ve({gap:10,children:[W,L,G,q,mt,ht]}),Wn=new ve({gap:10,children:[ot,_t,st,wt,pt,H]}),Fn=new ve({gap:10,children:[V,U,nt,Wt,Ot,Mt]}),d=new ve({x:20,y:20,flow:"y",gap:10,children:[ds,Ns,$n,Fi,Wn,Fn,Se]});return t.add(d),()=>{}}}),Lv=sd({__name:"App",setup(e){return(t,i)=>(pp(),mp(Mv))}});ng(Lv).mount("#app");
